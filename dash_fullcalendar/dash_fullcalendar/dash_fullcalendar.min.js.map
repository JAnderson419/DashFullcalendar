{"version":3,"sources":["webpack://dash_fullcalendar/webpack/bootstrap","webpack://dash_fullcalendar/external \"React\"","webpack://dash_fullcalendar/external \"PropTypes\"","webpack://dash_fullcalendar/./node_modules/css-loader/dist/runtime/api.js","webpack://dash_fullcalendar/./node_modules/@fullcalendar/react/node_modules/fast-deep-equal/index.js","webpack://dash_fullcalendar/./src/lib/components/main.scss?386b","webpack://dash_fullcalendar/./src/lib/components/main.scss","webpack://dash_fullcalendar/./node_modules/@fullcalendar/core/main.css","webpack://dash_fullcalendar/./node_modules/@fullcalendar/daygrid/main.css","webpack://dash_fullcalendar/./node_modules/style-loader/lib/addStyles.js","webpack://dash_fullcalendar/./node_modules/style-loader/lib/urls.js","webpack://dash_fullcalendar/./node_modules/@fullcalendar/core/main.esm.js","webpack://dash_fullcalendar/./node_modules/@fullcalendar/react/main.esm.js","webpack://dash_fullcalendar/./node_modules/@fullcalendar/daygrid/main.esm.js","webpack://dash_fullcalendar/./src/lib/components/DashFullCalendar.react.js","webpack://dash_fullcalendar/./src/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","isArray","Array","keyList","keys","hasProp","equal","a","b","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","options","transform","undefined","locals","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_AT_RULE_IMPORT_0___","___CSS_LOADER_AT_RULE_IMPORT_1___","fn","memo","stylesInDom","isOldIE","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","getNonce","addAttrs","el","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","elementPropHash","className","colSpan","rowSpan","containerTagHash","tagName","attrName","applyStyle","innerHTML","appendToElement","htmlToElement","html","container","computeContainerTag","htmlToElements","slice","htmlToNodeList","substr","normalizeContent","prependToElement","newEls","afterEl","insertAfterElement","refEl","Node","removeElement","matchesMethod","Element","matches","matchesSelector","msMatchesSelector","closestMethod","closest","selector","documentElement","contains","elementMatches","parentElement","nodeType","elementClosest","findElements","containers","HTMLElement","allMatches","querySelectorAll","findChildren","parents","children","childNode","PIXEL_PROP_RE","props","propName","applyStyleProp","val","isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","outerEl","position","top","left","border","padding","overflow","direction","body","res","getBoundingClientRect","computeIsRtlScrollbarOnLeft","sanitizeScrollbarWidth","width","Math","max","round","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","parseInt","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","scrollbarLeftRight","offsetWidth","clientWidth","scrollbarBottom","offsetHeight","clientHeight","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeRect","rect","pageXOffset","pageYOffset","right","bottom","computeHeightAndMargins","height","computeVMargins","computed","marginTop","marginBottom","computeClippingRect","overflowY","overflowX","getClippingParents","goWithinPadding","outerRect","edges","computeInnerRect","reduce","rect0","rect1","rect2","min","intersectRects","listenBySelector","eventType","handler","realHandler","ev","matchedChild","addEventListener","removeEventListener","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffDays","m0","m1","valueOf","diffWholeDays","timeAsMs","startOfDay","getUTCFullYear","getUTCMonth","getUTCDate","weekOfGivenYear","marker","year","dow","doy","firstWeekStart","firstWeekOffset","dayStart","days","floor","fwd","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","UTC","isValidDate","isNaN","PARSE_RE","createDuration","input","unit","_a","exec","sign","years","months","milliseconds","parseString","normalizeObject","month","day","getWeeksFromInput","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","durationsEqual","d0","d1","asRoughDays","dur","asRoughMs","greatestDurationDenominator","dontReturnWeeks","distributeHeight","els","availableHeight","shouldRedistribute","minOffset1","minOffset2","flexEls","flexOffsets","flexHeights","usedHeight","undistributeHeight","minOffset","naturalHeight","naturalOffset","newHeight","compareByFieldSpec","obj0","obj1","fieldSpec","func","String","localeCompare","flexibleCompare","field","order","capitaliseFirstLetter","str","charAt","toUpperCase","padStart","len","isInt","applyAll","functions","thisObj","args","ret","firstDefined","debounce","wait","timeout","context","timestamp","later","last","setTimeout","refineProps","rawProps","processors","defaults","leftoverProps","refined","processor","Function","Number","computeAlignedDayRange","timedRange","dayCnt","start","end","computeVisibleDayRange","nextDayThreshold","startDay","endDay","endTimeMS","diffDates","date0","date1","dateEnv","largeUnit","diffWholeYears","diffWholeMonths","m0day","m1day","extendStatics","setPrototypeOf","__proto__","__extends","__","constructor","__assign","assign","expandRecurringRanges","eventDef","duration","framingRange","recurringTypes","markers","recurringDef","typeId","expand","typeData","subtract","allDay","mergeProps","propObjs","complexProps","complexObjs","dest","unshift","filterHash","hash","filtered","mapHash","newHash","arrayToHash","a_1","hashValuesToArray","isPropsEqual","parseEvents","rawEvents","sourceId","calendar","allowOpenRange","eventStore","defs","instances","rawEvents_1","tuple","parseEvent","eventTupleToStore","def","defId","instance","instanceId","expandRecurring","defaultAllDayEventDuration","defaultTimedEventDuration","starts_1","pluginSystem","hooks","createEventInstance","add","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","def0","def1","groupId","transformEachRawEvent","refinedEvents","rawEvents_2","rawEvent","refinedEvent","mergeEventStores","store0","store1","filterFunc","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","range","isArraysEqual","a0","a1","memoize","workerFunc","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","name_1","buildFormattingFunc","format","formatRange","diffSeverity","ca","getMarkerYear","getMarkerMonth","getMarkerDay","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialFormattingFunc","biggestUnit","partialOptions","name_2","computePartialFormattingOptions","partial0","partial1","insertion","i0","found0","before0","after0","i1","found1","before1","after1","after","findCommonInsertion","getLargestUnit","standardDatePropCnt","formatTimeZoneOffset","timeZoneOffset","num","weekLabel","locale","display","simpleNumberFormat","isRtl","reverse","formatWeekNumber","computeWeekNumber","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","tzoStr","replaced","injectTzoStr","toLocaleLowerCase","postProcess","buildNativeFormattingFunc","CmdFormatter","cmdStr","cmdFormatter","createVerboseFormattingArg","FuncFormatter","createFormatter","defaultSeparator","doIso","abs","mins","startInfo","expandZonedMarker","localeCodes","dateInfo","markerToArray","array","EventSourceApi","internalEventSource","dispatch","refetch","sourceIds","publicId","configurable","meta","url","EventApi","_calendar","_def","_instance","setProp","_b","DATE_PROPS","NON_DATE_PROPS","mutate","standardProps","UNSCOPED_EVENT_UI_PROPS","ui","backgroundColor","borderColor","startEditable","durationEditable","setExtendedProp","extendedProps","setStart","startInput","startDelta","granularity","maintainDuration","datesDelta","setEnd","endInput","endDelta","hasEnd","setDates","instanceRange","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","opt","formatInput","formatter","forcedStartTzo","forcedEndTzo","forcedTzo","mutation","fromApi","state","eventSources","toDate","title","rendering","constraints","overlap","allows","textColor","classNames","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","filterSegsViaEls","segs","isMirror","view","hasPublicHandlers","seg","custom","publiclyTrigger","event","eventRange","segs_1","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","uis","combineEventUis","triggerRenderedSegs","isMirrors","segs_2","publiclyTriggerAfterSizing","loadingLevel","afterSizingTriggers","_eventsPositioned","triggerWillRemoveSegs","segs_3","trigger","segs_4","applyMutationToEventDef","eventConfig","appliers","copy","appliers_1","applier","applyMutationToEventInstance","eventInstance","forceAllDay","clearEnd","getDefaultEventEnd","reduceEventStore","action","dateProfile","eventSource","fetchId","fetchRange","latestFetchId","subset","calEachTransform","sourceEachTransform","eventDataTransform","transformRawEvents","excludeEventsBySourceId","receiveRawEvents","expandRange","addEvent","activeRange","oldDateEnv","newDateEnv","canComputeOffset","rezoneDates","relevant","eventConfigBase","eventConfigs","eventDefMutationAppliers","applyMutationToEventStore","applyMutationToRelated","excludeInstances","removals","isNewPropsValid","newProps","businessHours","dateSelection","eventSelection","eventDrag","eventResize","isPropsValid","dateSpanMeta","filterConfig","interaction","subjectEventStore","mutatedEvents","subjectDefs","subjectInstances","subjectConfigs","isEvent","selectionConfig","otherEventStore","affectedEvents","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","overlapFunc","otherInstanceId","otherInstance","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","eventApi","buildDateSpanApi","isInteractionPropsValid","relevantEventStore","relevantDefs","relevantInstances","selection","selectionRange","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","isDateSelectionPropsValid","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","constraint","eventStoreToRanges","outerRanges","outerRanges_1","htmlEscape","cssToStr","cssProps","statements","parseClassName","raw","split","editable","allow","color","processUnscopedUiProps","leftovers","normalizeConstraint","processScopedUiProps","prefix","rawScoped","rawUnscoped","wasFound","scopedKey","EMPTY_EVENT_UI","combineTwoEventUis","item0","item1","uid","allDayDefault","computeIsAllDayDefault","leftovers0","recurringRes","eventInput","localLeftovers","parsed","parse","allDayGuess","parseRecurring","parseEventDef","leftovers1","singleRes","startMeta","endMeta","pluckDateProps","startMarker","endMarker","createMarkerMeta","isTimeUnspecified","parseSingle","preLeftovers","pluckNonDateProps","eventDefParsers","newLeftovers","eventDefParser","freeze","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","rawDefs","rawDef","refineInputs","memoizeRendering","renderFunc","unrenderFunc","dependencies","thisContext","prevArgs","dependents","unrender","dependents_1","dependencies_1","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","_this","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpan","dateSpans","keys_1","getKeysForDateSpan","getKeysForEventDef","splitStores","_c","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","origSeg","allUi","eventUiForKey","baseParts","stuff","buildGotoAnchorHtml","allOptions","gotoOptions","innerHtml","forceOff","finalOptions","formatIso","omitTime","attrsToStr","navLinks","getDayClasses","noThemeHighlight","todayStart","todayEnd","theme","classes","monthMode","currentRange","getNow","getClass","EmitterMixin","_super","on","addToHash","_handlers","one","_oneHandlers","off","removeFromHash","triggerWith","hasHandlers","Mixin","mixInto","destClass","mixIntoObj","destObj","getOwnPropertyNames","mixOver","PositionCache","originEl","isHorizontal","isVertical","build","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","ScrollComponent","WindowScrollController","scroll","applyOverflow","clear","setHeight","destroy","lockOverflow","scrollbarWidths","getScrollbarWidths","Theme","calendarOptions","processIconOverride","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getIconClass","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","guid","ComponentContext","dir","eventOrderSpecs","token","specs","tokens","substring","parseFieldSpecs","eventOrder","extend","Component","addEqualityFuncs","newFuncs","equalityFuncs","receiveProps","oldContext","firstContext","oldProps","comboProps","anyChanges","recycleProps","beforeUpdate","render","afterUpdate","DateComponent","buildPositionCaches","queryHit","positionLeft","positionTop","elWidth","elHeight","isInteractionValid","validRange","isDateSelectionValid","isValidSegDownEl","isPopover","isInPopover","isValidDateDownEl","segEl","fgSegSelector","classList","bgSegSelector","uid$1","createPlugin","deps","reducers","isDraggableTransformers","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","views","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerModifiers","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","namedTimeZonedImpl","defaultView","elementDraggingImpl","optionChangeHandlers","PluginSystem","addedHash","plugin","dep","hooks0","hooks1","ArrayEventSourcePlugin","ignoreRange","parseMeta","events","fetch","arg","success","FuncEventSourcePlugin","failure","isResolved","wrappedSuccess","wrappedFailure","then","unpromisify","startStr","endStr","requestJson","method","params","successCallback","failureCallback","encodeParams","injectQueryStringParams","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","JsonFeedEventSourcePlugin","extraParams","startParam","endParam","timeZoneParam","requestParams","customRequestParams","buildRequestParams","errorMessage","message","SimpleRecurrencePlugin","startRecur","endRecur","anyValid","clippedFramingRange","dowHash","dayMarker","instanceStarts","instanceStart","expandRanges","DefaultOptionChangeHandlers","deepEqual","handleEventSources","plugins","inputs","addPluginInputs","unfoundSources","newInputs","inputs_1","inputFound","_raw","unfoundSources_1","unfoundSource","newInputs_1","newInput","addEventSource","globalDefaults","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","columnHeader","aspectRatio","header","center","weekends","weekNumbers","weekNumberCalculation","scrollTime","minTime","maxTime","showNonCurrentDates","lazyFetching","locales","timeGridEventMinHeight","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventLimit","eventLimitClick","dayPopoverFormat","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","rtlDefaults","buttonIcons","prev","next","prevYear","nextYear","complexOptions","INTERNAL_PLUGINS","RAW_EN_LOCALE","code","buttonText","today","allDayText","eventLimitText","noEventsMessage","parseRawLocales","explicitRawLocales","defaultCode","globalArray","globalObject","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","codeArg","simpleId","queryRawLocale","parseLocale","queryLocale","merged","NumberFormat","OptionsManager","overrides","dynamicOverrides","compute","updates","isDynamic","overrideHash","removals_1","localeDefaults","dirDefaults","calendarSystemClassMap","theClass","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","settings","isNamedTimeZone","namedTimeZoneImpl","createCalendarSystem","weekDow","weekDoy","firstDay","weekNumberFunc","createNowMarker","timestampToMarker","getYear","addYears","addMonths","greatestWholeUnit","diffWholeWeeks","diffHours","diffMinutes","diffSeconds","countDurationsBetween","diff","asRoughMonths","startOf","startOfYear","startOfMonth","startOfWeek","startOfHour","startOfMinute","startOfSecond","y","w","nextW","weekOfYear","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","stripZeroTime","toISOString","buildIsoString","timestampToArray","getTimezoneOffset","offsetForArray","SIMPLE_SOURCE_PROPS","uid$2","doesSourceNeedRange","sourceDefId","parseEventSource","parseEventSourceProps","isFetching","reduceEventSources","eventSourceHash","sources_1","fetchDirtySources","addSources","fetchSourcesByIds","excludeStaticSources","sourceHash","receiveResponse","uid$3","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","calSuccessRes","sourceSuccessRes","calSuccess","error","callFailure","console","warn","DateProfileGenerator","viewSpec","initHiddenDays","buildPrev","currentDateProfile","currentDate","prevDate","currentRangeUnit","dateIncrement","buildNext","nextDate","forceToValid","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","getRangeOption","dayCount","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","class","usesMinMaxTime","dateIncrementInput","dateIncrementDuration","alignment","dateAlignment","computeRes","isHiddenDay","skipHiddenDays","customAlignment","runningCount","visibleRange","fallback","otherArgs","hiddenDays","isHiddenDayHash","inc","isExclusive","viewType","currentViewType","reduceViewType","newDateProfile","dateProfileGenerators","dateMarker","generator","p0","p1","reduceDateProfile","nextState","reduceCurrentDate","reduceDateSelection","reduceSelectedEvent","reduceEventDrag","reduceEventResize","eventSourceLoadingLevel","computeLoadingLevel","reducerFunc","newDate","currentSelection","currentInstanceId","eventInstanceId","currentDrag","newDrag","currentResize","newResize","cnt","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","fabricateEventRange","ensureViewDef","defaultConfigs","overrideConfigs","viewDef","defaultConfig","overrideConfig","queryProp","superType","findViewNameBySubclass","superDef","buildViewDef","viewSubclass","configs","superProto","getPrototypeOf","parseViewConfigs","parseViewConfig","VIEW_DEF_PROPS","buildViewSpecs","defaultInputs","optionsManager","compileViewDefs","durationInput","singleUnit","singleUnitOverrides","denom","queryButtonText","buttonTextMap","buttonTextKey","buttonTextOverride","buttonTextDefault","buildViewSpec","Toolbar","extraClassName","_renderLayout","renderLayout","unrenderLayout","_updateTitle","updateTitle","_updateActiveButton","updateActiveButton","_updateToday","updateToday","_updatePrev","updatePrev","_updateNext","updateNext","layout","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","viewsWithButtons","renderSection","buttonStr","viewSpecs","sectionEl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","buttonGroupStr","groupEl","groupChildren","isOnlyButtons","buttonClick","buttonIcon","buttonInnerHtml","buttonClasses","buttonEl","buttonAriaAttr","click","text","changeView","buttonGroupClassName","toggleButtonEnabled","titleEl","innerText","bool","disabled","CalendarComponent","elClassNames","renderSkeleton","_renderSkeleton","_unrenderSkeleton","renderToolbars","_renderToolbars","_unrenderToolbars","buildComponentContext","buildViewPropTransformers","computeTitle","freezeHeight","renderView","updateSize","thawHeight","footer","updateElClassNames","contentEl","modifyViewContainer","savedScroll","queryScroll","removeElClassNames","headerLayout","footerLayout","dateProfileGenerator","now","todayInfo","prevInfo","nextInfo","toolbarProps","addScroll","viewProps","transformers_1","transformer","isResize","isHeightAuto","computeHeightVars","viewHeight","updateNowIndicator","popScroll","heightInput","contentHeightInput","queryToolbarsHeight","parentEl","viewOptions","titleFormat","computeTitleFormat","theClasses","Interaction","component","interactionSettingsStore","EventClicking","handleSegClick","hasUrlContainer","jsEvent","defaultPrevented","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","onMouseEnter","onMouseLeave","currentMatchedChild","removeHoverListeners","realOnMouseLeave_1","publicEvName","StandardTheme","widget","widgetHeader","widgetContent","buttonGroup","button","buttonActive","popoverHeader","popoverContent","headerRow","dayRow","listView","close","Calendar","equalityFunc","cachedRes","buildComponentContext$1","buildDateEnv","buildTheme","buildEventUiSingleBase","_buildEventUiSingleBase","buildSelectionConfig","_buildSelectionConfig","buildEventUiBySource","newRes","buildEventUiBases","interactionsStore","actionQueue","isReducing","needsRerender","isRendering","renderingPauseDepth","buildDelayedRerender","isViewUpdated","isDatesUpdated","isEventsUpdated","handleOptions","hydrate","calendarInteractionClass","pluginInputs","pluginDefs","pluginInputs_1","pluginInput","globalName","refinePluginDefs","pluginDefs_1","pluginDef","requestRerender","renderableEventStore","bindHandlers","executeRender","unbindHandlers","removeNavLinkListener","anchorEl","getAttribute","customAction","viewOpt","zoomTo","windowResizeProxy","windowResize","buildInitialState","rawSources","singleRawSource","rawSources_1","batchRendering","getInitialDate","oldState","shift","newState","delayedRerender","tryRerender","renderComponent","eventUiSingleBase","eventUiBySource","releaseAfterSizingTriggers","setOption","mutateOptions","getOption","viewOpts","changeHandlers","normalUpdates","specialUpdates","isTimeZoneDirty","isSizeDirty","anyDifficultOptions","name_3","pluginHooks","rerenderDelay","availableRawLocales","dateProfileGeneratorClass","getAvailableLocaleCodes","rawOpts","eventEditable","optHandler","name_4","isValidViewType","dateOrRange","unselect","spec","getUnitViewSpec","viewTypes","defaultDateInput","gotoDate","zonedDateInput","incrementDate","formatDate","isHandlingWindowResize","registerInteractiveComponent","settingsInput","useEventCenter","parseInteractionSettings","interactions","interactionClass","unregisterInteractiveComponent","select","dateOrObj","endDate","triggerDateSelect","pev","triggerDateUnselect","origEvent","triggerDateClick","dayEl","buildDatePointApi","dateStr","sourceInput","sourceApi","getEventSourceById","getEventById","getEvents","eventApis","removeAllEvents","rerenderEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","scrollToDuration","View","renderDatesMem","renderDatesWrap","unrenderDatesWrap","renderBusinessHoursMem","renderBusinessHours","unrenderBusinessHours","renderDateSelectionMem","renderDateSelectionWrap","unrenderDateSelectionWrap","renderEventsMem","renderEvents","unrenderEvents","renderEventSelectionMem","renderEventSelectionWrap","unrenderEventSelectionWrap","renderEventDragMem","renderEventDragWrap","unrenderEventDragWrap","renderEventResizeMem","renderEventResizeWrap","unrenderEventResizeWrap","initialize","isAuto","updateBaseSize","renderDates","stopNowIndicator","unrenderDates","renderDateSelection","unrenderDateSelection","sliceEvents","renderEventSelection","unrenderEventSelection","renderEventDrag","unrenderEventDrag","renderEventResize","unrenderEventResize","startNowIndicator","delay","nowIndicator","initialNowDate","getNowIndicatorUnit","initialNowQueriedMs","nowIndicatorTimeoutID","nowIndicatorIntervalID","setInterval","unrenderNowIndicator","renderNowIndicator","isNowIndicatorRendered","clearTimeout","clearInterval","isForced","queuedScroll","applyQueuedScroll","applyScroll","queryDateScroll","computeDateScroll","applyDateScroll","FgEventRenderer","renderSegs","mirrorInfo","rangeUpdated","renderSegEls","attachSegs","_segs","detachSegs","displayEventTime","displayEventEnd","eventTimeFormat","computeEventTimeFormat","computeDisplayEventTime","computeDisplayEventEnd","renderSegHtml","getSegClasses","isDraggable","isResizable","isDragging","isResizing","getTimeText","displayEnd","_getTimeText","getSkinCss","sortEventSegs","objs","buildSegCompareObj","fieldSpecs","cmp","compareByFieldSpecs","_seg","computeSizes","force","computeSegSizes","assignSizes","assignSegSizes","hideByHash","visibility","showByHash","selectByInstanceId","unselectByInstanceId","FillRenderer","fillSegTag","dirtySizeFlags","containerElsByType","segsByType","getSegsByType","renderedSegs","containerEls","toLowerCase","ElementDragging","emitter","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","renderDateCell","datesRepDistinctDays","colCnt","colHeadFormat","colspan","otherAttrs","isDateValid","columnHeaderHtml","columnHeaderText","DayHeader","dates","renderIntroHtml","columnHeaderFormat","computeFallbackHeaderFormat","dates_1","thead","DaySeries","indices","dayIndex","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTable","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","sourceSeg","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","FullCalendar","elRef","ref","componentDidMount","current","componentDidUpdate","componentWillUnmount","getApi","DayGridDateProfileGenerator","endOfWeek","fixedWeekCount","Popover","isHidden","margin","documentMousedown","hide","show","autoHide","elDims","origin","offsetParent","clippingRect","SimpleDayGridEventRenderer","timeText","titleHtml","eventUi","transformers","computeEventDraggable","isResizableFromStart","eventResizableFromStart","computeEventStartResizable","isResizableFromEnd","computeEventEndResizable","skinCss","timeHtml","DayGridEventRenderer","dayGrid","rowStructs","renderSegRows","rowEls","rowNode","tbodyEl","removeSegPopover","rowStruct","pop","segRows","groupSegRows","renderSegRow","rowSegs","levelSegs","tr","td","segLevels","buildSegLevels","levelCnt","tbody","segMatrix","cellMatrix","loneCellMatrix","emptyCellsUntil","endCol","leftCol","rightCol","introHtml","renderProps","levels","isDaySegCollision","level","compareDaySegCols","otherSegs","otherSeg","DayGridMirrorRenderer","skeletonTopEl","skeletonTop","skeletonEl","DayGridFillRenderer","renderFillRow","trEl","startCol","getElementsByTagName","DayTile","eventRenderer","renderFrame","_renderFrame","renderFgEvents","fgSegs","eventDragInstances","eventResizeInstances","segContainerEl","layer","DayTileEventRenderer","dayTile","DayBgRow","renderHtml","cell","renderCellHtml","htmlAttrs","DAY_NUM_FORMAT","WEEK_NUM_FORMAT","DayGrid","bottomCoordPadding","isCellSizesDirty","fillRenderer","mirrorRenderer","renderCells","_renderCells","_unrenderCells","renderBgEvents","_renderEventDrag","_unrenderEventDrag","_renderEventResize","_unrenderEventResize","isRigid","segPopoverTile","updateSegPopoverTile","getCellRange","ownProps","renderDayRowHtml","cellEls","rowPositions","colPositions","getCellEl","bgRow","renderBgIntroHtml","getIsNumbersVisible","renderNumberTrHtml","getIsDayNumbersVisible","cellWeekNumbersVisible","colWeekNumbersVisible","intro","renderNumberIntroHtml","renderNumberCellsHtml","htmls","renderNumberCellHtml","weekCalcFirstDow","isDayNumberVisible","buildColPositions","buildRowPositions","positionToHit","relativeRect","segPopover","limitRows","levelLimit","rowLevelLimit","unlimitRow","computeRowLevelLimit","limitRow","rowBottom","trEls","limitedNodes","segsBelow","totalSegsBelow","colSegsBelow","segMoreNodes","moreTd","moreWrap","moreLink","moreNodes","getCellSegs","renderMoreLink","node","moreEls","limitedEls","limitedEl","hiddenSegs","getMoreLinkText","clickOption","_col","moreEl","currentTarget","allSegs","reslicedAllSegs","resliceDaySegs","reslicedHiddenSegs","showSegPopover","topEl","dayDate","dayRange","newSegs","startLevel","WEEK_NUM_FORMAT$1","AbstractDayGridView","processOptions","_processOptions","renderHeadIntroHtml","weekNumberStyleAttr","renderDayGridNumberIntroHtml","weekStart","renderDayGridBgIntroHtml","renderDayGridIntroHtml","weekNumbersWithinDays","renderSkeletonHtml","scroller","dayGridContainerEl","dayGridEl","weekNumberWidth","hasRigidRows","scrollerHeight","maxInnerWidth","headRowEl","innerEl","innerWidth_1","marginLeft","marginRight","computeScrollerHeight","setGridHeight","rowEl","compensateScroll","reflowStyleProps","resetStyleProps","subtractInnerElHeight","SimpleDayGrid","slicer","DayGridSlicer","dayTable","rawHit","buildDayTable","DayGridView","simpleDayGrid","dayGridDay","dayGridWeek","dayGridMonth","DashFullCalendar","dayGridPlugin","React","defaultProps","propTypes","PropTypes","string","label","isRequired","setProps"],"mappings":"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","file":"dash_fullcalendar.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"PropTypes\"]; }());","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./main.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./main.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./main.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../../../node_modules/css-loader/dist/cjs.js!@fullcalendar/core/main.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_1___ = require(\"-!../../../node_modules/css-loader/dist/cjs.js!@fullcalendar/daygrid/main.css\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\n// Module\nexports.push([module.id, \"\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n.fc {\\n  direction: ltr;\\n  text-align: left;\\n}\\n\\n.fc-rtl {\\n  text-align: right;\\n}\\n\\nbody .fc {\\n  /* extra precedence to overcome jqui */\\n  font-size: 1em;\\n}\\n\\n/* Colors\\n--------------------------------------------------------------------------------------------------*/\\n.fc-highlight {\\n  /* when user is selecting cells */\\n  background: #bce8f1;\\n  opacity: 0.3;\\n}\\n\\n.fc-bgevent {\\n  /* default look for background events */\\n  background: #8fdf82;\\n  opacity: 0.3;\\n}\\n\\n.fc-nonbusiness {\\n  /* default look for non-business-hours areas */\\n  /* will inherit .fc-bgevent's styles */\\n  background: #d7d7d7;\\n}\\n\\n/* Popover\\n--------------------------------------------------------------------------------------------------*/\\n.fc-popover {\\n  position: absolute;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\\n}\\n\\n.fc-popover .fc-header {\\n  /* TODO: be more consistent with fc-head/fc-body */\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 2px 4px;\\n}\\n\\n.fc-rtl .fc-popover .fc-header {\\n  flex-direction: row-reverse;\\n}\\n\\n.fc-popover .fc-header .fc-title {\\n  margin: 0 2px;\\n}\\n\\n.fc-popover .fc-header .fc-close {\\n  cursor: pointer;\\n  opacity: 0.65;\\n  font-size: 1.1em;\\n}\\n\\n/* Misc Reusable Components\\n--------------------------------------------------------------------------------------------------*/\\n.fc-divider {\\n  border-style: solid;\\n  border-width: 1px;\\n}\\n\\nhr.fc-divider {\\n  height: 0;\\n  margin: 0;\\n  padding: 0 0 2px;\\n  /* height is unreliable across browsers, so use padding */\\n  border-width: 1px 0;\\n}\\n\\n.fc-bg,\\n.fc-bgevent-skeleton,\\n.fc-highlight-skeleton,\\n.fc-mirror-skeleton {\\n  /* these element should always cling to top-left/right corners */\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.fc-bg {\\n  bottom: 0;\\n  /* strech bg to bottom edge */\\n}\\n\\n.fc-bg table {\\n  height: 100%;\\n  /* strech bg to bottom edge */\\n}\\n\\n/* Tables\\n--------------------------------------------------------------------------------------------------*/\\n.fc table {\\n  width: 100%;\\n  box-sizing: border-box;\\n  /* fix scrollbar issue in firefox */\\n  table-layout: fixed;\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  font-size: 1em;\\n  /* normalize cross-browser */\\n}\\n\\n.fc th {\\n  text-align: center;\\n}\\n\\n.fc th,\\n.fc td {\\n  border-style: solid;\\n  border-width: 1px;\\n  padding: 0;\\n  vertical-align: top;\\n}\\n\\n.fc td.fc-today {\\n  border-style: double;\\n  /* overcome neighboring borders */\\n}\\n\\n/* Internal Nav Links\\n--------------------------------------------------------------------------------------------------*/\\na[data-goto] {\\n  cursor: pointer;\\n}\\n\\na[data-goto]:hover {\\n  text-decoration: underline;\\n}\\n\\n/* Fake Table Rows\\n--------------------------------------------------------------------------------------------------*/\\n.fc .fc-row {\\n  /* extra precedence to overcome themes forcing a 1px border */\\n  /* no visible border by default. but make available if need be (scrollbar width compensation) */\\n  border-style: solid;\\n  border-width: 0;\\n}\\n\\n.fc-row table {\\n  /* don't put left/right border on anything within a fake row.\\n     the outer tbody will worry about this */\\n  border-left: 0 hidden transparent;\\n  border-right: 0 hidden transparent;\\n  /* no bottom borders on rows */\\n  border-bottom: 0 hidden transparent;\\n}\\n\\n.fc-row:first-child table {\\n  border-top: 0 hidden transparent;\\n  /* no top border on first row */\\n}\\n\\n/* Day Row (used within the header and the DayGrid)\\n--------------------------------------------------------------------------------------------------*/\\n.fc-row {\\n  position: relative;\\n}\\n\\n.fc-row .fc-bg {\\n  z-index: 1;\\n}\\n\\n/* highlighting cells & background event skeleton */\\n.fc-row .fc-bgevent-skeleton,\\n.fc-row .fc-highlight-skeleton {\\n  bottom: 0;\\n  /* stretch skeleton to bottom of row */\\n}\\n\\n.fc-row .fc-bgevent-skeleton table,\\n.fc-row .fc-highlight-skeleton table {\\n  height: 100%;\\n  /* stretch skeleton to bottom of row */\\n}\\n\\n.fc-row .fc-highlight-skeleton td,\\n.fc-row .fc-bgevent-skeleton td {\\n  border-color: transparent;\\n}\\n\\n.fc-row .fc-bgevent-skeleton {\\n  z-index: 2;\\n}\\n\\n.fc-row .fc-highlight-skeleton {\\n  z-index: 3;\\n}\\n\\n/*\\nrow content (which contains day/week numbers and events) as well as \\\"mirror\\\" (which contains\\ntemporary rendered events).\\n*/\\n.fc-row .fc-content-skeleton {\\n  position: relative;\\n  z-index: 4;\\n  padding-bottom: 2px;\\n  /* matches the space above the events */\\n}\\n\\n.fc-row .fc-mirror-skeleton {\\n  z-index: 5;\\n}\\n\\n.fc .fc-row .fc-content-skeleton table,\\n.fc .fc-row .fc-content-skeleton td,\\n.fc .fc-row .fc-mirror-skeleton td {\\n  /* see-through to the background below */\\n  /* extra precedence to prevent theme-provided backgrounds */\\n  background: none;\\n  /* in case <td>s are globally styled */\\n  border-color: transparent;\\n}\\n\\n.fc-row .fc-content-skeleton td,\\n.fc-row .fc-mirror-skeleton td {\\n  /* don't put a border between events and/or the day number */\\n  border-bottom: 0;\\n}\\n\\n.fc-row .fc-content-skeleton tbody td,\\n.fc-row .fc-mirror-skeleton tbody td {\\n  /* don't put a border between event cells */\\n  border-top: 0;\\n}\\n\\n/* Scrolling Container\\n--------------------------------------------------------------------------------------------------*/\\n.fc-scroller {\\n  -webkit-overflow-scrolling: touch;\\n}\\n\\n/* TODO: move to timegrid/daygrid */\\n.fc-scroller > .fc-day-grid,\\n.fc-scroller > .fc-time-grid {\\n  position: relative;\\n  /* re-scope all positions */\\n  width: 100%;\\n  /* hack to force re-sizing this inner element when scrollbars appear/disappear */\\n}\\n\\n/* Global Event Styles\\n--------------------------------------------------------------------------------------------------*/\\n.fc-event {\\n  position: relative;\\n  /* for resize handle and other inner positioning */\\n  display: block;\\n  /* make the <a> tag block */\\n  font-size: 0.85em;\\n  line-height: 1.4;\\n  border-radius: 3px;\\n  border: 1px solid #3788d8;\\n}\\n\\n.fc-event,\\n.fc-event-dot {\\n  background-color: #3788d8;\\n  /* default BACKGROUND color */\\n}\\n\\n.fc-event,\\n.fc-event:hover {\\n  color: #fff;\\n  /* default TEXT color */\\n  text-decoration: none;\\n  /* if <a> has an href */\\n}\\n\\n.fc-event[href],\\n.fc-event.fc-draggable {\\n  cursor: pointer;\\n  /* give events with links and draggable events a hand mouse pointer */\\n}\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event {\\n  /* to override an event's custom cursor */\\n  cursor: not-allowed;\\n}\\n\\n.fc-event .fc-content {\\n  position: relative;\\n  z-index: 2;\\n}\\n\\n/* resizer (cursor AND touch devices) */\\n.fc-event .fc-resizer {\\n  position: absolute;\\n  z-index: 4;\\n}\\n\\n/* resizer (touch devices) */\\n.fc-event .fc-resizer {\\n  display: none;\\n}\\n\\n.fc-event.fc-allow-mouse-resize .fc-resizer,\\n.fc-event.fc-selected .fc-resizer {\\n  /* only show when hovering or selected (with touch) */\\n  display: block;\\n}\\n\\n/* hit area */\\n.fc-event.fc-selected .fc-resizer:before {\\n  /* 40x40 touch area */\\n  content: \\\"\\\";\\n  position: absolute;\\n  z-index: 9999;\\n  /* user of this util can scope within a lower z-index */\\n  top: 50%;\\n  left: 50%;\\n  width: 40px;\\n  height: 40px;\\n  margin-left: -20px;\\n  margin-top: -20px;\\n}\\n\\n/* Event Selection (only for touch devices)\\n--------------------------------------------------------------------------------------------------*/\\n.fc-event.fc-selected {\\n  z-index: 9999 !important;\\n  /* overcomes inline z-index */\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\\n}\\n\\n.fc-event.fc-selected:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  z-index: 1;\\n  /* same z-index as fc-bg, behind text */\\n  /* overcome the borders */\\n  top: -1px;\\n  right: -1px;\\n  bottom: -1px;\\n  left: -1px;\\n  /* darkening effect */\\n  background: #000;\\n  opacity: 0.25;\\n}\\n\\n/* Event Dragging\\n--------------------------------------------------------------------------------------------------*/\\n.fc-event.fc-dragging.fc-selected {\\n  box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n}\\n\\n.fc-event.fc-dragging:not(.fc-selected) {\\n  opacity: 0.75;\\n}\\n\\n/* Horizontal Events\\n--------------------------------------------------------------------------------------------------*/\\n/* bigger touch area when selected */\\n.fc-h-event.fc-selected:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  z-index: 3;\\n  /* below resizers */\\n  top: -10px;\\n  bottom: -10px;\\n  left: 0;\\n  right: 0;\\n}\\n\\n/* events that are continuing to/from another week. kill rounded corners and butt up against edge */\\n.fc-ltr .fc-h-event.fc-not-start,\\n.fc-rtl .fc-h-event.fc-not-end {\\n  margin-left: 0;\\n  border-left-width: 0;\\n  padding-left: 1px;\\n  /* replace the border with padding */\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n\\n.fc-ltr .fc-h-event.fc-not-end,\\n.fc-rtl .fc-h-event.fc-not-start {\\n  margin-right: 0;\\n  border-right-width: 0;\\n  padding-right: 1px;\\n  /* replace the border with padding */\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\n\\n/* resizer (cursor AND touch devices) */\\n/* left resizer  */\\n.fc-ltr .fc-h-event .fc-start-resizer,\\n.fc-rtl .fc-h-event .fc-end-resizer {\\n  cursor: w-resize;\\n  left: -1px;\\n  /* overcome border */\\n}\\n\\n/* right resizer */\\n.fc-ltr .fc-h-event .fc-end-resizer,\\n.fc-rtl .fc-h-event .fc-start-resizer {\\n  cursor: e-resize;\\n  right: -1px;\\n  /* overcome border */\\n}\\n\\n/* resizer (mouse devices) */\\n.fc-h-event.fc-allow-mouse-resize .fc-resizer {\\n  width: 7px;\\n  top: -1px;\\n  /* overcome top border */\\n  bottom: -1px;\\n  /* overcome bottom border */\\n}\\n\\n/* resizer (touch devices) */\\n.fc-h-event.fc-selected .fc-resizer {\\n  /* 8x8 little dot */\\n  border-radius: 4px;\\n  border-width: 1px;\\n  width: 6px;\\n  height: 6px;\\n  border-style: solid;\\n  border-color: inherit;\\n  background: #fff;\\n  /* vertically center */\\n  top: 50%;\\n  margin-top: -4px;\\n}\\n\\n/* left resizer  */\\n.fc-ltr .fc-h-event.fc-selected .fc-start-resizer,\\n.fc-rtl .fc-h-event.fc-selected .fc-end-resizer {\\n  margin-left: -4px;\\n  /* centers the 8x8 dot on the left edge */\\n}\\n\\n/* right resizer */\\n.fc-ltr .fc-h-event.fc-selected .fc-end-resizer,\\n.fc-rtl .fc-h-event.fc-selected .fc-start-resizer {\\n  margin-right: -4px;\\n  /* centers the 8x8 dot on the right edge */\\n}\\n\\n/* DayGrid events\\n----------------------------------------------------------------------------------------------------\\nWe use the full \\\"fc-day-grid-event\\\" class instead of using descendants because the event won't\\nbe a descendant of the grid when it is being dragged.\\n*/\\n.fc-day-grid-event {\\n  margin: 1px 2px 0;\\n  /* spacing between events and edges */\\n  padding: 0 1px;\\n}\\n\\ntr:first-child > td > .fc-day-grid-event {\\n  margin-top: 2px;\\n  /* a little bit more space before the first event */\\n}\\n\\n.fc-mirror-skeleton tr:first-child > td > .fc-day-grid-event {\\n  margin-top: 0;\\n  /* except for mirror skeleton */\\n}\\n\\n.fc-day-grid-event .fc-content {\\n  /* force events to be one-line tall */\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\n.fc-day-grid-event .fc-time {\\n  font-weight: bold;\\n}\\n\\n/* resizer (cursor devices) */\\n/* left resizer  */\\n.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer,\\n.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer {\\n  margin-left: -2px;\\n  /* to the day cell's edge */\\n}\\n\\n/* right resizer */\\n.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer,\\n.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer {\\n  margin-right: -2px;\\n  /* to the day cell's edge */\\n}\\n\\n/* Event Limiting\\n--------------------------------------------------------------------------------------------------*/\\n/* \\\"more\\\" link that represents hidden events */\\na.fc-more {\\n  margin: 1px 3px;\\n  font-size: 0.85em;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n\\na.fc-more:hover {\\n  text-decoration: underline;\\n}\\n\\n.fc-limited {\\n  /* rows and cells that are hidden because of a \\\"more\\\" link */\\n  display: none;\\n}\\n\\n/* popover that appears when \\\"more\\\" link is clicked */\\n.fc-day-grid .fc-row {\\n  z-index: 1;\\n  /* make the \\\"more\\\" popover one higher than this */\\n}\\n\\n.fc-more-popover {\\n  z-index: 2;\\n  width: 220px;\\n}\\n\\n.fc-more-popover .fc-event-container {\\n  padding: 10px;\\n}\\n\\n/* Now Indicator\\n--------------------------------------------------------------------------------------------------*/\\n.fc-now-indicator {\\n  position: absolute;\\n  border: 0 solid red;\\n}\\n\\n/* Utilities\\n--------------------------------------------------------------------------------------------------*/\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n/*\\nTODO: more distinction between this file and common.css\\n*/\\n/* Colors\\n--------------------------------------------------------------------------------------------------*/\\n.fc-unthemed th,\\n.fc-unthemed td,\\n.fc-unthemed thead,\\n.fc-unthemed tbody,\\n.fc-unthemed .fc-divider,\\n.fc-unthemed .fc-row,\\n.fc-unthemed .fc-content,\\n.fc-unthemed .fc-popover,\\n.fc-unthemed .fc-list-view,\\n.fc-unthemed .fc-list-heading td {\\n  border-color: #ddd;\\n}\\n\\n.fc-unthemed .fc-popover {\\n  background-color: #fff;\\n}\\n\\n.fc-unthemed .fc-divider,\\n.fc-unthemed .fc-popover .fc-header,\\n.fc-unthemed .fc-list-heading td {\\n  background: #eee;\\n}\\n\\n.fc-unthemed td.fc-today {\\n  background: #fcf8e3;\\n}\\n\\n.fc-unthemed .fc-disabled-day {\\n  background: #d7d7d7;\\n  opacity: 0.3;\\n}\\n\\n/* Icons\\n--------------------------------------------------------------------------------------------------\\nfrom https://feathericons.com/ and built with IcoMoon\\n*/\\n@font-face {\\n  font-family: \\\"fcicons\\\";\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.fc-icon {\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: \\\"fcicons\\\" !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\";\\n}\\n\\n.fc-icon {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n}\\n\\n/* Buttons\\n--------------------------------------------------------------------------------------------------\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n*/\\n/* reset */\\n.fc-button {\\n  border-radius: 0;\\n  overflow: visible;\\n  text-transform: none;\\n  margin: 0;\\n  font-family: inherit;\\n  font-size: inherit;\\n  line-height: inherit;\\n}\\n\\n.fc-button:focus {\\n  outline: 1px dotted;\\n  outline: 5px auto -webkit-focus-ring-color;\\n}\\n\\n.fc-button {\\n  -webkit-appearance: button;\\n}\\n\\n.fc-button:not(:disabled) {\\n  cursor: pointer;\\n}\\n\\n.fc-button::-moz-focus-inner {\\n  padding: 0;\\n  border-style: none;\\n}\\n\\n/* theme */\\n.fc-button {\\n  display: inline-block;\\n  font-weight: 400;\\n  color: #212529;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  background-color: transparent;\\n  border: 1px solid transparent;\\n  padding: 0.4em 0.65em;\\n  font-size: 1em;\\n  line-height: 1.5;\\n  border-radius: 0.25em;\\n}\\n\\n.fc-button:hover {\\n  color: #212529;\\n  text-decoration: none;\\n}\\n\\n.fc-button:focus {\\n  outline: 0;\\n  -webkit-box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n}\\n\\n.fc-button:disabled {\\n  opacity: 0.65;\\n}\\n\\n/* \\\"primary\\\" coloring */\\n.fc-button-primary {\\n  color: #fff;\\n  background-color: #2C3E50;\\n  border-color: #2C3E50;\\n}\\n\\n.fc-button-primary:hover {\\n  color: #fff;\\n  background-color: #1e2b37;\\n  border-color: #1a252f;\\n}\\n\\n.fc-button-primary:focus {\\n  -webkit-box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n}\\n\\n.fc-button-primary:disabled {\\n  color: #fff;\\n  background-color: #2C3E50;\\n  border-color: #2C3E50;\\n}\\n\\n.fc-button-primary:not(:disabled):active,\\n.fc-button-primary:not(:disabled).fc-button-active {\\n  color: #fff;\\n  background-color: #1a252f;\\n  border-color: #151e27;\\n}\\n\\n.fc-button-primary:not(:disabled):active:focus,\\n.fc-button-primary:not(:disabled).fc-button-active:focus {\\n  -webkit-box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n}\\n\\n/* icons within buttons */\\n.fc-button .fc-icon {\\n  vertical-align: middle;\\n  font-size: 1.5em;\\n}\\n\\n/* Buttons Groups\\n--------------------------------------------------------------------------------------------------*/\\n.fc-button-group {\\n  position: relative;\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  vertical-align: middle;\\n}\\n\\n.fc-button-group > .fc-button {\\n  position: relative;\\n  -webkit-box-flex: 1;\\n  -ms-flex: 1 1 auto;\\n  flex: 1 1 auto;\\n}\\n\\n.fc-button-group > .fc-button:hover {\\n  z-index: 1;\\n}\\n\\n.fc-button-group > .fc-button:focus,\\n.fc-button-group > .fc-button:active,\\n.fc-button-group > .fc-button.fc-button-active {\\n  z-index: 1;\\n}\\n\\n.fc-button-group > .fc-button:not(:first-child) {\\n  margin-left: -1px;\\n}\\n\\n.fc-button-group > .fc-button:not(:last-child) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\n\\n.fc-button-group > .fc-button:not(:first-child) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n\\n/* Popover\\n--------------------------------------------------------------------------------------------------*/\\n.fc-unthemed .fc-popover {\\n  border-width: 1px;\\n  border-style: solid;\\n}\\n\\n/* List View\\n--------------------------------------------------------------------------------------------------*/\\n.fc-unthemed .fc-list-item:hover td {\\n  background-color: #f5f5f5;\\n}\\n\\n/* Toolbar\\n--------------------------------------------------------------------------------------------------*/\\n.fc-toolbar {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.fc-toolbar.fc-header-toolbar {\\n  margin-bottom: 1.5em;\\n}\\n\\n.fc-toolbar.fc-footer-toolbar {\\n  margin-top: 1.5em;\\n}\\n\\n/* inner content */\\n.fc-toolbar > * > :not(:first-child) {\\n  margin-left: 0.75em;\\n}\\n\\n.fc-toolbar h2 {\\n  font-size: 1.75em;\\n  margin: 0;\\n}\\n\\n/* View Structure\\n--------------------------------------------------------------------------------------------------*/\\n.fc-view-container {\\n  position: relative;\\n}\\n\\n/* undo twitter bootstrap's box-sizing rules. normalizes positioning techniques */\\n/* don't do this for the toolbar because we'll want bootstrap to style those buttons as some pt */\\n.fc-view-container *,\\n.fc-view-container *:before,\\n.fc-view-container *:after {\\n  -webkit-box-sizing: content-box;\\n  -moz-box-sizing: content-box;\\n  box-sizing: content-box;\\n}\\n\\n.fc-view,\\n.fc-view > table {\\n  /* so dragged elements can be above the view's main element */\\n  position: relative;\\n  z-index: 1;\\n}\\n\\n@media print {\\n  .fc {\\n    max-width: 100% !important;\\n  }\\n\\n  /* Global Event Restyling\\n  --------------------------------------------------------------------------------------------------*/\\n  .fc-event {\\n    background: #fff !important;\\n    color: #000 !important;\\n    page-break-inside: avoid;\\n  }\\n\\n  .fc-event .fc-resizer {\\n    display: none;\\n  }\\n\\n  /* Table & Day-Row Restyling\\n  --------------------------------------------------------------------------------------------------*/\\n  .fc th,\\n.fc td,\\n.fc hr,\\n.fc thead,\\n.fc tbody,\\n.fc-row {\\n    border-color: #ccc !important;\\n    background: #fff !important;\\n  }\\n\\n  /* kill the overlaid, absolutely-positioned components */\\n  /* common... */\\n  .fc-bg,\\n.fc-bgevent-skeleton,\\n.fc-highlight-skeleton,\\n.fc-mirror-skeleton,\\n.fc-bgevent-container,\\n.fc-business-container,\\n.fc-highlight-container,\\n.fc-mirror-container {\\n    display: none;\\n  }\\n\\n  /* don't force a min-height on rows (for DayGrid) */\\n  .fc tbody .fc-row {\\n    height: auto !important;\\n    /* undo height that JS set in distributeHeight */\\n    min-height: 0 !important;\\n    /* undo the min-height from each view's specific stylesheet */\\n  }\\n\\n  .fc tbody .fc-row .fc-content-skeleton {\\n    position: static;\\n    /* undo .fc-rigid */\\n    padding-bottom: 0 !important;\\n    /* use a more border-friendly method for this... */\\n  }\\n\\n  .fc tbody .fc-row .fc-content-skeleton tbody tr:last-child td {\\n    /* only works in newer browsers */\\n    padding-bottom: 1em;\\n    /* ...gives space within the skeleton. also ensures min height in a way */\\n  }\\n\\n  .fc tbody .fc-row .fc-content-skeleton table {\\n    /* provides a min-height for the row, but only effective for IE, which exaggerates this value,\\n       making it look more like 3em. for other browers, it will already be this tall */\\n    height: 1em;\\n  }\\n\\n  /* Undo month-view event limiting. Display all events and hide the \\\"more\\\" links\\n  --------------------------------------------------------------------------------------------------*/\\n  .fc-more-cell,\\n.fc-more {\\n    display: none !important;\\n  }\\n\\n  .fc tr.fc-limited {\\n    display: table-row !important;\\n  }\\n\\n  .fc td.fc-limited {\\n    display: table-cell !important;\\n  }\\n\\n  .fc-popover {\\n    display: none;\\n    /* never display the \\\"more..\\\" popover in print mode */\\n  }\\n\\n  /* TimeGrid Restyling\\n  --------------------------------------------------------------------------------------------------*/\\n  /* undo the min-height 100% trick used to fill the container's height */\\n  .fc-time-grid {\\n    min-height: 0 !important;\\n  }\\n\\n  /* don't display the side axis at all (\\\"all-day\\\" and time cells) */\\n  .fc-timeGrid-view .fc-axis {\\n    display: none;\\n  }\\n\\n  /* don't display the horizontal lines */\\n  .fc-slats,\\n.fc-time-grid hr {\\n    /* this hr is used when height is underused and needs to be filled */\\n    display: none !important;\\n    /* important overrides inline declaration */\\n  }\\n\\n  /* let the container that holds the events be naturally positioned and create real height */\\n  .fc-time-grid .fc-content-skeleton {\\n    position: static;\\n  }\\n\\n  /* in case there are no events, we still want some height */\\n  .fc-time-grid .fc-content-skeleton table {\\n    height: 4em;\\n  }\\n\\n  /* kill the horizontal spacing made by the event container. event margins will be done below */\\n  .fc-time-grid .fc-event-container {\\n    margin: 0 !important;\\n  }\\n\\n  /* TimeGrid *Event* Restyling\\n  --------------------------------------------------------------------------------------------------*/\\n  /* naturally position events, vertically stacking them */\\n  .fc-time-grid .fc-event {\\n    position: static !important;\\n    margin: 3px 2px !important;\\n  }\\n\\n  /* for events that continue to a future day, give the bottom border back */\\n  .fc-time-grid .fc-event.fc-not-end {\\n    border-bottom-width: 1px !important;\\n  }\\n\\n  /* indicate the event continues via \\\"...\\\" text */\\n  .fc-time-grid .fc-event.fc-not-end:after {\\n    content: \\\"...\\\";\\n  }\\n\\n  /* for events that are continuations from previous days, give the top border back */\\n  .fc-time-grid .fc-event.fc-not-start {\\n    border-top-width: 1px !important;\\n  }\\n\\n  /* indicate the event is a continuation via \\\"...\\\" text */\\n  .fc-time-grid .fc-event.fc-not-start:before {\\n    content: \\\"...\\\";\\n  }\\n\\n  /* time */\\n  /* undo a previous declaration and let the time text span to a second line */\\n  .fc-time-grid .fc-event .fc-time {\\n    white-space: normal !important;\\n  }\\n\\n  /* hide the the time that is normally displayed... */\\n  .fc-time-grid .fc-event .fc-time span {\\n    display: none;\\n  }\\n\\n  /* ...replace it with a more verbose version (includes AM/PM) stored in an html attribute */\\n  .fc-time-grid .fc-event .fc-time:after {\\n    content: attr(data-full);\\n  }\\n\\n  /* Vertical Scroller & Containers\\n  --------------------------------------------------------------------------------------------------*/\\n  /* kill the scrollbars and allow natural height */\\n  .fc-scroller,\\n.fc-day-grid-container,\\n.fc-time-grid-container {\\n    /* */\\n    overflow: visible !important;\\n    height: auto !important;\\n  }\\n\\n  /* kill the horizontal border/padding used to compensate for scrollbars */\\n  .fc-row {\\n    border: 0 !important;\\n    margin: 0 !important;\\n  }\\n\\n  /* Button Controls\\n  --------------------------------------------------------------------------------------------------*/\\n  .fc-button-group,\\n.fc button {\\n    display: none;\\n    /* don't display any button-related controls */\\n  }\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* DayGridView\\n--------------------------------------------------------------------------------------------------*/\\n/* day row structure */\\n.fc-dayGridWeek-view .fc-content-skeleton,\\n.fc-dayGridDay-view .fc-content-skeleton {\\n  /* there may be week numbers in these views, so no padding-top */\\n  padding-bottom: 1em;\\n  /* ensure a space at bottom of cell for user selecting/clicking */\\n}\\n\\n.fc-dayGrid-view .fc-body .fc-row {\\n  min-height: 4em;\\n  /* ensure that all rows are at least this tall */\\n}\\n\\n/* a \\\"rigid\\\" row will take up a constant amount of height because content-skeleton is absolute */\\n.fc-row.fc-rigid {\\n  overflow: hidden;\\n}\\n\\n.fc-row.fc-rigid .fc-content-skeleton {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n/* week and day number styling */\\n.fc-day-top.fc-other-month {\\n  opacity: 0.3;\\n}\\n\\n.fc-dayGrid-view .fc-week-number,\\n.fc-dayGrid-view .fc-day-number {\\n  padding: 2px;\\n}\\n\\n.fc-dayGrid-view th.fc-week-number,\\n.fc-dayGrid-view th.fc-day-number {\\n  padding: 0 2px;\\n  /* column headers can't have as much v space */\\n}\\n\\n.fc-ltr .fc-dayGrid-view .fc-day-top .fc-day-number {\\n  float: right;\\n}\\n\\n.fc-rtl .fc-dayGrid-view .fc-day-top .fc-day-number {\\n  float: left;\\n}\\n\\n.fc-ltr .fc-dayGrid-view .fc-day-top .fc-week-number {\\n  float: left;\\n  border-radius: 0 0 3px 0;\\n}\\n\\n.fc-rtl .fc-dayGrid-view .fc-day-top .fc-week-number {\\n  float: right;\\n  border-radius: 0 0 0 3px;\\n}\\n\\n.fc-dayGrid-view .fc-day-top .fc-week-number {\\n  min-width: 1.5em;\\n  text-align: center;\\n  background-color: #f2f2f2;\\n  color: #808080;\\n}\\n\\n/* when week/day number have own column */\\n.fc-dayGrid-view td.fc-week-number {\\n  text-align: center;\\n}\\n\\n.fc-dayGrid-view td.fc-week-number > * {\\n  /* work around the way we do column resizing and ensure a minimum width */\\n  display: inline-block;\\n  min-width: 1.25em;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/*!\nFullCalendar Core Package v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\n// Creating\n// ----------------------------------------------------------------------------------------------------------------\nvar elementPropHash = {\n    className: true,\n    colSpan: true,\n    rowSpan: true\n};\nvar containerTagHash = {\n    '<tr': 'tbody',\n    '<td': 'tr'\n};\nfunction createElement(tagName, attrs, content) {\n    var el = document.createElement(tagName);\n    if (attrs) {\n        for (var attrName in attrs) {\n            if (attrName === 'style') {\n                applyStyle(el, attrs[attrName]);\n            }\n            else if (elementPropHash[attrName]) {\n                el[attrName] = attrs[attrName];\n            }\n            else {\n                el.setAttribute(attrName, attrs[attrName]);\n            }\n        }\n    }\n    if (typeof content === 'string') {\n        el.innerHTML = content; // shortcut. no need to process HTML in any way\n    }\n    else if (content != null) {\n        appendToElement(el, content);\n    }\n    return el;\n}\nfunction htmlToElement(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.firstChild;\n}\nfunction htmlToElements(html) {\n    return Array.prototype.slice.call(htmlToNodeList(html));\n}\nfunction htmlToNodeList(html) {\n    html = html.trim();\n    var container = document.createElement(computeContainerTag(html));\n    container.innerHTML = html;\n    return container.childNodes;\n}\n// assumes html already trimmed and tag names are lowercase\nfunction computeContainerTag(html) {\n    return containerTagHash[html.substr(0, 3) // faster than using regex\n    ] || 'div';\n}\nfunction appendToElement(el, content) {\n    var childNodes = normalizeContent(content);\n    for (var i = 0; i < childNodes.length; i++) {\n        el.appendChild(childNodes[i]);\n    }\n}\nfunction prependToElement(parent, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = parent.firstChild || null; // if no firstChild, will append to end, but that's okay, b/c there were no children\n    for (var i = 0; i < newEls.length; i++) {\n        parent.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction insertAfterElement(refEl, content) {\n    var newEls = normalizeContent(content);\n    var afterEl = refEl.nextSibling || null;\n    for (var i = 0; i < newEls.length; i++) {\n        refEl.parentNode.insertBefore(newEls[i], afterEl);\n    }\n}\nfunction normalizeContent(content) {\n    var els;\n    if (typeof content === 'string') {\n        els = htmlToElements(content);\n    }\n    else if (content instanceof Node) {\n        els = [content];\n    }\n    else { // Node[] or NodeList\n        els = Array.prototype.slice.call(content);\n    }\n    return els;\n}\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\n// from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nvar matchesMethod = Element.prototype.matches ||\n    Element.prototype.matchesSelector ||\n    Element.prototype.msMatchesSelector;\nvar closestMethod = Element.prototype.closest || function (selector) {\n    // polyfill\n    var el = this;\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n};\nfunction elementClosest(el, selector) {\n    return closestMethod.call(el, selector);\n}\nfunction elementMatches(el, selector) {\n    return matchesMethod.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i++) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j++) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements\nfunction findChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i++) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j++) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Attributes\n// ----------------------------------------------------------------------------------------------------------------\nfunction forceClassName(el, className, bool) {\n    if (bool) {\n        el.classList.add(className);\n    }\n    else {\n        el.classList.remove(className);\n    }\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + 'px';\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom)\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom)\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top\n    };\n}\n\n// Logic for determining if, when the element is right-to-left, the scrollbar appears on the left side\nvar isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (isRtlScrollbarOnLeft === null) {\n        isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = createElement('div', {\n        style: {\n            position: 'absolute',\n            top: -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n            overflow: 'scroll',\n            direction: 'rtl'\n        }\n    }, '<div></div>');\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n// The scrollbar width computations in computeEdges are sometimes flawed when it comes to\n// retina displays, rounding, and IE11. Massage them into a usable value.\nfunction sanitizeScrollbarWidth(width) {\n    width = Math.max(0, width); // no negatives\n    width = Math.round(width);\n    return width;\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    // must use offset(Width|Height) because compatible with client(Width|Height)\n    var scrollbarLeftRight = sanitizeScrollbarWidth(el.offsetWidth - el.clientWidth - borderLeft - borderRight);\n    var scrollbarBottom = sanitizeScrollbarWidth(el.offsetHeight - el.clientHeight - borderTop - borderBottom);\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n}\nfunction computeViewportRect() {\n    return {\n        left: window.pageXOffset,\n        right: window.pageXOffset + document.documentElement.clientWidth,\n        top: window.pageYOffset,\n        bottom: window.pageYOffset + document.documentElement.clientHeight\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\nfunction computeClippingRect(el) {\n    return getClippingParents(el)\n        .map(function (el) {\n        return computeInnerRect(el);\n    })\n        .concat(computeViewportRect())\n        .reduce(function (rect0, rect1) {\n        return intersectRects(rect0, rect1) || rect1; // should always intersect\n    });\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction listenBySelector(container, eventType, selector, handler) {\n    function realHandler(ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    }\n    container.addEventListener(eventType, realHandler);\n    return function () {\n        container.removeEventListener(eventType, realHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (ev, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(ev, matchedChild);\n            var realOnMouseLeave_1 = function (ev) {\n                currentMatchedChild = null;\n                onMouseLeave(ev, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend'\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf())\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate()\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours()\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes()\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds()\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds()\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return normalizeObject(input);\n    }\n    else if (typeof input === 'number') {\n        return normalizeObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    else {\n        return null;\n    }\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            )\n        };\n    }\n    return null;\n}\nfunction normalizeObject(obj) {\n    return {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: (obj.days || obj.day || 0) +\n            getWeeksFromInput(obj) * 7,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0) // ms\n    };\n}\nfunction getWeeksFromInput(obj) {\n    return obj.weeks || obj.week || 0;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction isSingleDay(dur) {\n    return dur.years === 0 && dur.months === 0 && dur.days === 1 && dur.milliseconds === 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i++) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur, dontReturnWeeks) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (!dontReturnWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Given the scrollbar widths of some other container, create borders/margins on rowEls in order to match the left\n// and right space that was offset by the scrollbars. A 1-pixel border first, then margin beyond that.\nfunction compensateScroll(rowEl, scrollbarWidths) {\n    if (scrollbarWidths.left) {\n        applyStyle(rowEl, {\n            borderLeftWidth: 1,\n            marginLeft: scrollbarWidths.left - 1\n        });\n    }\n    if (scrollbarWidths.right) {\n        applyStyle(rowEl, {\n            borderRightWidth: 1,\n            marginRight: scrollbarWidths.right - 1\n        });\n    }\n}\n// Undoes compensateScroll and restores all borders/margins\nfunction uncompensateScroll(rowEl) {\n    applyStyle(rowEl, {\n        marginLeft: '',\n        marginRight: '',\n        borderLeftWidth: '',\n        borderRightWidth: ''\n    });\n}\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n// Given a total available height to fill, have `els` (essentially child rows) expand to accomodate.\n// By default, all elements that are shorter than the recommended height are expanded uniformly, not considering\n// any other els that are already too tall. if `shouldRedistribute` is on, it considers these tall rows and\n// reduces the available height.\nfunction distributeHeight(els, availableHeight, shouldRedistribute) {\n    // *FLOORING NOTE*: we floor in certain places because zoom can give inaccurate floating-point dimensions,\n    // and it is better to be shorter than taller, to avoid creating unnecessary scrollbars.\n    var minOffset1 = Math.floor(availableHeight / els.length); // for non-last element\n    var minOffset2 = Math.floor(availableHeight - minOffset1 * (els.length - 1)); // for last element *FLOORING NOTE*\n    var flexEls = []; // elements that are allowed to expand. array of DOM nodes\n    var flexOffsets = []; // amount of vertical space it takes up\n    var flexHeights = []; // actual css height\n    var usedHeight = 0;\n    undistributeHeight(els); // give all elements their natural height\n    // find elements that are below the recommended height (expandable).\n    // important to query for heights in a single first pass (to avoid reflow oscillation).\n    els.forEach(function (el, i) {\n        var minOffset = i === els.length - 1 ? minOffset2 : minOffset1;\n        var naturalHeight = el.getBoundingClientRect().height;\n        var naturalOffset = naturalHeight + computeVMargins(el);\n        if (naturalOffset < minOffset) {\n            flexEls.push(el);\n            flexOffsets.push(naturalOffset);\n            flexHeights.push(naturalHeight);\n        }\n        else {\n            // this element stretches past recommended height (non-expandable). mark the space as occupied.\n            usedHeight += naturalOffset;\n        }\n    });\n    // readjust the recommended height to only consider the height available to non-maxed-out rows.\n    if (shouldRedistribute) {\n        availableHeight -= usedHeight;\n        minOffset1 = Math.floor(availableHeight / flexEls.length);\n        minOffset2 = Math.floor(availableHeight - minOffset1 * (flexEls.length - 1)); // *FLOORING NOTE*\n    }\n    // assign heights to all expandable elements\n    flexEls.forEach(function (el, i) {\n        var minOffset = i === flexEls.length - 1 ? minOffset2 : minOffset1;\n        var naturalOffset = flexOffsets[i];\n        var naturalHeight = flexHeights[i];\n        var newHeight = minOffset - (naturalOffset - naturalHeight); // subtract the margin/padding\n        if (naturalOffset < minOffset) { // we check this again because redistribution might have changed things\n            el.style.height = newHeight + 'px';\n        }\n    });\n}\n// Undoes distrubuteHeight, restoring all els to their natural height\nfunction undistributeHeight(els) {\n    els.forEach(function (el) {\n        el.style.height = '';\n    });\n}\n// Given `els`, a set of <td> cells, find the cell with the largest natural width and set the widths of all the\n// cells to be that width.\n// PREREQUISITE: if you want a cell to take up width, it needs to have a single inner element w/ display:inline\nfunction matchCellWidths(els) {\n    var maxInnerWidth = 0;\n    els.forEach(function (el) {\n        var innerEl = el.firstChild; // hopefully an element\n        if (innerEl instanceof HTMLElement) {\n            var innerWidth_1 = innerEl.getBoundingClientRect().width;\n            if (innerWidth_1 > maxInnerWidth) {\n                maxInnerWidth = innerWidth_1;\n            }\n        }\n    });\n    maxInnerWidth++; // sometimes not accurate of width the text needs to stay on one line. insurance\n    els.forEach(function (el) {\n        el.style.width = maxInnerWidth + 'px';\n    });\n    return maxInnerWidth;\n}\n// Given one element that resides inside another,\n// Subtracts the height of the inner element from the outer element.\nfunction subtractInnerElHeight(outerEl, innerEl) {\n    // effin' IE8/9/10/11 sometimes returns 0 for dimensions. this weird hack was the only thing that worked\n    var reflowStyleProps = {\n        position: 'relative',\n        left: -1 // ensure reflow in case the el was already relative. negative is less likely to cause new scroll\n    };\n    applyStyle(outerEl, reflowStyleProps);\n    applyStyle(innerEl, reflowStyleProps);\n    var diff = // grab the dimensions\n     outerEl.getBoundingClientRect().height -\n        innerEl.getBoundingClientRect().height;\n    // undo hack\n    var resetStyleProps = { position: '', left: '' };\n    applyStyle(outerEl, resetStyleProps);\n    applyStyle(innerEl, resetStyleProps);\n    return diff;\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\n/* Object Ordering by Field\n----------------------------------------------------------------------------------------------------------------------*/\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i++) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction capitaliseFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* Weird Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction applyAll(functions, thisObj, args) {\n    if (typeof functions === 'function') { // supplied a single function\n        functions = [functions];\n    }\n    if (functions) {\n        var i = void 0;\n        var ret = void 0;\n        for (i = 0; i < functions.length; i++) {\n            ret = functions[i].apply(thisObj, args) || ret;\n        }\n        return ret;\n    }\n}\nfunction firstDefined() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i++) {\n        if (args[i] !== undefined) {\n            return args[i];\n        }\n    }\n}\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// https://github.com/jashkenas/underscore/blob/1.6.0/underscore.js#L714\nfunction debounce(func, wait) {\n    var timeout;\n    var args;\n    var context;\n    var timestamp;\n    var result;\n    var later = function () {\n        var last = new Date().valueOf() - timestamp;\n        if (last < wait) {\n            timeout = setTimeout(later, wait - last);\n        }\n        else {\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        }\n    };\n    return function () {\n        context = this;\n        args = arguments;\n        timestamp = new Date().valueOf();\n        if (!timeout) {\n            timeout = setTimeout(later, wait);\n        }\n        return result;\n    };\n}\n// Number and Boolean are only types that defaults or not computed for\n// TODO: write more comments\nfunction refineProps(rawProps, processors, defaults, leftoverProps) {\n    if (defaults === void 0) { defaults = {}; }\n    var refined = {};\n    for (var key in processors) {\n        var processor = processors[key];\n        if (rawProps[key] !== undefined) {\n            // found\n            if (processor === Function) {\n                refined[key] = typeof rawProps[key] === 'function' ? rawProps[key] : null;\n            }\n            else if (processor) { // a refining function?\n                refined[key] = processor(rawProps[key]);\n            }\n            else {\n                refined[key] = rawProps[key];\n            }\n        }\n        else if (defaults[key] !== undefined) {\n            // there's an explicit default\n            refined[key] = defaults[key];\n        }\n        else {\n            // must compute a default\n            if (processor === String) {\n                refined[key] = ''; // empty string is default for String\n            }\n            else if (!processor || processor === Number || processor === Boolean || processor === Function) {\n                refined[key] = null; // assign null for other non-custom processor funcs\n            }\n            else {\n                refined[key] = processor(null); // run the custom processor func\n            }\n        }\n    }\n    if (leftoverProps) {\n        for (var key in rawProps) {\n            if (processors[key] === undefined) {\n                leftoverProps[key] = rawProps[key];\n            }\n        }\n    }\n    return refined;\n}\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    else if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    else {\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction parseRecurring(eventInput, allDayDefault, dateEnv, recurringTypes, leftovers) {\n    for (var i = 0; i < recurringTypes.length; i++) {\n        var localLeftovers = {};\n        var parsed = recurringTypes[i].parse(eventInput, localLeftovers, dateEnv);\n        if (parsed) {\n            var allDay = localLeftovers.allDay;\n            delete localLeftovers.allDay; // remove from leftovers\n            if (allDay == null) {\n                allDay = allDayDefault;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            __assign(leftovers, localLeftovers);\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i\n            };\n        }\n    }\n    return null;\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexProps) {\n    var dest = {};\n    var i;\n    var name;\n    var complexObjs;\n    var j;\n    var val;\n    var props;\n    if (complexProps) {\n        for (i = 0; i < complexProps.length; i++) {\n            name = complexProps[i];\n            complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (j = propObjs.length - 1; j >= 0; j--) {\n                val = propObjs[j][name];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (i = propObjs.length - 1; i >= 0; i--) {\n        props = propObjs[i];\n        for (name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nfunction parseEvents(rawEvents, sourceId, calendar, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, sourceId, calendar, allowOpenRange);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\nfunction expandRecurring(eventStore, framingRange, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    instances = filterHash(instances, function (instance) {\n        return !defs[instance.defId].recurringDef;\n    });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    calendar.defaultAllDayEventDuration :\n                    calendar.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration)\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) {\n            return isEventDefsGrouped(def_1, lookDef);\n        });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction transformRawEvents(rawEvents, eventSource, calendar) {\n    var calEachTransform = calendar.opt('eventDataTransform');\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_2 = rawEvents; _i < rawEvents_2.length; _i++) {\n            var rawEvent = rawEvents_2[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign({}, store0.defs, store1.defs),\n        instances: __assign({}, store0.instances, store1.instances)\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) {\n        return defs[instance.defId]; // still exists?\n    });\n    return { defs: defs, instances: instances };\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i++) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start;\n    var end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt++;\n        }\n        else {\n            i++;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1) {\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i++) {\n        if (a0[i] !== a1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc) {\n    var args;\n    var res;\n    return function () {\n        if (!args || !isArraysEqual(args, arguments)) {\n            args = arguments;\n            res = workerFunc.apply(this, arguments);\n        }\n        return res;\n    };\n}\n/*\nalways executes the workerFunc, but if the result is equal to the previous result,\nreturn the previous result instead.\n*/\nfunction memoizeOutput(workerFunc, equalityFunc) {\n    var cachedRes = null;\n    return function () {\n        var newRes = workerFunc.apply(this, arguments);\n        if (cachedRes === null || !(cachedRes === newRes || equalityFunc(cachedRes, newRes))) {\n            cachedRes = newRes;\n        }\n        return cachedRes;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) {\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            default:\n                return 'day';\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) {\n            return formatTimeZoneOffset(date.timeZoneOffset);\n        };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) {\n            return formatWeekNumber(context.computeWeekNumber(date.marker), context.weekLabel, context.locale, extendedSettings.week);\n        };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase();\n        });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) {\n            return m1.toLocaleLowerCase() + 'm';\n        });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) {\n            return m0.toLocaleLowerCase();\n        });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ' ' + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekLabel, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekLabel);\n    }\n    else if (display === 'short') {\n        parts.push(weekLabel, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.isRtl) { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0\n                };\n            }\n        }\n    }\n    return null;\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr, separator) {\n        this.cmdStr = cmdStr;\n        this.separator = separator;\n    }\n    CmdFormatter.prototype.format = function (date, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, this.separator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, this.separator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context) {\n        return this.func(createVerboseFormattingArg(date, null, context));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context) {\n        return this.func(createVerboseFormattingArg(start, end, context));\n    };\n    return FuncFormatter;\n}());\n\n// Formatter Object Creation\nfunction createFormatter(input, defaultSeparator) {\n    if (typeof input === 'object' && input) { // non-null object\n        if (typeof defaultSeparator === 'string') {\n            input = __assign({ separator: defaultSeparator }, input);\n        }\n        return new NativeFormatter(input);\n    }\n    else if (typeof input === 'string') {\n        return new CmdFormatter(input, defaultSeparator);\n    }\n    else if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n}\n// String Utils\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + ':' + padStart(mins, 2);\n    }\n    else {\n        return 'GMT' + sign + hours + (mins ? ':' + padStart(mins, 2) : '');\n    }\n}\n// Arg Utils\nfunction createVerboseFormattingArg(start, end, context, separator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        separator: separator\n    };\n}\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6]\n    };\n}\n\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(calendar, internalEventSource) {\n        this.calendar = calendar;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.calendar.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId]\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        // only relevant to json-feed event sources\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    function EventApi(calendar, def, instance) {\n        this._calendar = calendar;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in DATE_PROPS) ;\n        else if (name in NON_DATE_PROPS) {\n            if (typeof NON_DATE_PROPS[name] === 'function') {\n                val = NON_DATE_PROPS[name](val);\n            }\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a)\n            });\n        }\n        else if (name in UNSCOPED_EVENT_UI_PROPS) {\n            var ui = void 0;\n            if (typeof UNSCOPED_EVENT_UI_PROPS[name] === 'function') {\n                val = UNSCOPED_EVENT_UI_PROPS[name](val);\n            }\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui }\n            });\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a)\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._calendar.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._calendar.opt('allDayMaintainDuration');\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._calendar.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput, this._calendar.opt('defaultRangeSeparator'));\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo\n            });\n        }\n        else {\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo\n            });\n        }\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var def = this._def;\n        var instance = this._instance;\n        if (instance) {\n            this._calendar.dispatch({\n                type: 'MUTATE_EVENTS',\n                instanceId: instance.instanceId,\n                mutation: mutation,\n                fromApi: true\n            });\n            var eventStore = this._calendar.state.eventStore;\n            this._def = eventStore.defs[def.defId];\n            this._instance = eventStore.instances[instance.instanceId];\n        }\n    };\n    EventApi.prototype.remove = function () {\n        this._calendar.dispatch({\n            type: 'REMOVE_EVENT_DEF',\n            defId: this._def.defId\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._calendar, this._calendar.state.eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._calendar.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._calendar.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"rendering\", {\n        get: function () { return this._def.rendering; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: true,\n        configurable: true\n    });\n    return EventApi;\n}());\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        if (def.rendering === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (def.rendering === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else {\n                (def.rendering === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf()\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.rendering === 'background' || def.rendering === 'inverse-background';\n}\nfunction filterSegsViaEls(context, segs, isMirror) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventRender')) {\n        segs = segs.filter(function (seg) {\n            var custom = calendar.publiclyTrigger('eventRender', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirror,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    // TODO: include seg.range once all components consistently generate it\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n            if (custom === false) { // means don't render at all\n                return false;\n            }\n            else if (custom && custom !== true) {\n                seg.el = custom;\n            }\n            return true;\n        });\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        setElSeg(seg.el, seg);\n    }\n    return segs;\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg || null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) {\n        return compileEventUi(eventDef, eventUiBases);\n    });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\n// triggers\nfunction triggerRenderedSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    if (calendar.hasPublicHandlers('eventPositioned')) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            calendar.publiclyTriggerAfterSizing('eventPositioned', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n    if (!calendar.state.loadingLevel) { // avoid initial empty state while pending\n        calendar.afterSizingTriggers._eventsPositioned = [null]; // fire once\n    }\n}\nfunction triggerWillRemoveSegs(context, segs, isMirrors) {\n    var calendar = context.calendar, view = context.view;\n    for (var _i = 0, segs_3 = segs; _i < segs_3.length; _i++) {\n        var seg = segs_3[_i];\n        calendar.trigger('eventElRemove', seg.el);\n    }\n    if (calendar.hasPublicHandlers('eventDestroy')) {\n        for (var _a = 0, segs_4 = segs; _a < segs_4.length; _a++) {\n            var seg = segs_4[_a];\n            calendar.publiclyTrigger('eventDestroy', [\n                {\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    isMirror: isMirrors,\n                    el: seg.el,\n                    view: view\n                }\n            ]);\n        }\n    }\n}\n// is-interactable\nfunction computeEventDraggable(context, eventDef, eventUi) {\n    var calendar = context.calendar, view = context.view;\n    var transformers = calendar.pluginSystem.hooks.isDraggableTransformers;\n    var val = eventUi.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, eventDef, eventUi, view);\n    }\n    return val;\n}\nfunction computeEventStartResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeEventEndResizable(context, eventDef, eventUi) {\n    return eventUi.durationEditable;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, calendar) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, calendar.pluginSystem.hooks.eventDefMutationAppliers, calendar);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, calendar);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, appliers, calendar) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign({}, eventDef, standardProps, { ui: __assign({}, eventDef.ui, standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign({}, copy.extendedProps, mutation.extendedProps);\n    }\n    for (var _i = 0, appliers_1 = appliers; _i < appliers_1.length; _i++) {\n        var applier = appliers_1[_i];\n        applier(copy, mutation, calendar);\n    }\n    if (!copy.hasEnd && calendar.opt('forceEventDuration')) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta)\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta)\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start)\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end)\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = calendar.getDefaultEventEnd(eventDef.allDay, copy.range.start);\n    }\n    return copy;\n}\n\nfunction reduceEventStore (eventStore, action, eventSources, dateProfile, calendar) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, calendar);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventStore;\n            }\n        case 'CHANGE_TIMEZONE':\n            return rezoneDates(eventStore, action.oldDateEnv, calendar.dateEnv);\n        case 'MUTATE_EVENTS':\n            return applyMutationToRelated(eventStore, action.instanceId, action.mutation, action.fromApi, calendar);\n        case 'REMOVE_EVENT_INSTANCES':\n            return excludeInstances(eventStore, action.instances);\n        case 'REMOVE_EVENT_DEF':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return eventDef.defId !== action.defId;\n            });\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) {\n                return !eventDef.sourceId; // only keep events with no source id\n            });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        case 'RESET_EVENTS':\n            return {\n                defs: eventStore.defs,\n                instances: eventStore.instances\n            };\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, calendar) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, calendar), eventSource.sourceId, calendar);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, calendar);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction addEvent(eventStore, subset, expandRange, calendar) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, calendar);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        else {\n            return __assign({}, instance, { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo))\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        }\n    });\n    return { defs: defs, instances: instances };\n}\nfunction applyMutationToRelated(eventStore, instanceId, mutation, fromApi, calendar) {\n    var relevant = getRelevantEvents(eventStore, instanceId);\n    var eventConfigBase = fromApi ?\n        { '': {\n                startEditable: true,\n                durationEditable: true,\n                constraints: [],\n                overlap: null,\n                allows: [],\n                backgroundColor: '',\n                borderColor: '',\n                textColor: '',\n                classNames: []\n            } } :\n        calendar.eventUiBases;\n    relevant = applyMutationToEventStore(relevant, eventConfigBase, mutation, calendar);\n    return mergeEventStores(eventStore, relevant);\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) {\n        return eventDef.sourceId !== sourceId;\n    });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) {\n            return !removals[instance.instanceId];\n        })\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, calendar) {\n    return isNewPropsValid({ eventDrag: interaction }, calendar); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, calendar) {\n    return isNewPropsValid({ dateSelection: dateSelection }, calendar);\n}\nfunction isNewPropsValid(newProps, calendar) {\n    var view = calendar.view;\n    var props = __assign({ businessHours: view ? view.props.businessHours : createEmptyEventStore(), dateSelection: '', eventStore: calendar.state.eventStore, eventUiBases: calendar.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (calendar.pluginSystem.hooks.isPropsValid || isPropsValid)(props, calendar);\n}\nfunction isPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': calendar.selectionConfig } // if not a real event, validate as a selection\n    );\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances); // exclude the subject events. TODO: exclude defs too?\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, calendar)) {\n            return false;\n        }\n        // overlap\n        var overlapFunc = calendar.opt('eventOverlap');\n        if (typeof overlapFunc !== 'function') {\n            overlapFunc = null;\n        }\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (overlapFunc && !overlapFunc(new EventApi(calendar, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(calendar, subjectDef, subjectInstance) // moving event\n                )) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = calendar.state.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign({}, dateSpanMeta, { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(calendar, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(calendar, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(calendar.buildDateSpanApi(subjectDateSpan), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, calendar, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = calendar.selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, calendar)) {\n        return false;\n    }\n    // overlap\n    var overlapFunc = calendar.opt('selectOverlap');\n    if (typeof overlapFunc !== 'function') {\n        overlapFunc = null;\n    }\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (overlapFunc && !overlapFunc(new EventApi(calendar, relevantDefs[relevantInstance.defId], relevantInstance))) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign({}, dateSpanMeta, selection);\n        if (!selectionAllow(calendar.buildDateSpanApi(fullDateSpan), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, calendar) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, calendar), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncalendar // for expanding businesshours\n) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, calendar));\n    }\n    else if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) {\n            return eventDef.groupId === constraint;\n        }));\n    }\n    else if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, calendar));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n// Parsing\n// ------------------------------------------------------------------------------------------------------------------------\nfunction normalizeConstraint(input, calendar) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, '', calendar, true); // allowOpenRange=true\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], '', calendar, true); // allowOpenRange=true\n    }\n    else if (input != null) {\n        return String(input);\n    }\n    else {\n        return null;\n    }\n}\n\nfunction htmlEscape(s) {\n    return (s + '').replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;')\n        .replace(/\\n/g, '<br />');\n}\n// Given a hash of CSS properties, returns a string of CSS.\n// Uses property names as-is (no camel-case conversion). Will not make statements for null/undefined values.\nfunction cssToStr(cssProps) {\n    var statements = [];\n    for (var name_1 in cssProps) {\n        var val = cssProps[name_1];\n        if (val != null && val !== '') {\n            statements.push(name_1 + ':' + val);\n        }\n    }\n    return statements.join(';');\n}\n// Given an object hash of HTML attribute names to values,\n// generates a string that can be injected between < > in HTML\nfunction attrsToStr(attrs) {\n    var parts = [];\n    for (var name_2 in attrs) {\n        var val = attrs[name_2];\n        if (val != null) {\n            parts.push(name_2 + '=\"' + htmlEscape(val) + '\"');\n        }\n    }\n    return parts.join(' ');\n}\nfunction parseClassName(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    else if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    else {\n        return [];\n    }\n}\n\nvar UNSCOPED_EVENT_UI_PROPS = {\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: null,\n    overlap: null,\n    allow: null,\n    className: parseClassName,\n    classNames: parseClassName,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String\n};\nfunction processUnscopedUiProps(rawProps, calendar, leftovers) {\n    var props = refineProps(rawProps, UNSCOPED_EVENT_UI_PROPS, {}, leftovers);\n    var constraint = normalizeConstraint(props.constraint, calendar);\n    return {\n        startEditable: props.startEditable != null ? props.startEditable : props.editable,\n        durationEditable: props.durationEditable != null ? props.durationEditable : props.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: props.overlap,\n        allows: props.allow != null ? [props.allow] : [],\n        backgroundColor: props.backgroundColor || props.color,\n        borderColor: props.borderColor || props.color,\n        textColor: props.textColor,\n        classNames: props.classNames.concat(props.className)\n    };\n}\nfunction processScopedUiProps(prefix, rawScoped, calendar, leftovers) {\n    var rawUnscoped = {};\n    var wasFound = {};\n    for (var key in UNSCOPED_EVENT_UI_PROPS) {\n        var scopedKey = prefix + capitaliseFirstLetter(key);\n        rawUnscoped[key] = rawScoped[scopedKey];\n        wasFound[scopedKey] = true;\n    }\n    if (prefix === 'event') {\n        rawUnscoped.editable = rawScoped.editable; // special case. there is no 'eventEditable', just 'editable'\n    }\n    if (leftovers) {\n        for (var key in rawScoped) {\n            if (!wasFound[key]) {\n                leftovers[key] = rawScoped[key];\n            }\n        }\n    }\n    return processUnscopedUiProps(rawUnscoped, calendar);\n}\nvar EMPTY_EVENT_UI = {\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: []\n};\n// prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames)\n    };\n}\n\nvar NON_DATE_PROPS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    rendering: String,\n    extendedProps: null\n};\nvar DATE_PROPS = {\n    start: null,\n    date: null,\n    end: null,\n    allDay: null\n};\nvar uid = 0;\nfunction parseEvent(raw, sourceId, calendar, allowOpenRange) {\n    var allDayDefault = computeIsAllDayDefault(sourceId, calendar);\n    var leftovers0 = {};\n    var recurringRes = parseRecurring(raw, // raw, but with single-event stuff stripped out\n    allDayDefault, calendar.dateEnv, calendar.pluginSystem.hooks.recurringTypes, leftovers0 // will populate with non-recurring props\n    );\n    if (recurringRes) {\n        var def = parseEventDef(leftovers0, sourceId, recurringRes.allDay, Boolean(recurringRes.duration), calendar);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration\n        };\n        return { def: def, instance: null };\n    }\n    else {\n        var leftovers1 = {};\n        var singleRes = parseSingle(raw, allDayDefault, calendar, leftovers1, allowOpenRange);\n        if (singleRes) {\n            var def = parseEventDef(leftovers1, sourceId, singleRes.allDay, singleRes.hasEnd, calendar);\n            var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return { def: def, instance: instance };\n        }\n    }\n    return null;\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\nThe EventNonDateInput has been normalized (id => publicId, etc).\n*/\nfunction parseEventDef(raw, sourceId, allDay, hasEnd, calendar) {\n    var leftovers = {};\n    var def = pluckNonDateProps(raw, calendar, leftovers);\n    def.defId = String(uid++);\n    def.sourceId = sourceId;\n    def.allDay = allDay;\n    def.hasEnd = hasEnd;\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.eventDefParsers; _i < _a.length; _i++) {\n        var eventDefParser = _a[_i];\n        var newLeftovers = {};\n        eventDefParser(def, leftovers, newLeftovers);\n        leftovers = newLeftovers;\n    }\n    def.extendedProps = __assign(leftovers, def.extendedProps || {});\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: String(uid++),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo\n    };\n}\nfunction parseSingle(raw, allDayDefault, calendar, leftovers, allowOpenRange) {\n    var props = pluckDateProps(raw, leftovers);\n    var allDay = props.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    startMeta = calendar.dateEnv.createMarkerMeta(props.start);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (props.end != null) {\n        endMeta = calendar.dateEnv.createMarkerMeta(props.end);\n    }\n    if (allDay == null) {\n        if (allDayDefault != null) {\n            allDay = allDayDefault;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = calendar.opt('forceEventDuration') || false;\n        endMarker = calendar.dateEnv.add(startMarker, allDay ?\n            calendar.defaultAllDayEventDuration :\n            calendar.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null\n    };\n}\nfunction pluckDateProps(raw, leftovers) {\n    var props = refineProps(raw, DATE_PROPS, {}, leftovers);\n    props.start = (props.start !== null) ? props.start : props.date;\n    delete props.date;\n    return props;\n}\nfunction pluckNonDateProps(raw, calendar, leftovers) {\n    var preLeftovers = {};\n    var props = refineProps(raw, NON_DATE_PROPS, {}, preLeftovers);\n    var ui = processUnscopedUiProps(preLeftovers, calendar, leftovers);\n    props.publicId = props.id;\n    delete props.id;\n    props.ui = ui;\n    return props;\n}\nfunction computeIsAllDayDefault(sourceId, calendar) {\n    var res = null;\n    if (sourceId) {\n        var source = calendar.state.eventSources[sourceId];\n        res = source.allDayDefault;\n    }\n    if (res == null) {\n        res = calendar.opt('allDayDefault');\n    }\n    return res;\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    rendering: 'inverse-background',\n    classNames: 'fc-nonbusiness',\n    groupId: '_businessHours' // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, calendar) {\n    return parseEvents(refineInputs(input), '', calendar);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) {\n            return rawDef.daysOfWeek;\n        });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) {\n        return __assign({}, DEF_DEFAULTS, rawDef);\n    });\n    return rawDefs;\n}\n\nfunction memoizeRendering(renderFunc, unrenderFunc, dependencies) {\n    if (dependencies === void 0) { dependencies = []; }\n    var dependents = [];\n    var thisContext;\n    var prevArgs;\n    function unrender() {\n        if (prevArgs) {\n            for (var _i = 0, dependents_1 = dependents; _i < dependents_1.length; _i++) {\n                var dependent = dependents_1[_i];\n                dependent.unrender();\n            }\n            if (unrenderFunc) {\n                unrenderFunc.apply(thisContext, prevArgs);\n            }\n            prevArgs = null;\n        }\n    }\n    function res() {\n        if (!prevArgs || !isArraysEqual(prevArgs, arguments)) {\n            unrender();\n            thisContext = this;\n            prevArgs = arguments;\n            renderFunc.apply(this, arguments);\n        }\n    }\n    res.dependents = dependents;\n    res.unrender = unrender;\n    for (var _i = 0, dependencies_1 = dependencies; _i < dependencies_1.length; _i++) {\n        var dependency = dependencies_1[_i];\n        dependency.dependents.push(res);\n    }\n    return res;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) {\n            return _this.eventUiBuilders[key] || memoize(buildEventUiForKey);\n        });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) {\n            return _this.getKeysForEventDef(eventDef);\n        });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents) // can't use cached. might be events from other calendar\n            );\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                        origSeg: interaction.origSeg\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts)\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\n// Generates HTML for an anchor to another view into the calendar.\n// Will either generate an <a> tag or a non-clickable <span> tag, depending on enabled settings.\n// `gotoOptions` can either be a DateMarker, or an object with the form:\n// { date, type, forceOff }\n// `type` is a view-type like \"day\" or \"week\". default value is \"day\".\n// `attrs` and `innerHtml` are use to generate the rest of the HTML tag.\nfunction buildGotoAnchorHtml(allOptions, dateEnv, gotoOptions, attrs, innerHtml) {\n    var date;\n    var type;\n    var forceOff;\n    var finalOptions;\n    if (gotoOptions instanceof Date) {\n        date = gotoOptions; // a single date-like input\n    }\n    else {\n        date = gotoOptions.date;\n        type = gotoOptions.type;\n        forceOff = gotoOptions.forceOff;\n    }\n    finalOptions = {\n        date: dateEnv.formatIso(date, { omitTime: true }),\n        type: type || 'day'\n    };\n    if (typeof attrs === 'string') {\n        innerHtml = attrs;\n        attrs = null;\n    }\n    attrs = attrs ? ' ' + attrsToStr(attrs) : ''; // will have a leading space\n    innerHtml = innerHtml || '';\n    if (!forceOff && allOptions.navLinks) {\n        return '<a' + attrs +\n            ' data-goto=\"' + htmlEscape(JSON.stringify(finalOptions)) + '\">' +\n            innerHtml +\n            '</a>';\n    }\n    else {\n        return '<span' + attrs + '>' +\n            innerHtml +\n            '</span>';\n    }\n}\nfunction getAllDayHtml(allOptions) {\n    return allOptions.allDayHtml || htmlEscape(allOptions.allDayText);\n}\n// Computes HTML classNames for a single-day element\nfunction getDayClasses(date, dateProfile, context, noThemeHighlight) {\n    var calendar = context.calendar, options = context.options, theme = context.theme, dateEnv = context.dateEnv;\n    var classes = [];\n    var todayStart;\n    var todayEnd;\n    if (!rangeContainsMarker(dateProfile.activeRange, date)) {\n        classes.push('fc-disabled-day');\n    }\n    else {\n        classes.push('fc-' + DAY_IDS[date.getUTCDay()]);\n        if (options.monthMode &&\n            dateEnv.getMonth(date) !== dateEnv.getMonth(dateProfile.currentRange.start)) {\n            classes.push('fc-other-month');\n        }\n        todayStart = startOfDay(calendar.getNow());\n        todayEnd = addDays(todayStart, 1);\n        if (date < todayStart) {\n            classes.push('fc-past');\n        }\n        else if (date >= todayEnd) {\n            classes.push('fc-future');\n        }\n        else {\n            classes.push('fc-today');\n            if (noThemeHighlight !== true) {\n                classes.push(theme.getClass('today'));\n            }\n        }\n    }\n    return classes;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments);\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments);\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Mixin = /** @class */ (function () {\n    function Mixin() {\n    }\n    // mix into a CLASS\n    Mixin.mixInto = function (destClass) {\n        this.mixIntoObj(destClass.prototype);\n    };\n    // mix into ANY object\n    Mixin.mixIntoObj = function (destObj) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            if (!destObj[name]) { // if destination doesn't already define it\n                destObj[name] = _this.prototype[name];\n            }\n        });\n    };\n    /*\n    will override existing methods\n    TODO: remove! not used anymore\n    */\n    Mixin.mixOver = function (destClass) {\n        var _this = this;\n        Object.getOwnPropertyNames(this.prototype).forEach(function (name) {\n            destClass.prototype[name] = _this.prototype[name];\n        });\n    };\n    return Mixin;\n}());\n\n/*\nUSAGE:\n  import { default as EmitterMixin, EmitterInterface } from './EmitterMixin'\nin class:\n  on: EmitterInterface['on']\n  one: EmitterInterface['one']\n  off: EmitterInterface['off']\n  trigger: EmitterInterface['trigger']\n  triggerWith: EmitterInterface['triggerWith']\n  hasHandlers: EmitterInterface['hasHandlers']\nafter class:\n  EmitterMixin.mixInto(TheClass)\n*/\nvar EmitterMixin = /** @class */ (function (_super) {\n    __extends(EmitterMixin, _super);\n    function EmitterMixin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmitterMixin.prototype.on = function (type, handler) {\n        addToHash(this._handlers || (this._handlers = {}), type, handler);\n        return this; // for chaining\n    };\n    // todo: add comments\n    EmitterMixin.prototype.one = function (type, handler) {\n        addToHash(this._oneHandlers || (this._oneHandlers = {}), type, handler);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.off = function (type, handler) {\n        if (this._handlers) {\n            removeFromHash(this._handlers, type, handler);\n        }\n        if (this._oneHandlers) {\n            removeFromHash(this._oneHandlers, type, handler);\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        this.triggerWith(type, this, args);\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.triggerWith = function (type, context, args) {\n        if (this._handlers) {\n            applyAll(this._handlers[type], context, args);\n        }\n        if (this._oneHandlers) {\n            applyAll(this._oneHandlers[type], context, args);\n            delete this._oneHandlers[type]; // will never fire again\n        }\n        return this; // for chaining\n    };\n    EmitterMixin.prototype.hasHandlers = function (type) {\n        return (this._handlers && this._handlers[type] && this._handlers[type].length) ||\n            (this._oneHandlers && this._oneHandlers[type] && this._oneHandlers[type].length);\n    };\n    return EmitterMixin;\n}(Mixin));\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) {\n                return func !== handler;\n            });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.originEl = originEl;\n        this.els = els;\n        this.isHorizontal = isHorizontal;\n        this.isVertical = isVertical;\n    }\n    // Queries the els for coordinates and stores them.\n    // Call this method before using and of the get* methods below.\n    PositionCache.prototype.build = function () {\n        var originEl = this.originEl;\n        var originClientRect = this.originClientRect =\n            originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (this.isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (this.isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    };\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var lefts = this.lefts;\n        var rights = this.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var tops = this.tops;\n        var bottoms = this.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i++) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\n/*\nEmbodies a div that has potential scrollbars\n*/\nvar ScrollComponent = /** @class */ (function (_super) {\n    __extends(ScrollComponent, _super);\n    function ScrollComponent(overflowX, overflowY) {\n        var _this = _super.call(this, createElement('div', {\n            className: 'fc-scroller'\n        })) || this;\n        _this.overflowX = overflowX;\n        _this.overflowY = overflowY;\n        _this.applyOverflow();\n        return _this;\n    }\n    // sets to natural height, unlocks overflow\n    ScrollComponent.prototype.clear = function () {\n        this.setHeight('auto');\n        this.applyOverflow();\n    };\n    ScrollComponent.prototype.destroy = function () {\n        removeElement(this.el);\n    };\n    // Overflow\n    // -----------------------------------------------------------------------------------------------------------------\n    ScrollComponent.prototype.applyOverflow = function () {\n        applyStyle(this.el, {\n            overflowX: this.overflowX,\n            overflowY: this.overflowY\n        });\n    };\n    // Causes any 'auto' overflow values to resolves to 'scroll' or 'hidden'.\n    // Useful for preserving scrollbar widths regardless of future resizes.\n    // Can pass in scrollbarWidths for optimization.\n    ScrollComponent.prototype.lockOverflow = function (scrollbarWidths) {\n        var overflowX = this.overflowX;\n        var overflowY = this.overflowY;\n        scrollbarWidths = scrollbarWidths || this.getScrollbarWidths();\n        if (overflowX === 'auto') {\n            overflowX = (scrollbarWidths.bottom || // horizontal scrollbars?\n                this.canScrollHorizontally() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        if (overflowY === 'auto') {\n            overflowY = (scrollbarWidths.left || scrollbarWidths.right || // horizontal scrollbars?\n                this.canScrollVertically() // OR scrolling pane with massless scrollbars?\n            ) ? 'scroll' : 'hidden';\n        }\n        applyStyle(this.el, { overflowX: overflowX, overflowY: overflowY });\n    };\n    ScrollComponent.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    ScrollComponent.prototype.getScrollbarWidths = function () {\n        var edges = computeEdges(this.el);\n        return {\n            left: edges.scrollbarLeft,\n            right: edges.scrollbarRight,\n            bottom: edges.scrollbarBottom\n        };\n    };\n    return ScrollComponent;\n}(ElementScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        this.calendarOptions = calendarOptions;\n        this.processIconOverride();\n    }\n    Theme.prototype.processIconOverride = function () {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(this.calendarOptions[this.iconOverrideOption]);\n        }\n    };\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName) {\n        var className = this.iconClasses[buttonName];\n        if (className) {\n            return this.baseIconClass + ' ' + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + ' ' + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar guid = 0;\nvar ComponentContext = /** @class */ (function () {\n    function ComponentContext(calendar, theme, dateEnv, options, view) {\n        this.calendar = calendar;\n        this.theme = theme;\n        this.dateEnv = dateEnv;\n        this.options = options;\n        this.view = view;\n        this.isRtl = options.dir === 'rtl';\n        this.eventOrderSpecs = parseFieldSpecs(options.eventOrder);\n        this.nextDayThreshold = createDuration(options.nextDayThreshold);\n    }\n    ComponentContext.prototype.extend = function (options, view) {\n        return new ComponentContext(this.calendar, this.theme, this.dateEnv, options || this.options, view || this.view);\n    };\n    return ComponentContext;\n}());\nvar Component = /** @class */ (function () {\n    function Component() {\n        this.uid = String(guid++);\n    }\n    Component.addEqualityFuncs = function (newFuncs) {\n        this.prototype.equalityFuncs = __assign({}, this.prototype.equalityFuncs, newFuncs);\n    };\n    Component.prototype.receiveProps = function (props, context) {\n        var oldContext = this.context;\n        this.context = context;\n        if (!oldContext) {\n            this.firstContext(context);\n        }\n        var _a = recycleProps(this.props || {}, props, this.equalityFuncs), anyChanges = _a.anyChanges, comboProps = _a.comboProps;\n        this.props = comboProps;\n        if (anyChanges) {\n            if (oldContext) {\n                this.beforeUpdate();\n            }\n            this.render(comboProps, context);\n            if (oldContext) {\n                this.afterUpdate();\n            }\n        }\n    };\n    Component.prototype.render = function (props, context) {\n    };\n    Component.prototype.firstContext = function (context) {\n    };\n    Component.prototype.beforeUpdate = function () {\n    };\n    Component.prototype.afterUpdate = function () {\n    };\n    // after destroy is called, this component won't ever be used again\n    Component.prototype.destroy = function () {\n    };\n    return Component;\n}());\nComponent.prototype.equalityFuncs = {};\n/*\nReuses old values when equal. If anything is unequal, returns newProps as-is.\nGreat for PureComponent, but won't be feasible with React, so just eliminate and use React's DOM diffing.\n*/\nfunction recycleProps(oldProps, newProps, equalityFuncs) {\n    var comboProps = {}; // some old, some new\n    var anyChanges = false;\n    for (var key in newProps) {\n        if (key in oldProps && (oldProps[key] === newProps[key] ||\n            (equalityFuncs[key] && equalityFuncs[key](oldProps[key], newProps[key])))) {\n            // equal to old? use old prop\n            comboProps[key] = oldProps[key];\n        }\n        else {\n            comboProps[key] = newProps[key];\n            anyChanges = true;\n        }\n    }\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            anyChanges = true;\n            break;\n        }\n    }\n    return { anyChanges: anyChanges, comboProps: comboProps };\n}\n\n/*\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    DateComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeElement(this.el);\n    };\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.buildPositionCaches = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for DayTile\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, calendar);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var calendar = this.context.calendar;\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for DayTile\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, calendar);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-mirror') &&\n            (this.isPopover() || !this.isInPopover(el));\n        // ^above line ensures we don't detect a seg interaction within a nested component.\n        // it's a HACK because it only supports a popover as the nested component.\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        var segEl = elementClosest(el, this.fgSegSelector);\n        return (!segEl || segEl.classList.contains('fc-mirror')) &&\n            !elementClosest(el, '.fc-more') && // a \"more..\" link\n            !elementClosest(el, 'a[data-goto]') && // a clickable nav link\n            !this.isInPopover(el);\n    };\n    DateComponent.prototype.isPopover = function () {\n        return this.el.classList.contains('fc-popover');\n    };\n    DateComponent.prototype.isInPopover = function (el) {\n        return Boolean(elementClosest(el, '.fc-popover'));\n    };\n    return DateComponent;\n}(Component));\nDateComponent.prototype.fgSegSelector = '.fc-event-container > *';\nDateComponent.prototype.bgSegSelector = '.fc-bgevent:not(.fc-nonbusiness)';\n\nvar uid$1 = 0;\nfunction createPlugin(input) {\n    return {\n        id: String(uid$1++),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        eventDefParsers: input.eventDefParsers || [],\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerModifiers: input.viewContainerModifiers || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        defaultView: input.defaultView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {}\n    };\n}\nvar PluginSystem = /** @class */ (function () {\n    function PluginSystem() {\n        this.hooks = {\n            reducers: [],\n            eventDefParsers: [],\n            isDraggableTransformers: [],\n            eventDragMutationMassagers: [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers: [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n            views: {},\n            viewPropsTransformers: [],\n            isPropsValid: null,\n            externalDefTransforms: [],\n            eventResizeJoinTransforms: [],\n            viewContainerModifiers: [],\n            eventDropTransformers: [],\n            componentInteractions: [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs: [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl: null,\n            defaultView: '',\n            elementDraggingImpl: null,\n            optionChangeHandlers: {}\n        };\n        this.addedHash = {};\n    }\n    PluginSystem.prototype.add = function (plugin) {\n        if (!this.addedHash[plugin.id]) {\n            this.addedHash[plugin.id] = true;\n            for (var _i = 0, _a = plugin.deps; _i < _a.length; _i++) {\n                var dep = _a[_i];\n                this.add(dep);\n            }\n            this.hooks = combineHooks(this.hooks, plugin);\n        }\n    };\n    return PluginSystem;\n}());\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        eventDefParsers: hooks0.eventDefParsers.concat(hooks1.eventDefParsers),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign({}, hooks0.views, hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerModifiers: hooks0.viewContainerModifiers.concat(hooks1.viewContainerModifiers),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign({}, hooks0.themeClasses, hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        defaultView: hooks0.defaultView || hooks1.defaultView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign({}, hooks0.optionChangeHandlers, hooks1.optionChangeHandlers)\n    };\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (raw) {\n        if (Array.isArray(raw)) { // short form\n            return raw;\n        }\n        else if (Array.isArray(raw.events)) {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta\n        });\n    }\n};\nvar ArrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef]\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'function') { // short form\n            return raw;\n        }\n        else if (typeof raw.events === 'function') {\n            return raw.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.calendar.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, {\n            start: dateEnv.toDate(arg.range.start),\n            end: dateEnv.toDate(arg.range.end),\n            startStr: dateEnv.formatIso(arg.range.start),\n            endStr: dateEnv.formatIso(arg.range.end),\n            timeZone: dateEnv.timeZone\n        }), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure // send errorObj directly to failure callback\n        );\n    }\n};\nvar FuncEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1]\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            try {\n                var res = JSON.parse(xhr.responseText);\n                successCallback(res, xhr);\n            }\n            catch (err) {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar eventSourceDef$2 = {\n    parseMeta: function (raw) {\n        if (typeof raw === 'string') { // short form\n            raw = { url: raw };\n        }\n        else if (!raw || typeof raw !== 'object' || !raw.url) {\n            return null;\n        }\n        return {\n            url: raw.url,\n            method: (raw.method || 'GET').toUpperCase(),\n            extraParams: raw.extraParams,\n            startParam: raw.startParam,\n            endParam: raw.endParam,\n            timeZoneParam: raw.timeZoneParam\n        };\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.calendar);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    }\n};\nvar JsonFeedEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2]\n});\nfunction buildRequestParams(meta, range, calendar) {\n    var dateEnv = calendar.dateEnv;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = calendar.opt('startParam');\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = calendar.opt('endParam');\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = calendar.opt('timeZoneParam');\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar recurring = {\n    parse: function (rawEvent, leftoverProps, dateEnv) {\n        var createMarker = dateEnv.createMarker.bind(dateEnv);\n        var processors = {\n            daysOfWeek: null,\n            startTime: createDuration,\n            endTime: createDuration,\n            startRecur: createMarker,\n            endRecur: createMarker\n        };\n        var props = refineProps(rawEvent, processors, {}, leftoverProps);\n        var anyValid = false;\n        for (var propName in props) {\n            if (props[propName] != null) {\n                anyValid = true;\n                break;\n            }\n        }\n        if (anyValid) {\n            var duration = null;\n            if ('duration' in leftoverProps) {\n                duration = createDuration(leftoverProps.duration);\n                delete leftoverProps.duration;\n            }\n            if (!duration && props.startTime && props.endTime) {\n                duration = subtractDurations(props.endTime, props.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!props.startTime && !props.endTime),\n                duration: duration,\n                typeData: props // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        else {\n            return [];\n        }\n    }\n};\nvar SimpleRecurrencePlugin = createPlugin({\n    recurringTypes: [recurring]\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar DefaultOptionChangeHandlers = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, calendar, deepEqual) {\n            handleEventSources([events], calendar, deepEqual);\n        },\n        eventSources: handleEventSources,\n        plugins: handlePlugins\n    }\n});\nfunction handleEventSources(inputs, calendar, deepEqual) {\n    var unfoundSources = hashValuesToArray(calendar.state.eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i++) {\n            if (deepEqual(unfoundSources[i]._raw, input)) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        calendar.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        calendar.addEventSource(newInput);\n    }\n}\n// shortcoming: won't remove plugins\nfunction handlePlugins(inputs, calendar) {\n    calendar.addPluginInputs(inputs); // will gracefully handle duplicates\n}\n\nvar config = {}; // TODO: make these options\nvar globalDefaults = {\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    // display\n    columnHeader: true,\n    defaultView: '',\n    aspectRatio: 1.35,\n    header: {\n        left: 'title',\n        center: '',\n        right: 'today prev,next'\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    // nowIndicator: false,\n    scrollTime: '06:00:00',\n    minTime: '00:00:00',\n    maxTime: '24:00:00',\n    showNonCurrentDates: true,\n    // event ajax\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    // allDayDefault: undefined,\n    // locale\n    locales: [],\n    locale: '',\n    // dir: will get this from the default locale\n    // buttonIcons: null,\n    // allows setting a min-height to the event segment to prevent short events overlapping each other\n    timeGridEventMinHeight: 0,\n    themeSystem: 'standard',\n    // eventResizableFromStart: false,\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    // selectable: false,\n    unselectAuto: true,\n    // selectMinDistance: 0,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    // ^ if start tie, longer events go before shorter. final tie-breaker is title text\n    // rerenderDelay: null,\n    eventLimit: false,\n    eventLimitClick: 'popover',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5 // only applies to mouse\n};\nvar rtlDefaults = {\n    header: {\n        left: 'next,prev today',\n        center: '',\n        right: 'title'\n    },\n    buttonIcons: {\n        // TODO: make RTL support the responibility of the theme\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n        prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left'\n    }\n};\nvar complexOptions = [\n    'header',\n    'footer',\n    'buttonText',\n    'buttonIcons'\n];\n// Merges an array of option objects into a single object\nfunction mergeOptions(optionObjs) {\n    return mergeProps(optionObjs, complexOptions);\n}\n// TODO: move this stuff to a \"plugin\"-related file...\nvar INTERNAL_PLUGINS = [\n    ArrayEventSourcePlugin,\n    FuncEventSourcePlugin,\n    JsonFeedEventSourcePlugin,\n    SimpleRecurrencePlugin,\n    DefaultOptionChangeHandlers\n];\nfunction refinePluginDefs(pluginInputs) {\n    var plugins = [];\n    for (var _i = 0, pluginInputs_1 = pluginInputs; _i < pluginInputs_1.length; _i++) {\n        var pluginInput = pluginInputs_1[_i];\n        if (typeof pluginInput === 'string') {\n            var globalName = 'FullCalendar' + capitaliseFirstLetter(pluginInput);\n            if (!window[globalName]) {\n                console.warn('Plugin file not loaded for ' + pluginInput);\n            }\n            else {\n                plugins.push(window[globalName].default); // is an ES6 module\n            }\n        }\n        else {\n            plugins.push(pluginInput);\n        }\n    }\n    return INTERNAL_PLUGINS.concat(plugins);\n}\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4 // 4 days need to be within the year to be considered the first week\n    },\n    dir: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list'\n    },\n    weekLabel: 'W',\n    allDayText: 'all-day',\n    eventLimitText: 'more',\n    noEventsMessage: 'No events to display'\n};\nfunction parseRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var globalArray = window['FullCalendarLocalesAll'] || []; // from locales-all.js\n    var globalObject = window['FullCalendarLocales'] || {}; // from locales/*.js. keys are meaningless\n    var allRawLocales = globalArray.concat(// globalArray is low prio\n    hashValuesToArray(globalObject), // medium prio\n    explicitRawLocales // highest prio\n    );\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    else {\n        return queryLocale(inputSingular, available);\n    }\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i++) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j--) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged\n    };\n}\n\nvar OptionsManager = /** @class */ (function () {\n    function OptionsManager(overrides) {\n        this.overrides = __assign({}, overrides); // make a copy\n        this.dynamicOverrides = {};\n        this.compute();\n    }\n    OptionsManager.prototype.mutate = function (updates, removals, isDynamic) {\n        if (!Object.keys(updates).length && !removals.length) {\n            return;\n        }\n        var overrideHash = isDynamic ? this.dynamicOverrides : this.overrides;\n        __assign(overrideHash, updates);\n        for (var _i = 0, removals_1 = removals; _i < removals_1.length; _i++) {\n            var propName = removals_1[_i];\n            delete overrideHash[propName];\n        }\n        this.compute();\n    };\n    // Computes the flattened options hash for the calendar and assigns to `this.options`.\n    // Assumes this.overrides and this.dynamicOverrides have already been initialized.\n    OptionsManager.prototype.compute = function () {\n        // TODO: not a very efficient system\n        var locales = firstDefined(// explicit locale option given?\n        this.dynamicOverrides.locales, this.overrides.locales, globalDefaults.locales);\n        var locale = firstDefined(// explicit locales option given?\n        this.dynamicOverrides.locale, this.overrides.locale, globalDefaults.locale);\n        var available = parseRawLocales(locales);\n        var localeDefaults = buildLocale(locale || available.defaultCode, available.map).options;\n        var dir = firstDefined(// based on options computed so far, is direction RTL?\n        this.dynamicOverrides.dir, this.overrides.dir, localeDefaults.dir);\n        var dirDefaults = dir === 'rtl' ? rtlDefaults : {};\n        this.dirDefaults = dirDefaults;\n        this.localeDefaults = localeDefaults;\n        this.computed = mergeOptions([\n            globalDefaults,\n            dirDefaults,\n            localeDefaults,\n            this.overrides,\n            this.dynamicOverrides\n        ]);\n    };\n    return OptionsManager;\n}());\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-(\\d{2})(-(\\d{2})([T ](\\d{2}):(\\d{2})(:(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number('0.' + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekLabel = settings.weekLabel != null ? settings.weekLabel : settings.locale.options.weekLabel;\n        this.cmdFormatter = settings.cmdFormatter;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        else {\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        }\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        else if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        else if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        else if (unit === 'day') {\n            return startOfDay(m);\n        }\n        else if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        else if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        else if (unit === 'second') {\n            return startOfSecond(m);\n        }\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m)\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m)\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7)\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        else {\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        }\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker)\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start)\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end)\n        }, this);\n    };\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        else if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        else {\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        }\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        else if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        else if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        else if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        else if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        else {\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60 // convert minutes -> ms\n            );\n        }\n    };\n    return DateEnv;\n}());\n\nvar SIMPLE_SOURCE_PROPS = {\n    id: String,\n    allDayDefault: Boolean,\n    eventDataTransform: Function,\n    success: Function,\n    failure: Function\n};\nvar uid$2 = 0;\nfunction doesSourceNeedRange(eventSource, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\nfunction parseEventSource(raw, calendar) {\n    var defs = calendar.pluginSystem.hooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i--) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            var res = parseEventSourceProps(typeof raw === 'object' ? raw : {}, meta, i, calendar);\n            res._raw = raw;\n            return res;\n        }\n    }\n    return null;\n}\nfunction parseEventSourceProps(raw, meta, sourceDefId, calendar) {\n    var leftovers0 = {};\n    var props = refineProps(raw, SIMPLE_SOURCE_PROPS, {}, leftovers0);\n    var leftovers1 = {};\n    var ui = processUnscopedUiProps(leftovers0, calendar, leftovers1);\n    props.isFetching = false;\n    props.latestFetchId = '';\n    props.fetchRange = null;\n    props.publicId = String(raw.id || '');\n    props.sourceId = String(uid$2++);\n    props.sourceDefId = sourceDefId;\n    props.meta = meta;\n    props.ui = ui;\n    props.extendedProps = leftovers1;\n    return props;\n}\n\nfunction reduceEventSources (eventSources, action, dateProfile, calendar) {\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, dateProfile.activeRange, calendar);\n            }\n            else {\n                return eventSources;\n            }\n        case 'FETCH_EVENT_SOURCES':\n        case 'CHANGE_TIMEZONE':\n            return fetchSourcesByIds(eventSources, action.sourceIds ?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, calendar), dateProfile ? dateProfile.activeRange : null, calendar);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nvar uid$3 = 0;\nfunction addSources(eventSourceHash, sources, fetchRange, calendar) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, calendar);\n    }\n    return __assign({}, eventSourceHash, hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) {\n        return eventSource.sourceId !== sourceId;\n    });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, calendar) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) {\n        return isSourceDirty(eventSource, fetchRange, calendar);\n    }), fetchRange, calendar);\n}\nfunction isSourceDirty(eventSource, fetchRange, calendar) {\n    if (!doesSourceNeedRange(eventSource, calendar)) {\n        return !eventSource.latestFetchId;\n    }\n    else {\n        return !calendar.opt('lazyFetching') ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, calendar) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, calendar);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, calendar) {\n    var sourceDef = calendar.pluginSystem.hooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = String(uid$3++);\n    sourceDef.fetch({\n        eventSource: eventSource,\n        calendar: calendar,\n        range: fetchRange\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        var calSuccess = calendar.opt('eventSourceSuccess');\n        var calSuccessRes;\n        var sourceSuccessRes;\n        if (eventSource.success) {\n            sourceSuccessRes = eventSource.success(rawEvents, res.xhr);\n        }\n        if (calSuccess) {\n            calSuccessRes = calSuccess(rawEvents, res.xhr);\n        }\n        rawEvents = sourceSuccessRes || calSuccessRes || rawEvents;\n        calendar.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents\n        });\n    }, function (error) {\n        var callFailure = calendar.opt('eventSourceFailure');\n        console.warn(error.message, error);\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        if (callFailure) {\n            callFailure(error);\n        }\n        calendar.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error\n        });\n    });\n    return __assign({}, eventSource, { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign({}, sourceHash, (_a = {}, _a[sourceId] = __assign({}, eventSource, { isFetching: false, fetchRange: fetchRange // also serves as a marker that at least one fetch has completed\n         }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, calendar) {\n    return filterHash(eventSources, function (eventSource) {\n        return doesSourceNeedRange(eventSource, calendar);\n    });\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(viewSpec, calendar) {\n        this.viewSpec = viewSpec;\n        this.options = viewSpec.options;\n        this.dateEnv = calendar.dateEnv;\n        this.calendar = calendar;\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate) {\n        var dateEnv = this.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = false; }\n        var validRange;\n        var minTime = null;\n        var maxTime = null;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!this.options.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        minTime = createDuration(this.options.minTime);\n        maxTime = createDuration(this.options.maxTime);\n        activeRange = this.adjustActiveRange(activeRange, minTime, maxTime);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            minTime: minTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            maxTime: maxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration)\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        return this.getRangeOption('validRange', this.calendar.getNow()) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var _a = this, viewSpec = _a.viewSpec, dateEnv = _a.dateEnv;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (viewSpec.duration) {\n            duration = viewSpec.duration;\n            unit = viewSpec.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.options.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // minTime or maxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range, minTime, maxTime) {\n        var dateEnv = this.dateEnv;\n        var start = range.start;\n        var end = range.end;\n        if (this.viewSpec.class.prototype.usesMinMaxTime) {\n            // expand active range if minTime is negative (why not when positive?)\n            if (asRoughDays(minTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, minTime);\n            }\n            // expand active range if maxTime is beyond one day (why not when positive?)\n            if (asRoughDays(maxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, maxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var dateEnv = this.dateEnv;\n        var alignment = this.options.dateAlignment;\n        var dateIncrementInput;\n        var dateIncrementDuration;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!alignment) {\n            dateIncrementInput = this.options.dateIncrement;\n            if (dateIncrementInput) {\n                dateIncrementDuration = createDuration(dateIncrementInput);\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrementDuration) < asRoughMs(duration)) {\n                    alignment = greatestDurationDenominator(dateIncrementDuration, !getWeeksFromInput(dateIncrementInput)).unit;\n                }\n                else {\n                    alignment = unit;\n                }\n            }\n            else {\n                alignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, alignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var dateEnv = this.dateEnv;\n        var customAlignment = this.options.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (customAlignment) {\n            start = dateEnv.startOf(start, customAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount++;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var dateEnv = this.dateEnv;\n        var visibleRange = this.getRangeOption('visibleRange', dateEnv.toDate(date));\n        if (visibleRange && (visibleRange.start == null || visibleRange.end == null)) {\n            return null;\n        }\n        return visibleRange;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrementInput = this.options.dateIncrement;\n        var customAlignment;\n        if (dateIncrementInput) {\n            return createDuration(dateIncrementInput);\n        }\n        else if ((customAlignment = this.options.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        else if (fallback) {\n            return fallback;\n        }\n        else {\n            return createDuration({ days: 1 });\n        }\n    };\n    // Arguments after name will be forwarded to a hypothetical function value\n    // WARNING: passed-in arguments will be given to generator functions as-is and can cause side-effects.\n    // Always clone your objects if you fear mutation.\n    DateProfileGenerator.prototype.getRangeOption = function (name) {\n        var otherArgs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            otherArgs[_i - 1] = arguments[_i];\n        }\n        var val = this.options[name];\n        if (typeof val === 'function') {\n            val = val.apply(null, otherArgs);\n        }\n        if (val) {\n            val = parseRange(val, this.dateEnv);\n        }\n        if (val) {\n            val = computeVisibleDayRange(val);\n        }\n        return val;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.options.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.options.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i++) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt++;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start;\n        var end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n// TODO: find a way to avoid comparing DateProfiles. it's tedious\nfunction isDateProfilesEqual(p0, p1) {\n    return rangesEqual(p0.validRange, p1.validRange) &&\n        rangesEqual(p0.activeRange, p1.activeRange) &&\n        rangesEqual(p0.renderRange, p1.renderRange) &&\n        durationsEqual(p0.minTime, p1.minTime) &&\n        durationsEqual(p0.maxTime, p1.maxTime);\n    /*\n    TODO: compare more?\n      currentRange: DateRange\n      currentRangeUnit: string\n      isRangeAllDay: boolean\n      isValid: boolean\n      dateIncrement: Duration\n    */\n}\n\nfunction reduce (state, action, calendar) {\n    var viewType = reduceViewType(state.viewType, action);\n    var dateProfile = reduceDateProfile(state.dateProfile, action, state.currentDate, viewType, calendar);\n    var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendar);\n    var nextState = __assign({}, state, { viewType: viewType,\n        dateProfile: dateProfile, currentDate: reduceCurrentDate(state.currentDate, action, dateProfile), eventSources: eventSources, eventStore: reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendar), dateSelection: reduceDateSelection(state.dateSelection, action, calendar), eventSelection: reduceSelectedEvent(state.eventSelection, action), eventDrag: reduceEventDrag(state.eventDrag, action, eventSources, calendar), eventResize: reduceEventResize(state.eventResize, action, eventSources, calendar), eventSourceLoadingLevel: computeLoadingLevel(eventSources), loadingLevel: computeLoadingLevel(eventSources) });\n    for (var _i = 0, _a = calendar.pluginSystem.hooks.reducers; _i < _a.length; _i++) {\n        var reducerFunc = _a[_i];\n        nextState = reducerFunc(nextState, action, calendar);\n    }\n    // console.log(action.type, nextState)\n    return nextState;\n}\nfunction reduceViewType(currentViewType, action) {\n    switch (action.type) {\n        case 'SET_VIEW_TYPE':\n            return action.viewType;\n        default:\n            return currentViewType;\n    }\n}\nfunction reduceDateProfile(currentDateProfile, action, currentDate, viewType, calendar) {\n    var newDateProfile;\n    switch (action.type) {\n        case 'PREV':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildPrev(currentDateProfile, currentDate);\n            break;\n        case 'NEXT':\n            newDateProfile = calendar.dateProfileGenerators[viewType].buildNext(currentDateProfile, currentDate);\n            break;\n        case 'SET_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker)) {\n                newDateProfile = calendar.dateProfileGenerators[viewType].build(action.dateMarker, undefined, true // forceToValid\n                );\n            }\n            break;\n        case 'SET_VIEW_TYPE':\n            var generator = calendar.dateProfileGenerators[viewType];\n            if (!generator) {\n                throw new Error(viewType ?\n                    'The FullCalendar view \"' + viewType + '\" does not exist. Make sure your plugins are loaded correctly.' :\n                    'No available FullCalendar view plugins.');\n            }\n            newDateProfile = generator.build(action.dateMarker || currentDate, undefined, true // forceToValid\n            );\n            break;\n    }\n    if (newDateProfile &&\n        newDateProfile.isValid &&\n        !(currentDateProfile && isDateProfilesEqual(currentDateProfile, newDateProfile))) {\n        return newDateProfile;\n    }\n    else {\n        return currentDateProfile;\n    }\n}\nfunction reduceCurrentDate(currentDate, action, dateProfile) {\n    switch (action.type) {\n        case 'PREV':\n        case 'NEXT':\n            if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return currentDate;\n            }\n        case 'SET_DATE':\n        case 'SET_VIEW_TYPE':\n            var newDate = action.dateMarker || currentDate;\n            if (dateProfile.activeRange && !rangeContainsMarker(dateProfile.activeRange, newDate)) {\n                return dateProfile.currentRange.start;\n            }\n            else {\n                return newDate;\n            }\n        default:\n            return currentDate;\n    }\n}\nfunction reduceDateSelection(currentSelection, action, calendar) {\n    switch (action.type) {\n        case 'SELECT_DATES':\n            return action.selection;\n        case 'UNSELECT_DATES':\n            return null;\n        default:\n            return currentSelection;\n    }\n}\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        case 'UNSELECT_EVENT':\n            return '';\n        default:\n            return currentInstanceId;\n    }\n}\nfunction reduceEventDrag(currentDrag, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_DRAG':\n            var newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n                origSeg: newDrag.origSeg\n            };\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        default:\n            return currentDrag;\n    }\n}\nfunction reduceEventResize(currentResize, action, sources, calendar) {\n    switch (action.type) {\n        case 'SET_EVENT_RESIZE':\n            var newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n                origSeg: newResize.origSeg\n            };\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        default:\n            return currentResize;\n    }\n}\nfunction computeLoadingLevel(eventSources) {\n    var cnt = 0;\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            cnt++;\n        }\n    }\n    return cnt;\n}\n\nvar STANDARD_PROPS = {\n    start: null,\n    end: null,\n    allDay: Boolean\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        else {\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var leftovers = {};\n    var standardProps = refineProps(raw, STANDARD_PROPS, {}, leftovers);\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    // use this leftover object as the selection object\n    leftovers.range = {\n        start: startMeta ? startMeta.marker : null,\n        end: endMeta ? endMeta.marker : null\n    };\n    leftovers.allDay = allDay;\n    return leftovers;\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return {\n        start: dateEnv.toDate(span.range.start),\n        end: dateEnv.toDate(span.range.end),\n        startStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        endStr: dateEnv.formatIso(span.range.end, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, calendar) {\n    var def = parseEventDef({ editable: false }, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    calendar);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true\n    };\n}\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) {\n        return (defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null);\n    };\n    var theClass = queryProp('class');\n    var superType = queryProp('superType');\n    if (!superType && theClass) {\n        superType =\n            findViewNameBySubclass(theClass, overrideConfigs) ||\n                findViewNameBySubclass(theClass, defaultConfigs);\n    }\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theClass && superDef) {\n        theClass = superDef.class;\n    }\n    if (!theClass) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        class: theClass,\n        defaults: __assign({}, (superDef ? superDef.defaults : {}), (defaultConfig ? defaultConfig.options : {})),\n        overrides: __assign({}, (superDef ? superDef.overrides : {}), (overrideConfig ? overrideConfig.options : {}))\n    };\n}\nfunction findViewNameBySubclass(viewSubclass, configs) {\n    var superProto = Object.getPrototypeOf(viewSubclass.prototype);\n    for (var viewType in configs) {\n        var parsed = configs[viewType];\n        // need DIRECT subclass, so instanceof won't do it\n        if (parsed.class && parsed.class.prototype === superProto) {\n            return viewType;\n        }\n    }\n    return '';\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nvar VIEW_DEF_PROPS = {\n    type: String,\n    class: null\n};\nfunction parseViewConfig(input) {\n    if (typeof input === 'function') {\n        input = { class: input };\n    }\n    var options = {};\n    var props = refineProps(input, VIEW_DEF_PROPS, {}, options);\n    return {\n        superType: props.type,\n        class: props.class,\n        options: options\n    };\n}\n\nfunction buildViewSpecs(defaultInputs, optionsManager) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionsManager.overrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) {\n        return buildViewSpec(viewDef, overrideConfigs, optionsManager);\n    });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionsManager) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        optionsManager.dynamicOverrides.duration ||\n        optionsManager.overrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDuration(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration, !getWeeksFromInput(durationInput));\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].options : {};\n            }\n        }\n    }\n    var queryButtonText = function (options) {\n        var buttonTextMap = options.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n    };\n    return {\n        type: viewDef.type,\n        class: viewDef.class,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        options: __assign({}, globalDefaults, viewDef.defaults, optionsManager.dirDefaults, optionsManager.localeDefaults, optionsManager.overrides, singleUnitOverrides, viewDef.overrides, optionsManager.dynamicOverrides),\n        buttonTextOverride: queryButtonText(optionsManager.dynamicOverrides) ||\n            queryButtonText(optionsManager.overrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(optionsManager.localeDefaults) ||\n            queryButtonText(optionsManager.dirDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(globalDefaults) ||\n            viewDef.type // fall back to given view name\n    };\n}\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(extraClassName) {\n        var _this = _super.call(this) || this;\n        _this._renderLayout = memoizeRendering(_this.renderLayout, _this.unrenderLayout);\n        _this._updateTitle = memoizeRendering(_this.updateTitle, null, [_this._renderLayout]);\n        _this._updateActiveButton = memoizeRendering(_this.updateActiveButton, null, [_this._renderLayout]);\n        _this._updateToday = memoizeRendering(_this.updateToday, null, [_this._renderLayout]);\n        _this._updatePrev = memoizeRendering(_this.updatePrev, null, [_this._renderLayout]);\n        _this._updateNext = memoizeRendering(_this.updateNext, null, [_this._renderLayout]);\n        _this.el = createElement('div', { className: 'fc-toolbar ' + extraClassName });\n        return _this;\n    }\n    Toolbar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._renderLayout.unrender(); // should unrender everything else\n        removeElement(this.el);\n    };\n    Toolbar.prototype.render = function (props) {\n        this._renderLayout(props.layout);\n        this._updateTitle(props.title);\n        this._updateActiveButton(props.activeButton);\n        this._updateToday(props.isTodayEnabled);\n        this._updatePrev(props.isPrevEnabled);\n        this._updateNext(props.isNextEnabled);\n    };\n    Toolbar.prototype.renderLayout = function (layout) {\n        var el = this.el;\n        this.viewsWithButtons = [];\n        appendToElement(el, this.renderSection('left', layout.left));\n        appendToElement(el, this.renderSection('center', layout.center));\n        appendToElement(el, this.renderSection('right', layout.right));\n    };\n    Toolbar.prototype.unrenderLayout = function () {\n        this.el.innerHTML = '';\n    };\n    Toolbar.prototype.renderSection = function (position, buttonStr) {\n        var _this = this;\n        var _a = this.context, theme = _a.theme, calendar = _a.calendar;\n        var optionsManager = calendar.optionsManager;\n        var viewSpecs = calendar.viewSpecs;\n        var sectionEl = createElement('div', { className: 'fc-' + position });\n        var calendarCustomButtons = optionsManager.computed.customButtons || {};\n        var calendarButtonTextOverrides = optionsManager.overrides.buttonText || {};\n        var calendarButtonText = optionsManager.computed.buttonText || {};\n        if (buttonStr) {\n            buttonStr.split(' ').forEach(function (buttonGroupStr, i) {\n                var groupChildren = [];\n                var isOnlyButtons = true;\n                var groupEl;\n                buttonGroupStr.split(',').forEach(function (buttonName, j) {\n                    var customButtonProps;\n                    var viewSpec;\n                    var buttonClick;\n                    var buttonIcon; // only one of these will be set\n                    var buttonText; // \"\n                    var buttonInnerHtml;\n                    var buttonClasses;\n                    var buttonEl;\n                    var buttonAriaAttr;\n                    if (buttonName === 'title') {\n                        groupChildren.push(htmlToElement('<h2>&nbsp;</h2>')); // we always want it to take up height\n                        isOnlyButtons = false;\n                    }\n                    else {\n                        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n                            buttonClick = function (ev) {\n                                if (customButtonProps.click) {\n                                    customButtonProps.click.call(buttonEl, ev);\n                                }\n                            };\n                            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = customButtonProps.text);\n                        }\n                        else if ((viewSpec = viewSpecs[buttonName])) {\n                            _this.viewsWithButtons.push(buttonName);\n                            buttonClick = function () {\n                                calendar.changeView(buttonName);\n                            };\n                            (buttonText = viewSpec.buttonTextOverride) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = viewSpec.buttonTextDefault);\n                        }\n                        else if (calendar[buttonName]) { // a calendar method\n                            buttonClick = function () {\n                                calendar[buttonName]();\n                            };\n                            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                                (buttonIcon = theme.getIconClass(buttonName)) ||\n                                (buttonText = calendarButtonText[buttonName]);\n                            //            ^ everything else is considered default\n                        }\n                        if (buttonClick) {\n                            buttonClasses = [\n                                'fc-' + buttonName + '-button',\n                                theme.getClass('button')\n                            ];\n                            if (buttonText) {\n                                buttonInnerHtml = htmlEscape(buttonText);\n                                buttonAriaAttr = '';\n                            }\n                            else if (buttonIcon) {\n                                buttonInnerHtml = \"<span class='\" + buttonIcon + \"'></span>\";\n                                buttonAriaAttr = ' aria-label=\"' + buttonName + '\"';\n                            }\n                            buttonEl = htmlToElement(// type=\"button\" so that it doesn't submit a form\n                            '<button type=\"button\" class=\"' + buttonClasses.join(' ') + '\"' +\n                                buttonAriaAttr +\n                                '>' + buttonInnerHtml + '</button>');\n                            buttonEl.addEventListener('click', buttonClick);\n                            groupChildren.push(buttonEl);\n                        }\n                    }\n                });\n                if (groupChildren.length > 1) {\n                    groupEl = document.createElement('div');\n                    var buttonGroupClassName = theme.getClass('buttonGroup');\n                    if (isOnlyButtons && buttonGroupClassName) {\n                        groupEl.classList.add(buttonGroupClassName);\n                    }\n                    appendToElement(groupEl, groupChildren);\n                    sectionEl.appendChild(groupEl);\n                }\n                else {\n                    appendToElement(sectionEl, groupChildren); // 1 or 0 children\n                }\n            });\n        }\n        return sectionEl;\n    };\n    Toolbar.prototype.updateToday = function (isTodayEnabled) {\n        this.toggleButtonEnabled('today', isTodayEnabled);\n    };\n    Toolbar.prototype.updatePrev = function (isPrevEnabled) {\n        this.toggleButtonEnabled('prev', isPrevEnabled);\n    };\n    Toolbar.prototype.updateNext = function (isNextEnabled) {\n        this.toggleButtonEnabled('next', isNextEnabled);\n    };\n    Toolbar.prototype.updateTitle = function (text) {\n        findElements(this.el, 'h2').forEach(function (titleEl) {\n            titleEl.innerText = text;\n        });\n    };\n    Toolbar.prototype.updateActiveButton = function (buttonName) {\n        var theme = this.context.theme;\n        var className = theme.getClass('buttonActive');\n        findElements(this.el, 'button').forEach(function (buttonEl) {\n            if (buttonName && buttonEl.classList.contains('fc-' + buttonName + '-button')) {\n                buttonEl.classList.add(className);\n            }\n            else {\n                buttonEl.classList.remove(className);\n            }\n        });\n    };\n    Toolbar.prototype.toggleButtonEnabled = function (buttonName, bool) {\n        findElements(this.el, '.fc-' + buttonName + '-button').forEach(function (buttonEl) {\n            buttonEl.disabled = !bool;\n        });\n    };\n    return Toolbar;\n}(Component));\n\nvar CalendarComponent = /** @class */ (function (_super) {\n    __extends(CalendarComponent, _super);\n    function CalendarComponent(el) {\n        var _this = _super.call(this) || this;\n        _this.elClassNames = [];\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.renderToolbars = memoizeRendering(_this._renderToolbars, _this._unrenderToolbars, [_this.renderSkeleton]);\n        _this.buildComponentContext = memoize(buildComponentContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.el = el;\n        _this.computeTitle = memoize(computeTitle);\n        _this.parseBusinessHours = memoize(function (input) {\n            return parseBusinessHours(input, _this.context.calendar);\n        });\n        return _this;\n    }\n    CalendarComponent.prototype.render = function (props, context) {\n        this.freezeHeight();\n        var title = this.computeTitle(props.dateProfile, props.viewSpec.options);\n        this.renderSkeleton(context);\n        this.renderToolbars(props.viewSpec, props.dateProfile, props.currentDate, title);\n        this.renderView(props, title);\n        this.updateSize();\n        this.thawHeight();\n    };\n    CalendarComponent.prototype.destroy = function () {\n        if (this.header) {\n            this.header.destroy();\n        }\n        if (this.footer) {\n            this.footer.destroy();\n        }\n        this.renderSkeleton.unrender(); // will call destroyView\n        _super.prototype.destroy.call(this);\n    };\n    CalendarComponent.prototype._renderSkeleton = function (context) {\n        this.updateElClassNames(context);\n        prependToElement(this.el, this.contentEl = createElement('div', { className: 'fc-view-container' }));\n        var calendar = context.calendar;\n        for (var _i = 0, _a = calendar.pluginSystem.hooks.viewContainerModifiers; _i < _a.length; _i++) {\n            var modifyViewContainer = _a[_i];\n            modifyViewContainer(this.contentEl, calendar);\n        }\n    };\n    CalendarComponent.prototype._unrenderSkeleton = function () {\n        // weird to have this here\n        if (this.view) {\n            this.savedScroll = this.view.queryScroll();\n            this.view.destroy();\n            this.view = null;\n        }\n        removeElement(this.contentEl);\n        this.removeElClassNames();\n    };\n    CalendarComponent.prototype.removeElClassNames = function () {\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.remove(className);\n        }\n        this.elClassNames = [];\n    };\n    CalendarComponent.prototype.updateElClassNames = function (context) {\n        this.removeElClassNames();\n        var theme = context.theme, options = context.options;\n        this.elClassNames = [\n            'fc',\n            'fc-' + options.dir,\n            theme.getClass('widget')\n        ];\n        var classList = this.el.classList;\n        for (var _i = 0, _a = this.elClassNames; _i < _a.length; _i++) {\n            var className = _a[_i];\n            classList.add(className);\n        }\n    };\n    CalendarComponent.prototype._renderToolbars = function (viewSpec, dateProfile, currentDate, title) {\n        var _a = this, context = _a.context, header = _a.header, footer = _a.footer;\n        var options = context.options, calendar = context.calendar;\n        var headerLayout = options.header;\n        var footerLayout = options.footer;\n        var dateProfileGenerator = this.props.dateProfileGenerator;\n        var now = calendar.getNow();\n        var todayInfo = dateProfileGenerator.build(now);\n        var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate);\n        var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate);\n        var toolbarProps = {\n            title: title,\n            activeButton: viewSpec.type,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled: nextInfo.isValid\n        };\n        if (headerLayout) {\n            if (!header) {\n                header = this.header = new Toolbar('fc-header-toolbar');\n                prependToElement(this.el, header.el);\n            }\n            header.receiveProps(__assign({ layout: headerLayout }, toolbarProps), context);\n        }\n        else if (header) {\n            header.destroy();\n            header = this.header = null;\n        }\n        if (footerLayout) {\n            if (!footer) {\n                footer = this.footer = new Toolbar('fc-footer-toolbar');\n                appendToElement(this.el, footer.el);\n            }\n            footer.receiveProps(__assign({ layout: footerLayout }, toolbarProps), context);\n        }\n        else if (footer) {\n            footer.destroy();\n            footer = this.footer = null;\n        }\n    };\n    CalendarComponent.prototype._unrenderToolbars = function () {\n        if (this.header) {\n            this.header.destroy();\n            this.header = null;\n        }\n        if (this.footer) {\n            this.footer.destroy();\n            this.footer = null;\n        }\n    };\n    CalendarComponent.prototype.renderView = function (props, title) {\n        var view = this.view;\n        var _a = this.context, calendar = _a.calendar, options = _a.options;\n        var viewSpec = props.viewSpec, dateProfileGenerator = props.dateProfileGenerator;\n        if (!view || view.viewSpec !== viewSpec) {\n            if (view) {\n                view.destroy();\n            }\n            view = this.view = new viewSpec['class'](viewSpec, this.contentEl);\n            if (this.savedScroll) {\n                view.addScroll(this.savedScroll, true);\n                this.savedScroll = null;\n            }\n        }\n        view.title = title; // for the API\n        var viewProps = {\n            dateProfileGenerator: dateProfileGenerator,\n            dateProfile: props.dateProfile,\n            businessHours: this.parseBusinessHours(viewSpec.options.businessHours),\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize\n        };\n        var transformers = this.buildViewPropTransformers(calendar.pluginSystem.hooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, viewSpec, props, options));\n        }\n        view.receiveProps(viewProps, this.buildComponentContext(this.context, viewSpec, view));\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.updateSize = function (isResize) {\n        if (isResize === void 0) { isResize = false; }\n        var view = this.view;\n        if (!view) {\n            return; // why?\n        }\n        if (isResize || this.isHeightAuto == null) {\n            this.computeHeightVars();\n        }\n        view.updateSize(isResize, this.viewHeight, this.isHeightAuto);\n        view.updateNowIndicator(); // we need to guarantee this will run after updateSize\n        view.popScroll(isResize);\n    };\n    CalendarComponent.prototype.computeHeightVars = function () {\n        var calendar = this.context.calendar; // yuck. need to handle dynamic options\n        var heightInput = calendar.opt('height');\n        var contentHeightInput = calendar.opt('contentHeight');\n        this.isHeightAuto = heightInput === 'auto' || contentHeightInput === 'auto';\n        if (typeof contentHeightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = contentHeightInput;\n        }\n        else if (typeof contentHeightInput === 'function') { // exists and is a function\n            this.viewHeight = contentHeightInput();\n        }\n        else if (typeof heightInput === 'number') { // exists and not 'auto'\n            this.viewHeight = heightInput - this.queryToolbarsHeight();\n        }\n        else if (typeof heightInput === 'function') { // exists and is a function\n            this.viewHeight = heightInput() - this.queryToolbarsHeight();\n        }\n        else if (heightInput === 'parent') { // set to height of parent element\n            var parentEl = this.el.parentNode;\n            this.viewHeight = parentEl.getBoundingClientRect().height - this.queryToolbarsHeight();\n        }\n        else {\n            this.viewHeight = Math.round(this.contentEl.getBoundingClientRect().width /\n                Math.max(calendar.opt('aspectRatio'), .5));\n        }\n    };\n    CalendarComponent.prototype.queryToolbarsHeight = function () {\n        var height = 0;\n        if (this.header) {\n            height += computeHeightAndMargins(this.header.el);\n        }\n        if (this.footer) {\n            height += computeHeightAndMargins(this.footer.el);\n        }\n        return height;\n    };\n    // Height \"Freezing\"\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarComponent.prototype.freezeHeight = function () {\n        applyStyle(this.el, {\n            height: this.el.getBoundingClientRect().height,\n            overflow: 'hidden'\n        });\n    };\n    CalendarComponent.prototype.thawHeight = function () {\n        applyStyle(this.el, {\n            height: '',\n            overflow: ''\n        });\n    };\n    return CalendarComponent;\n}(Component));\n// Title and Date Formatting\n// -----------------------------------------------------------------------------------------------------------------\n// Computes what the title at the top of the calendar should be for this view\nfunction computeTitle(dateProfile, viewOptions) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return this.context.dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || computeTitleFormat(dateProfile), viewOptions.titleRangeSeparator), { isEndExclusive: dateProfile.isRangeAllDay });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction computeTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    else if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    else {\n        var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        else {\n            // one day. longer, like \"September 9 2014\"\n            return { year: 'numeric', month: 'long', day: 'numeric' };\n        }\n    }\n}\n// build a context scoped to the view\nfunction buildComponentContext(context, viewSpec, view) {\n    return context.extend(viewSpec.options, view);\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (theClass) {\n        return new theClass();\n    });\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var _a = component.context, calendar = _a.calendar, view = _a.view;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-has-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                calendar.publiclyTrigger('eventClick', [\n                    {\n                        el: segEl,\n                        event: new EventApi(component.context.calendar, seg.eventRange.def, seg.eventRange.instance),\n                        jsEvent: ev,\n                        view: view\n                    }\n                ]);\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        var component = settings.component;\n        _this.destroy = listenBySelector(component.el, 'click', component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                segEl.classList.add('fc-allow-mouse-resize');\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                segEl.classList.remove('fc-allow-mouse-resize');\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        var component = settings.component;\n        _this.removeHoverListeners = listenToHoverBySelector(component.el, component.fgSegSelector + ',' + component.bgSegSelector, _this.handleSegEnter, _this.handleSegLeave);\n        // how to make sure component already has context?\n        component.context.calendar.on('eventElRemove', _this.handleEventElRemove);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n        this.component.context.calendar.off('eventElRemove', this.handleEventElRemove);\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var _a = component.context, calendar = _a.calendar, view = _a.view;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            calendar.publiclyTrigger(publicEvName, [\n                {\n                    el: segEl,\n                    event: new EventApi(calendar, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: view\n                }\n            ]);\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    widget: 'fc-unthemed',\n    widgetHeader: 'fc-widget-header',\n    widgetContent: 'fc-widget-content',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n    popoverHeader: 'fc-widget-header',\n    popoverContent: 'fc-widget-content',\n    // day grid\n    headerRow: 'fc-widget-header',\n    dayRow: 'fc-widget-content',\n    // list view\n    listView: 'fc-widget-content'\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right'\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons';\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nvar Calendar = /** @class */ (function () {\n    function Calendar(el, overrides) {\n        var _this = this;\n        this.buildComponentContext = memoize(buildComponentContext$1);\n        this.parseRawLocales = memoize(parseRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.buildEventUiSingleBase = memoize(this._buildEventUiSingleBase);\n        this.buildSelectionConfig = memoize(this._buildSelectionConfig);\n        this.buildEventUiBySource = memoizeOutput(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.interactionsStore = {};\n        this.actionQueue = [];\n        this.isReducing = false;\n        // isDisplaying: boolean = false // installed in DOM? accepting renders?\n        this.needsRerender = false; // needs a render?\n        this.isRendering = false; // currently in the executeRender function?\n        this.renderingPauseDepth = 0;\n        this.buildDelayedRerender = memoize(buildDelayedRerender);\n        this.afterSizingTriggers = {};\n        this.isViewUpdated = false;\n        this.isDatesUpdated = false;\n        this.isEventsUpdated = false;\n        this.el = el;\n        this.optionsManager = new OptionsManager(overrides || {});\n        this.pluginSystem = new PluginSystem();\n        // only do once. don't do in handleOptions. because can't remove plugins\n        this.addPluginInputs(this.optionsManager.computed.plugins || []);\n        this.handleOptions(this.optionsManager.computed);\n        this.publiclyTrigger('_init'); // for tests\n        this.hydrate();\n        this.calendarInteractions = this.pluginSystem.hooks.calendarInteractions\n            .map(function (calendarInteractionClass) {\n            return new calendarInteractionClass(_this);\n        });\n    }\n    Calendar.prototype.addPluginInputs = function (pluginInputs) {\n        var pluginDefs = refinePluginDefs(pluginInputs);\n        for (var _i = 0, pluginDefs_1 = pluginDefs; _i < pluginDefs_1.length; _i++) {\n            var pluginDef = pluginDefs_1[_i];\n            this.pluginSystem.add(pluginDef);\n        }\n    };\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        // public API\n        get: function () {\n            return this.component ? this.component.view : null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Public API for rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.render = function () {\n        if (!this.component) {\n            this.component = new CalendarComponent(this.el);\n            this.renderableEventStore = createEmptyEventStore();\n            this.bindHandlers();\n            this.executeRender();\n        }\n        else {\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.component) {\n            this.unbindHandlers();\n            this.component.destroy(); // don't null-out. in case API needs access\n            this.component = null; // umm ???\n            for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n                var interaction = _a[_i];\n                interaction.destroy();\n            }\n            this.publiclyTrigger('_destroyed');\n        }\n    };\n    // Handlers\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.bindHandlers = function () {\n        var _this = this;\n        // event delegation for nav links\n        this.removeNavLinkListener = listenBySelector(this.el, 'click', 'a[data-goto]', function (ev, anchorEl) {\n            var gotoOptions = anchorEl.getAttribute('data-goto');\n            gotoOptions = gotoOptions ? JSON.parse(gotoOptions) : {};\n            var dateEnv = _this.dateEnv;\n            var dateMarker = dateEnv.createMarker(gotoOptions.date);\n            var viewType = gotoOptions.type;\n            // property like \"navLinkDayClick\". might be a string or a function\n            var customAction = _this.viewOpt('navLink' + capitaliseFirstLetter(viewType) + 'Click');\n            if (typeof customAction === 'function') {\n                customAction(dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                _this.zoomTo(dateMarker, viewType);\n            }\n        });\n        if (this.opt('handleWindowResize')) {\n            window.addEventListener('resize', this.windowResizeProxy = debounce(// prevents rapid calls\n            this.windowResize.bind(this), this.opt('windowResizeDelay')));\n        }\n    };\n    Calendar.prototype.unbindHandlers = function () {\n        this.removeNavLinkListener();\n        if (this.windowResizeProxy) {\n            window.removeEventListener('resize', this.windowResizeProxy);\n            this.windowResizeProxy = null;\n        }\n    };\n    // Dispatcher\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hydrate = function () {\n        var _this = this;\n        this.state = this.buildInitialState();\n        var rawSources = this.opt('eventSources') || [];\n        var singleRawSource = this.opt('events');\n        var sources = []; // parsed\n        if (singleRawSource) {\n            rawSources.unshift(singleRawSource);\n        }\n        for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n            var rawSource = rawSources_1[_i];\n            var source = parseEventSource(rawSource, this);\n            if (source) {\n                sources.push(source);\n            }\n        }\n        this.batchRendering(function () {\n            _this.dispatch({ type: 'INIT' }); // pass in sources here?\n            _this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: sources });\n            _this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: _this.opt('defaultView') || _this.pluginSystem.hooks.defaultView\n            });\n        });\n    };\n    Calendar.prototype.buildInitialState = function () {\n        return {\n            viewType: null,\n            loadingLevel: 0,\n            eventSourceLoadingLevel: 0,\n            currentDate: this.getInitialDate(),\n            dateProfile: null,\n            eventSources: {},\n            eventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null\n        };\n    };\n    Calendar.prototype.dispatch = function (action) {\n        this.actionQueue.push(action);\n        if (!this.isReducing) {\n            this.isReducing = true;\n            var oldState = this.state;\n            while (this.actionQueue.length) {\n                this.state = this.reduce(this.state, this.actionQueue.shift(), this);\n            }\n            var newState = this.state;\n            this.isReducing = false;\n            if (!oldState.loadingLevel && newState.loadingLevel) {\n                this.publiclyTrigger('loading', [true]);\n            }\n            else if (oldState.loadingLevel && !newState.loadingLevel) {\n                this.publiclyTrigger('loading', [false]);\n            }\n            var view = this.component && this.component.view;\n            if (oldState.eventStore !== newState.eventStore) {\n                if (oldState.eventStore) {\n                    this.isEventsUpdated = true;\n                }\n            }\n            if (oldState.dateProfile !== newState.dateProfile) {\n                if (oldState.dateProfile && view) { // why would view be null!?\n                    this.publiclyTrigger('datesDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isDatesUpdated = true;\n            }\n            if (oldState.viewType !== newState.viewType) {\n                if (oldState.viewType && view) { // why would view be null!?\n                    this.publiclyTrigger('viewSkeletonDestroy', [\n                        {\n                            view: view,\n                            el: view.el\n                        }\n                    ]);\n                }\n                this.isViewUpdated = true;\n            }\n            this.requestRerender();\n        }\n    };\n    Calendar.prototype.reduce = function (state, action, calendar) {\n        return reduce(state, action, calendar);\n    };\n    // Render Queue\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.requestRerender = function () {\n        this.needsRerender = true;\n        this.delayedRerender(); // will call a debounced-version of tryRerender\n    };\n    Calendar.prototype.tryRerender = function () {\n        if (this.component && // must be accepting renders\n            this.needsRerender && // indicates that a rerender was requested\n            !this.renderingPauseDepth && // not paused\n            !this.isRendering // not currently in the render loop\n        ) {\n            this.executeRender();\n        }\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderingPauseDepth++;\n        func();\n        this.renderingPauseDepth--;\n        if (this.needsRerender) {\n            this.requestRerender();\n        }\n    };\n    // Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.executeRender = function () {\n        // clear these BEFORE the render so that new values will accumulate during render\n        this.needsRerender = false;\n        this.isRendering = true;\n        this.renderComponent();\n        this.isRendering = false;\n        // received a rerender request while rendering\n        if (this.needsRerender) {\n            this.delayedRerender();\n        }\n    };\n    /*\n    don't call this directly. use executeRender instead\n    */\n    Calendar.prototype.renderComponent = function () {\n        var _a = this, state = _a.state, component = _a.component;\n        var viewType = state.viewType;\n        var viewSpec = this.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"View type \\\"\" + viewType + \"\\\" is not valid\");\n        }\n        // if event sources are still loading and progressive rendering hasn't been enabled,\n        // keep rendering the last fully loaded set of events\n        var renderableEventStore = this.renderableEventStore =\n            (state.eventSourceLoadingLevel && !this.opt('progressiveEventRendering')) ?\n                this.renderableEventStore :\n                state.eventStore;\n        var eventUiSingleBase = this.buildEventUiSingleBase(viewSpec.options);\n        var eventUiBySource = this.buildEventUiBySource(state.eventSources);\n        var eventUiBases = this.eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        component.receiveProps(__assign({}, state, { viewSpec: viewSpec, dateProfileGenerator: this.dateProfileGenerators[viewType], dateProfile: state.dateProfile, eventStore: renderableEventStore, eventUiBases: eventUiBases, dateSelection: state.dateSelection, eventSelection: state.eventSelection, eventDrag: state.eventDrag, eventResize: state.eventResize }), this.buildComponentContext(this.theme, this.dateEnv, this.optionsManager.computed));\n        if (this.isViewUpdated) {\n            this.isViewUpdated = false;\n            this.publiclyTrigger('viewSkeletonRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isDatesUpdated) {\n            this.isDatesUpdated = false;\n            this.publiclyTrigger('datesRender', [\n                {\n                    view: component.view,\n                    el: component.view.el\n                }\n            ]);\n        }\n        if (this.isEventsUpdated) {\n            this.isEventsUpdated = false;\n        }\n        this.releaseAfterSizingTriggers();\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.setOption = function (name, val) {\n        var _a;\n        this.mutateOptions((_a = {}, _a[name] = val, _a), [], true);\n    };\n    Calendar.prototype.getOption = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.opt = function (name) {\n        return this.optionsManager.computed[name];\n    };\n    Calendar.prototype.viewOpt = function (name) {\n        return this.viewOpts()[name];\n    };\n    Calendar.prototype.viewOpts = function () {\n        return this.viewSpecs[this.state.viewType].options;\n    };\n    /*\n    handles option changes (like a diff)\n    */\n    Calendar.prototype.mutateOptions = function (updates, removals, isDynamic, deepEqual) {\n        var _this = this;\n        var changeHandlers = this.pluginSystem.hooks.optionChangeHandlers;\n        var normalUpdates = {};\n        var specialUpdates = {};\n        var oldDateEnv = this.dateEnv; // do this before handleOptions\n        var isTimeZoneDirty = false;\n        var isSizeDirty = false;\n        var anyDifficultOptions = Boolean(removals.length);\n        for (var name_1 in updates) {\n            if (changeHandlers[name_1]) {\n                specialUpdates[name_1] = updates[name_1];\n            }\n            else {\n                normalUpdates[name_1] = updates[name_1];\n            }\n        }\n        for (var name_2 in normalUpdates) {\n            if (/^(height|contentHeight|aspectRatio)$/.test(name_2)) {\n                isSizeDirty = true;\n            }\n            else if (/^(defaultDate|defaultView)$/.test(name_2)) ;\n            else {\n                anyDifficultOptions = true;\n                if (name_2 === 'timeZone') {\n                    isTimeZoneDirty = true;\n                }\n            }\n        }\n        this.optionsManager.mutate(normalUpdates, removals, isDynamic);\n        if (anyDifficultOptions) {\n            this.handleOptions(this.optionsManager.computed);\n        }\n        this.batchRendering(function () {\n            if (anyDifficultOptions) {\n                if (isTimeZoneDirty) {\n                    _this.dispatch({\n                        type: 'CHANGE_TIMEZONE',\n                        oldDateEnv: oldDateEnv\n                    });\n                }\n                /* HACK\n                has the same effect as calling this.requestRerender()\n                but recomputes the state's dateProfile\n                */\n                _this.dispatch({\n                    type: 'SET_VIEW_TYPE',\n                    viewType: _this.state.viewType\n                });\n            }\n            else if (isSizeDirty) {\n                _this.updateSize();\n            }\n            // special updates\n            if (deepEqual) {\n                for (var name_3 in specialUpdates) {\n                    changeHandlers[name_3](specialUpdates[name_3], _this, deepEqual);\n                }\n            }\n        });\n    };\n    /*\n    rebuilds things based off of a complete set of refined options\n    */\n    Calendar.prototype.handleOptions = function (options) {\n        var _this = this;\n        var pluginHooks = this.pluginSystem.hooks;\n        this.defaultAllDayEventDuration = createDuration(options.defaultAllDayEventDuration);\n        this.defaultTimedEventDuration = createDuration(options.defaultTimedEventDuration);\n        this.delayedRerender = this.buildDelayedRerender(options.rerenderDelay);\n        this.theme = this.buildTheme(options);\n        var available = this.parseRawLocales(options.locales);\n        this.availableRawLocales = available.map;\n        var locale = this.buildLocale(options.locale || available.defaultCode, available.map);\n        this.dateEnv = this.buildDateEnv(locale, options.timeZone, pluginHooks.namedTimeZonedImpl, options.firstDay, options.weekNumberCalculation, options.weekLabel, pluginHooks.cmdFormatter);\n        this.selectionConfig = this.buildSelectionConfig(options); // needs dateEnv. do after :(\n        // ineffecient to do every time?\n        this.viewSpecs = buildViewSpecs(pluginHooks.views, this.optionsManager);\n        // ineffecient to do every time?\n        this.dateProfileGenerators = mapHash(this.viewSpecs, function (viewSpec) {\n            return new viewSpec.class.prototype.dateProfileGeneratorClass(viewSpec, _this);\n        });\n    };\n    Calendar.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.availableRawLocales);\n    };\n    Calendar.prototype._buildSelectionConfig = function (rawOpts) {\n        return processScopedUiProps('select', rawOpts, this);\n    };\n    Calendar.prototype._buildEventUiSingleBase = function (rawOpts) {\n        if (rawOpts.editable) { // so 'editable' affected events\n            rawOpts = __assign({}, rawOpts, { eventEditable: true });\n        }\n        return processScopedUiProps('event', rawOpts, this);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.hasPublicHandlers = function (name) {\n        return this.hasHandlers(name) ||\n            this.opt(name); // handler specified in options\n    };\n    Calendar.prototype.publiclyTrigger = function (name, args) {\n        var optHandler = this.opt(name);\n        this.triggerWith(name, this, args);\n        if (optHandler) {\n            return optHandler.apply(this, args);\n        }\n    };\n    Calendar.prototype.publiclyTriggerAfterSizing = function (name, args) {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        (afterSizingTriggers[name] || (afterSizingTriggers[name] = [])).push(args);\n    };\n    Calendar.prototype.releaseAfterSizingTriggers = function () {\n        var afterSizingTriggers = this.afterSizingTriggers;\n        for (var name_4 in afterSizingTriggers) {\n            for (var _i = 0, _a = afterSizingTriggers[name_4]; _i < _a.length; _i++) {\n                var args = _a[_i];\n                this.publiclyTrigger(name_4, args);\n            }\n        }\n        this.afterSizingTriggers = {};\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a boolean about whether the view is okay to instantiate at some point\n    Calendar.prototype.isValidViewType = function (viewType) {\n        return Boolean(this.viewSpecs[viewType]);\n    };\n    Calendar.prototype.changeView = function (viewType, dateOrRange) {\n        var dateMarker = null;\n        if (dateOrRange) {\n            if (dateOrRange.start && dateOrRange.end) { // a range\n                this.optionsManager.mutate({ visibleRange: dateOrRange }, []); // will not rerender\n                this.handleOptions(this.optionsManager.computed); // ...but yuck\n            }\n            else { // a date\n                dateMarker = this.dateEnv.createMarker(dateOrRange); // just like gotoDate\n            }\n        }\n        this.unselect();\n        this.dispatch({\n            type: 'SET_VIEW_TYPE',\n            viewType: viewType,\n            dateMarker: dateMarker\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    Calendar.prototype.zoomTo = function (dateMarker, viewType) {\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = this.viewSpecs[viewType] ||\n            this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'SET_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: dateMarker\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    Calendar.prototype.getUnitViewSpec = function (unit) {\n        var component = this.component;\n        var viewTypes = [];\n        var i;\n        var spec;\n        // put views that have buttons first. there will be duplicates, but oh\n        if (component.header) {\n            viewTypes.push.apply(viewTypes, component.header.viewsWithButtons);\n        }\n        if (component.footer) {\n            viewTypes.push.apply(viewTypes, component.footer.viewsWithButtons);\n        }\n        for (var viewType in this.viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i++) {\n            spec = this.viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getInitialDate = function () {\n        var defaultDateInput = this.opt('defaultDate');\n        // compute the initial ambig-timezone date\n        if (defaultDateInput != null) {\n            return this.dateEnv.createMarker(defaultDateInput);\n        }\n        else {\n            return this.getNow(); // getNow already returns unzoned\n        }\n    };\n    Calendar.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    Calendar.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    Calendar.prototype.prevYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, -1)\n        });\n    };\n    Calendar.prototype.nextYear = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.addYears(this.state.currentDate, 1)\n        });\n    };\n    Calendar.prototype.today = function () {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.getNow()\n        });\n    };\n    Calendar.prototype.gotoDate = function (zonedDateInput) {\n        this.unselect();\n        this.dispatch({\n            type: 'SET_DATE',\n            dateMarker: this.dateEnv.createMarker(zonedDateInput)\n        });\n    };\n    Calendar.prototype.incrementDate = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'SET_DATE',\n                dateMarker: this.dateEnv.add(this.state.currentDate, delta)\n            });\n        }\n    };\n    // for external API\n    Calendar.prototype.getDate = function () {\n        return this.dateEnv.toDate(this.state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    Calendar.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings, this.opt('defaultRangeSeparator')), settings);\n    };\n    Calendar.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.windowResize = function (ev) {\n        if (!this.isHandlingWindowResize &&\n            this.component && // why?\n            ev.target === window // not a jqui resize event\n        ) {\n            this.isHandlingWindowResize = true;\n            this.updateSize();\n            this.publiclyTrigger('windowResize', [this.view]);\n            this.isHandlingWindowResize = false;\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        if (this.component) { // when?\n            this.component.updateSize(true);\n        }\n    };\n    // Component Registration\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.registerInteractiveComponent = function (component, settingsInput) {\n        var settings = parseInteractionSettings(component, settingsInput);\n        var DEFAULT_INTERACTIONS = [\n            EventClicking,\n            EventHovering\n        ];\n        var interactionClasses = DEFAULT_INTERACTIONS.concat(this.pluginSystem.hooks.componentInteractions);\n        var interactions = interactionClasses.map(function (interactionClass) {\n            return new interactionClass(settings);\n        });\n        this.interactionsStore[component.uid] = interactions;\n        interactionSettingsStore[component.uid] = settings;\n    };\n    Calendar.prototype.unregisterInteractiveComponent = function (component) {\n        for (var _i = 0, _a = this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener.destroy();\n        }\n        delete this.interactionsStore[component.uid];\n        delete interactionSettingsStore[component.uid];\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    Calendar.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate\n            };\n        }\n        var selection = parseDateSpan(selectionInput, this.dateEnv, createDuration({ days: 1 }) // TODO: cache this?\n        );\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            this.triggerDateSelect(selection);\n        }\n    };\n    // public method\n    Calendar.prototype.unselect = function (pev) {\n        if (this.state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            this.triggerDateUnselect(pev);\n        }\n    };\n    Calendar.prototype.triggerDateSelect = function (selection, pev) {\n        var arg = __assign({}, this.buildDateSpanApi(selection), { jsEvent: pev ? pev.origEvent : null, view: this.view });\n        this.publiclyTrigger('select', [arg]);\n    };\n    Calendar.prototype.triggerDateUnselect = function (pev) {\n        this.publiclyTrigger('unselect', [\n            {\n                jsEvent: pev ? pev.origEvent : null,\n                view: this.view\n            }\n        ]);\n    };\n    // TODO: receive pev?\n    Calendar.prototype.triggerDateClick = function (dateSpan, dayEl, view, ev) {\n        var arg = __assign({}, this.buildDatePointApi(dateSpan), { dayEl: dayEl, jsEvent: ev, // Is this always a mouse event? See #4655\n            view: view });\n        this.publiclyTrigger('dateClick', [arg]);\n    };\n    Calendar.prototype.buildDatePointApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.datePointTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDatePointApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    Calendar.prototype.buildDateSpanApi = function (dateSpan) {\n        var props = {};\n        for (var _i = 0, _a = this.pluginSystem.hooks.dateSpanTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, this));\n        }\n        __assign(props, buildDateSpanApi(dateSpan, this.dateEnv));\n        return props;\n    };\n    // Date Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    // Returns a DateMarker for the current date, as defined by the client's computer or from the `now` option\n    Calendar.prototype.getNow = function () {\n        var now = this.opt('now');\n        if (typeof now === 'function') {\n            now = now();\n        }\n        if (now == null) {\n            return this.dateEnv.createNowMarker();\n        }\n        return this.dateEnv.createMarker(now);\n    };\n    // Event-Date Utilities\n    // -----------------------------------------------------------------------------------------------------------------\n    // Given an event's allDay status and start date, return what its fallback end date should be.\n    // TODO: rename to computeDefaultEventEnd\n    Calendar.prototype.getDefaultEventEnd = function (allDay, marker) {\n        var end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n            end = this.dateEnv.add(end, this.defaultAllDayEventDuration);\n        }\n        else {\n            end = this.dateEnv.add(end, this.defaultTimedEventDuration);\n        }\n        return end;\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }) // TODO: better util for two args?\n                });\n            }\n            return eventInput;\n        }\n        var sourceId;\n        if (sourceInput instanceof EventSourceApi) {\n            sourceId = sourceInput.internalEventSource.sourceId;\n        }\n        else if (sourceInput != null) {\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn('Could not find an event source with ID \"' + sourceInput + '\"'); // TODO: test\n                return null;\n            }\n            else {\n                sourceId = sourceApi.internalEventSource.sourceId;\n            }\n        }\n        var tuple = parseEvent(eventInput, sourceId, this);\n        if (tuple) {\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple)\n            });\n            return new EventApi(this, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n        }\n        return null;\n    };\n    // TODO: optimize\n    Calendar.prototype.getEventById = function (id) {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(this, def, null);\n                }\n                else {\n                    for (var instanceId in instances) {\n                        var instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventApi(this, def, instance);\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.getEvents = function () {\n        var _a = this.state.eventStore, defs = _a.defs, instances = _a.instances;\n        var eventApis = [];\n        for (var id in instances) {\n            var instance = instances[id];\n            var def = defs[instance.defId];\n            eventApis.push(new EventApi(this, def, instance));\n        }\n        return eventApis;\n    };\n    Calendar.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    Calendar.prototype.rerenderEvents = function () {\n        this.dispatch({ type: 'RESET_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.getEventSources = function () {\n        var sourceHash = this.state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(this, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    Calendar.prototype.getEventSourceById = function (id) {\n        var sourceHash = this.state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(this, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    Calendar.prototype.addEventSource = function (sourceInput) {\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!this.state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource]\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, this);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(this, eventSource);\n        }\n        return null;\n    };\n    Calendar.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    Calendar.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    Calendar.prototype.scrollToTime = function (timeInput) {\n        var duration = createDuration(timeInput);\n        if (duration) {\n            this.component.view.scrollToDuration(duration);\n        }\n    };\n    return Calendar;\n}());\nEmitterMixin.mixInto(Calendar);\n// for memoizers\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildComponentContext$1(theme, dateEnv, options) {\n    return new ComponentContext(this, theme, dateEnv, options, null);\n}\nfunction buildDateEnv(locale, timeZone, namedTimeZoneImpl, firstDay, weekNumberCalculation, weekLabel, cmdFormatter) {\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: namedTimeZoneImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekLabel: weekLabel,\n        cmdFormatter: cmdFormatter\n    });\n}\nfunction buildTheme(calendarOptions) {\n    var themeClass = this.pluginSystem.hooks.themeClasses[calendarOptions.themeSystem] || StandardTheme;\n    return new themeClass(calendarOptions);\n}\nfunction buildDelayedRerender(wait) {\n    var func = this.tryRerender.bind(this);\n    if (wait != null) {\n        func = debounce(func, wait);\n    }\n    return func;\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) {\n        return eventSource.ui;\n    });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\n\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(viewSpec, parentEl) {\n        var _this = _super.call(this, createElement('div', { className: 'fc-view fc-' + viewSpec.type + '-view' })) || this;\n        _this.renderDatesMem = memoizeRendering(_this.renderDatesWrap, _this.unrenderDatesWrap);\n        _this.renderBusinessHoursMem = memoizeRendering(_this.renderBusinessHours, _this.unrenderBusinessHours, [_this.renderDatesMem]);\n        _this.renderDateSelectionMem = memoizeRendering(_this.renderDateSelectionWrap, _this.unrenderDateSelectionWrap, [_this.renderDatesMem]);\n        _this.renderEventsMem = memoizeRendering(_this.renderEvents, _this.unrenderEvents, [_this.renderDatesMem]);\n        _this.renderEventSelectionMem = memoizeRendering(_this.renderEventSelectionWrap, _this.unrenderEventSelectionWrap, [_this.renderEventsMem]);\n        _this.renderEventDragMem = memoizeRendering(_this.renderEventDragWrap, _this.unrenderEventDragWrap, [_this.renderDatesMem]);\n        _this.renderEventResizeMem = memoizeRendering(_this.renderEventResizeWrap, _this.unrenderEventResizeWrap, [_this.renderDatesMem]);\n        _this.viewSpec = viewSpec;\n        _this.type = viewSpec.type;\n        parentEl.appendChild(_this.el);\n        _this.initialize();\n        return _this;\n    }\n    View.prototype.initialize = function () {\n    };\n    Object.defineProperty(View.prototype, \"activeStart\", {\n        // Date Setting/Unsetting\n        // -----------------------------------------------------------------------------------------------------------------\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"activeEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentStart\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"currentEnd\", {\n        get: function () {\n            return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // General Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.render = function (props, context) {\n        this.renderDatesMem(props.dateProfile);\n        this.renderBusinessHoursMem(props.businessHours);\n        this.renderDateSelectionMem(props.dateSelection);\n        this.renderEventsMem(props.eventStore);\n        this.renderEventSelectionMem(props.eventSelection);\n        this.renderEventDragMem(props.eventDrag);\n        this.renderEventResizeMem(props.eventResize);\n    };\n    View.prototype.beforeUpdate = function () {\n        this.addScroll(this.queryScroll());\n    };\n    View.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderDatesMem.unrender(); // should unrender everything else\n    };\n    // Sizing\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        var calendar = this.context.calendar;\n        if (isResize) {\n            this.addScroll(this.queryScroll()); // NOTE: same code as in beforeUpdate\n        }\n        if (isResize || // HACKS...\n            calendar.isViewUpdated ||\n            calendar.isDatesUpdated ||\n            calendar.isEventsUpdated) {\n            // sort of the catch-all sizing\n            // anything that might cause dimension changes\n            this.updateBaseSize(isResize, viewHeight, isAuto);\n        }\n        // NOTE: popScroll is called by CalendarComponent\n    };\n    View.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n    };\n    // Date Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDatesWrap = function (dateProfile) {\n        this.renderDates(dateProfile);\n        this.addScroll({\n            duration: createDuration(this.context.options.scrollTime)\n        });\n    };\n    View.prototype.unrenderDatesWrap = function () {\n        this.stopNowIndicator();\n        this.unrenderDates();\n    };\n    View.prototype.renderDates = function (dateProfile) { };\n    View.prototype.unrenderDates = function () { };\n    // Business Hours\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderBusinessHours = function (businessHours) { };\n    View.prototype.unrenderBusinessHours = function () { };\n    // Date Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.renderDateSelection(selection);\n        }\n    };\n    View.prototype.unrenderDateSelectionWrap = function (selection) {\n        if (selection) {\n            this.unrenderDateSelection(selection);\n        }\n    };\n    View.prototype.renderDateSelection = function (selection) { };\n    View.prototype.unrenderDateSelection = function (selection) { };\n    // Event Rendering\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEvents = function (eventStore) { };\n    View.prototype.unrenderEvents = function () { };\n    // util for subclasses\n    View.prototype.sliceEvents = function (eventStore, allDay) {\n        var props = this.props;\n        return sliceEventStore(eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? this.context.nextDayThreshold : null).fg;\n    };\n    // Event Selection\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.renderEventSelection(instanceId);\n        }\n    };\n    View.prototype.unrenderEventSelectionWrap = function (instanceId) {\n        if (instanceId) {\n            this.unrenderEventSelection(instanceId);\n        }\n    };\n    View.prototype.renderEventSelection = function (instanceId) { };\n    View.prototype.unrenderEventSelection = function (instanceId) { };\n    // Event Drag\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventDragWrap = function (state) {\n        if (state) {\n            this.renderEventDrag(state);\n        }\n    };\n    View.prototype.unrenderEventDragWrap = function (state) {\n        if (state) {\n            this.unrenderEventDrag(state);\n        }\n    };\n    View.prototype.renderEventDrag = function (state) { };\n    View.prototype.unrenderEventDrag = function (state) { };\n    // Event Resize\n    // -----------------------------------------------------------------------------------------------------------------\n    View.prototype.renderEventResizeWrap = function (state) {\n        if (state) {\n            this.renderEventResize(state);\n        }\n    };\n    View.prototype.unrenderEventResizeWrap = function (state) {\n        if (state) {\n            this.unrenderEventResize(state);\n        }\n    };\n    View.prototype.renderEventResize = function (state) { };\n    View.prototype.unrenderEventResize = function (state) { };\n    /* Now Indicator\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Immediately render the current time indicator and begins re-rendering it at an interval,\n    // which is defined by this.getNowIndicatorUnit().\n    // TODO: somehow do this for the current whole day's background too\n    // USAGE: must be called manually from subclasses' render methods! don't need to call stopNowIndicator tho\n    View.prototype.startNowIndicator = function (dateProfile, dateProfileGenerator) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, dateEnv = _a.dateEnv, options = _a.options;\n        var unit;\n        var update;\n        var delay; // ms wait value\n        if (options.nowIndicator && !this.initialNowDate) {\n            unit = this.getNowIndicatorUnit(dateProfile, dateProfileGenerator);\n            if (unit) {\n                update = this.updateNowIndicator.bind(this);\n                this.initialNowDate = calendar.getNow();\n                this.initialNowQueriedMs = new Date().valueOf();\n                // wait until the beginning of the next interval\n                delay = dateEnv.add(dateEnv.startOf(this.initialNowDate, unit), createDuration(1, unit)).valueOf() - this.initialNowDate.valueOf();\n                // TODO: maybe always use setTimeout, waiting until start of next unit\n                this.nowIndicatorTimeoutID = setTimeout(function () {\n                    _this.nowIndicatorTimeoutID = null;\n                    update();\n                    if (unit === 'second') {\n                        delay = 1000; // every second\n                    }\n                    else {\n                        delay = 1000 * 60; // otherwise, every minute\n                    }\n                    _this.nowIndicatorIntervalID = setInterval(update, delay); // update every interval\n                }, delay);\n            }\n            // rendering will be initiated in updateSize\n        }\n    };\n    // rerenders the now indicator, computing the new current time from the amount of time that has passed\n    // since the initial getNow call.\n    View.prototype.updateNowIndicator = function () {\n        if (this.props.dateProfile && // a way to determine if dates were rendered yet\n            this.initialNowDate // activated before?\n        ) {\n            this.unrenderNowIndicator(); // won't unrender if unnecessary\n            this.renderNowIndicator(addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs));\n            this.isNowIndicatorRendered = true;\n        }\n    };\n    // Immediately unrenders the view's current time indicator and stops any re-rendering timers.\n    // Won't cause side effects if indicator isn't rendered.\n    View.prototype.stopNowIndicator = function () {\n        if (this.nowIndicatorTimeoutID) {\n            clearTimeout(this.nowIndicatorTimeoutID);\n            this.nowIndicatorTimeoutID = null;\n        }\n        if (this.nowIndicatorIntervalID) {\n            clearInterval(this.nowIndicatorIntervalID);\n            this.nowIndicatorIntervalID = null;\n        }\n        if (this.isNowIndicatorRendered) {\n            this.unrenderNowIndicator();\n            this.isNowIndicatorRendered = false;\n        }\n    };\n    View.prototype.getNowIndicatorUnit = function (dateProfile, dateProfileGenerator) {\n        // subclasses should implement\n    };\n    // Renders a current time indicator at the given datetime\n    View.prototype.renderNowIndicator = function (date) {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    // Undoes the rendering actions from renderNowIndicator\n    View.prototype.unrenderNowIndicator = function () {\n        // SUBCLASSES MUST PASS TO CHILDREN!\n    };\n    /* Scroller\n    ------------------------------------------------------------------------------------------------------------------*/\n    View.prototype.addScroll = function (scroll, isForced) {\n        if (isForced) {\n            scroll.isForced = isForced;\n        }\n        __assign(this.queuedScroll || (this.queuedScroll = {}), scroll);\n    };\n    View.prototype.popScroll = function (isResize) {\n        this.applyQueuedScroll(isResize);\n        this.queuedScroll = null;\n    };\n    View.prototype.applyQueuedScroll = function (isResize) {\n        if (this.queuedScroll) {\n            this.applyScroll(this.queuedScroll, isResize);\n        }\n    };\n    View.prototype.queryScroll = function () {\n        var scroll = {};\n        if (this.props.dateProfile) { // dates rendered yet?\n            __assign(scroll, this.queryDateScroll());\n        }\n        return scroll;\n    };\n    View.prototype.applyScroll = function (scroll, isResize) {\n        var duration = scroll.duration, isForced = scroll.isForced;\n        if (duration != null && !isForced) {\n            delete scroll.duration;\n            if (this.props.dateProfile) { // dates rendered yet?\n                __assign(scroll, this.computeDateScroll(duration));\n            }\n        }\n        if (this.props.dateProfile) { // dates rendered yet?\n            this.applyDateScroll(scroll);\n        }\n    };\n    View.prototype.computeDateScroll = function (duration) {\n        return {}; // subclasses must implement\n    };\n    View.prototype.queryDateScroll = function () {\n        return {}; // subclasses must implement\n    };\n    View.prototype.applyDateScroll = function (scroll) {\n        // subclasses must implement\n    };\n    // for API\n    View.prototype.scrollToDuration = function (duration) {\n        this.applyScroll({ duration: duration }, false);\n    };\n    return View;\n}(DateComponent));\nEmitterMixin.mixInto(View);\nView.prototype.usesMinMaxTime = false;\nView.prototype.dateProfileGeneratorClass = DateProfileGenerator;\n\nvar FgEventRenderer = /** @class */ (function () {\n    function FgEventRenderer() {\n        this.segs = [];\n        this.isSizeDirty = false;\n    }\n    FgEventRenderer.prototype.renderSegs = function (context, segs, mirrorInfo) {\n        this.context = context;\n        this.rangeUpdated(); // called too frequently :(\n        // render an `.el` on each seg\n        // returns a subset of the segs. segs that were actually rendered\n        segs = this.renderSegEls(segs, mirrorInfo);\n        this.segs = segs;\n        this.attachSegs(segs, mirrorInfo);\n        this.isSizeDirty = true;\n        triggerRenderedSegs(this.context, this.segs, Boolean(mirrorInfo));\n    };\n    FgEventRenderer.prototype.unrender = function (context, _segs, mirrorInfo) {\n        triggerWillRemoveSegs(this.context, this.segs, Boolean(mirrorInfo));\n        this.detachSegs(this.segs);\n        this.segs = [];\n    };\n    // Updates values that rely on options and also relate to range\n    FgEventRenderer.prototype.rangeUpdated = function () {\n        var options = this.context.options;\n        var displayEventTime;\n        var displayEventEnd;\n        this.eventTimeFormat = createFormatter(options.eventTimeFormat || this.computeEventTimeFormat(), options.defaultRangeSeparator);\n        displayEventTime = options.displayEventTime;\n        if (displayEventTime == null) {\n            displayEventTime = this.computeDisplayEventTime(); // might be based off of range\n        }\n        displayEventEnd = options.displayEventEnd;\n        if (displayEventEnd == null) {\n            displayEventEnd = this.computeDisplayEventEnd(); // might be based off of range\n        }\n        this.displayEventTime = displayEventTime;\n        this.displayEventEnd = displayEventEnd;\n    };\n    // Renders and assigns an `el` property for each foreground event segment.\n    // Only returns segments that successfully rendered.\n    FgEventRenderer.prototype.renderSegEls = function (segs, mirrorInfo) {\n        var html = '';\n        var i;\n        if (segs.length) { // don't build an empty html string\n            // build a large concatenation of event segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(segs[i], mirrorInfo);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment. An el might be null if the eventRender callback returned false.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            segs = filterSegsViaEls(this.context, segs, Boolean(mirrorInfo));\n        }\n        return segs;\n    };\n    // Generic utility for generating the HTML classNames for an event segment's element\n    FgEventRenderer.prototype.getSegClasses = function (seg, isDraggable, isResizable, mirrorInfo) {\n        var classes = [\n            'fc-event',\n            seg.isStart ? 'fc-start' : 'fc-not-start',\n            seg.isEnd ? 'fc-end' : 'fc-not-end'\n        ].concat(seg.eventRange.ui.classNames);\n        if (isDraggable) {\n            classes.push('fc-draggable');\n        }\n        if (isResizable) {\n            classes.push('fc-resizable');\n        }\n        if (mirrorInfo) {\n            classes.push('fc-mirror');\n            if (mirrorInfo.isDragging) {\n                classes.push('fc-dragging');\n            }\n            if (mirrorInfo.isResizing) {\n                classes.push('fc-resizing');\n            }\n        }\n        return classes;\n    };\n    // Compute the text that should be displayed on an event's element.\n    // `range` can be the Event object itself, or something range-like, with at least a `start`.\n    // If event times are disabled, or the event has no time, will return a blank string.\n    // If not specified, formatter will default to the eventTimeFormat setting,\n    // and displayEnd will default to the displayEventEnd setting.\n    FgEventRenderer.prototype.getTimeText = function (eventRange, formatter, displayEnd) {\n        var def = eventRange.def, instance = eventRange.instance;\n        return this._getTimeText(instance.range.start, def.hasEnd ? instance.range.end : null, def.allDay, formatter, displayEnd, instance.forcedStartTzo, instance.forcedEndTzo);\n    };\n    FgEventRenderer.prototype._getTimeText = function (start, end, allDay, formatter, displayEnd, forcedStartTzo, forcedEndTzo) {\n        var dateEnv = this.context.dateEnv;\n        if (formatter == null) {\n            formatter = this.eventTimeFormat;\n        }\n        if (displayEnd == null) {\n            displayEnd = this.displayEventEnd;\n        }\n        if (this.displayEventTime && !allDay) {\n            if (displayEnd && end) {\n                return dateEnv.formatRange(start, end, formatter, {\n                    forcedStartTzo: forcedStartTzo,\n                    forcedEndTzo: forcedEndTzo\n                });\n            }\n            else {\n                return dateEnv.format(start, formatter, {\n                    forcedTzo: forcedStartTzo\n                });\n            }\n        }\n        return '';\n    };\n    FgEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true\n        };\n    };\n    FgEventRenderer.prototype.computeDisplayEventTime = function () {\n        return true;\n    };\n    FgEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return true;\n    };\n    // Utility for generating event skin-related CSS properties\n    FgEventRenderer.prototype.getSkinCss = function (ui) {\n        return {\n            'background-color': ui.backgroundColor,\n            'border-color': ui.borderColor,\n            color: ui.textColor\n        };\n    };\n    FgEventRenderer.prototype.sortEventSegs = function (segs) {\n        var specs = this.context.eventOrderSpecs;\n        var objs = segs.map(buildSegCompareObj);\n        objs.sort(function (obj0, obj1) {\n            return compareByFieldSpecs(obj0, obj1, specs);\n        });\n        return objs.map(function (c) {\n            return c._seg;\n        });\n    };\n    FgEventRenderer.prototype.computeSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.computeSegSizes(this.segs);\n        }\n    };\n    FgEventRenderer.prototype.assignSizes = function (force) {\n        if (force || this.isSizeDirty) {\n            this.assignSegSizes(this.segs);\n            this.isSizeDirty = false;\n        }\n    };\n    FgEventRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FgEventRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    // Manipulation on rendered segs\n    FgEventRenderer.prototype.hideByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = 'hidden';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.showByHash = function (hash) {\n        if (hash) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (hash[seg.eventRange.instance.instanceId]) {\n                    seg.el.style.visibility = '';\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.selectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                var eventInstance = seg.eventRange.instance;\n                if (eventInstance && eventInstance.instanceId === instanceId &&\n                    seg.el // necessary?\n                ) {\n                    seg.el.classList.add('fc-selected');\n                }\n            }\n        }\n    };\n    FgEventRenderer.prototype.unselectByInstanceId = function (instanceId) {\n        if (instanceId) {\n            for (var _i = 0, _a = this.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                if (seg.el) { // necessary?\n                    seg.el.classList.remove('fc-selected');\n                }\n            }\n        }\n    };\n    return FgEventRenderer;\n}());\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventDef = seg.eventRange.def;\n    var range = seg.eventRange.instance.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign({}, eventDef.extendedProps, eventDef, { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg // for later retrieval\n     });\n}\n\n/*\nTODO: when refactoring this class, make a new FillRenderer instance for each `type`\n*/\nvar FillRenderer = /** @class */ (function () {\n    function FillRenderer() {\n        this.fillSegTag = 'div';\n        this.dirtySizeFlags = {};\n        this.containerElsByType = {};\n        this.segsByType = {};\n    }\n    FillRenderer.prototype.getSegsByType = function (type) {\n        return this.segsByType[type] || [];\n    };\n    FillRenderer.prototype.renderSegs = function (type, context, segs) {\n        var _a;\n        this.context = context;\n        var renderedSegs = this.renderSegEls(type, segs); // assignes `.el` to each seg. returns successfully rendered segs\n        var containerEls = this.attachSegs(type, renderedSegs);\n        if (containerEls) {\n            (_a = (this.containerElsByType[type] || (this.containerElsByType[type] = []))).push.apply(_a, containerEls);\n        }\n        this.segsByType[type] = renderedSegs;\n        if (type === 'bgEvent') {\n            triggerRenderedSegs(context, renderedSegs, false); // isMirror=false\n        }\n        this.dirtySizeFlags[type] = true;\n    };\n    // Unrenders a specific type of fill that is currently rendered on the grid\n    FillRenderer.prototype.unrender = function (type, context) {\n        var segs = this.segsByType[type];\n        if (segs) {\n            if (type === 'bgEvent') {\n                triggerWillRemoveSegs(context, segs, false); // isMirror=false\n            }\n            this.detachSegs(type, segs);\n        }\n    };\n    // Renders and assigns an `el` property for each fill segment. Generic enough to work with different types.\n    // Only returns segments that successfully rendered.\n    FillRenderer.prototype.renderSegEls = function (type, segs) {\n        var _this = this;\n        var html = '';\n        var i;\n        if (segs.length) {\n            // build a large concatenation of segment HTML\n            for (i = 0; i < segs.length; i++) {\n                html += this.renderSegHtml(type, segs[i]);\n            }\n            // Grab individual elements from the combined HTML string. Use each as the default rendering.\n            // Then, compute the 'el' for each segment.\n            htmlToElements(html).forEach(function (el, i) {\n                var seg = segs[i];\n                if (el) {\n                    seg.el = el;\n                }\n            });\n            if (type === 'bgEvent') {\n                segs = filterSegsViaEls(this.context, segs, false // isMirror. background events can never be mirror elements\n                );\n            }\n            // correct element type? (would be bad if a non-TD were inserted into a table for example)\n            segs = segs.filter(function (seg) {\n                return elementMatches(seg.el, _this.fillSegTag);\n            });\n        }\n        return segs;\n    };\n    // Builds the HTML needed for one fill segment. Generic enough to work with different types.\n    FillRenderer.prototype.renderSegHtml = function (type, seg) {\n        var css = null;\n        var classNames = [];\n        if (type !== 'highlight' && type !== 'businessHours') {\n            css = {\n                'background-color': seg.eventRange.ui.backgroundColor\n            };\n        }\n        if (type !== 'highlight') {\n            classNames = classNames.concat(seg.eventRange.ui.classNames);\n        }\n        if (type === 'businessHours') {\n            classNames.push('fc-bgevent');\n        }\n        else {\n            classNames.push('fc-' + type.toLowerCase());\n        }\n        return '<' + this.fillSegTag +\n            (classNames.length ? ' class=\"' + classNames.join(' ') + '\"' : '') +\n            (css ? ' style=\"' + cssToStr(css) + '\"' : '') +\n            '></' + this.fillSegTag + '>';\n    };\n    FillRenderer.prototype.detachSegs = function (type, segs) {\n        var containerEls = this.containerElsByType[type];\n        if (containerEls) {\n            containerEls.forEach(removeElement);\n            delete this.containerElsByType[type];\n        }\n    };\n    FillRenderer.prototype.computeSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.computeSegSizes(this.segsByType[type]);\n            }\n        }\n    };\n    FillRenderer.prototype.assignSizes = function (force) {\n        for (var type in this.segsByType) {\n            if (force || this.dirtySizeFlags[type]) {\n                this.assignSegSizes(this.segsByType[type]);\n            }\n        }\n        this.dirtySizeFlags = {};\n    };\n    FillRenderer.prototype.computeSegSizes = function (segs) {\n    };\n    FillRenderer.prototype.assignSegSizes = function (segs) {\n    };\n    return FillRenderer;\n}());\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el) {\n        this.emitter = new EmitterMixin();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\nfunction formatDate(dateInput, settings) {\n    if (settings === void 0) { settings = {}; }\n    var dateEnv = buildDateEnv$1(settings);\n    var formatter = createFormatter(settings);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo\n    });\n}\nfunction formatRange(startInput, endInput, settings // mixture of env and formatter settings\n) {\n    var dateEnv = buildDateEnv$1(typeof settings === 'object' && settings ? settings : {}); // pass in if non-null object\n    var formatter = createFormatter(settings, globalDefaults.defaultRangeSeparator);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: settings.isEndExclusive\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', parseRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    // ensure required settings\n    settings = __assign({ timeZone: globalDefaults.timeZone, calendarSystem: 'gregory' }, settings, { locale: locale });\n    return new DateEnv(settings);\n}\n\nvar DRAG_META_PROPS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String\n};\nvar DRAG_META_DEFAULTS = {\n    create: true\n};\nfunction parseDragMeta(raw) {\n    var leftoverProps = {};\n    var refined = refineProps(raw, DRAG_META_PROPS, DRAG_META_DEFAULTS, leftoverProps);\n    refined.leftoverProps = leftoverProps;\n    return refined;\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return { weekday: 'short' }; // \"Sat\"\n    }\n    else if (dayCnt > 1) {\n        return { weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }; // \"Sat 11/12\"\n    }\n    else {\n        return { weekday: 'long' }; // \"Saturday\"\n    }\n}\nfunction renderDateCell(dateMarker, dateProfile, datesRepDistinctDays, colCnt, colHeadFormat, context, colspan, otherAttrs) {\n    var dateEnv = context.dateEnv, theme = context.theme, options = context.options;\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, dateMarker); // TODO: called too frequently. cache somehow.\n    var classNames = [\n        'fc-day-header',\n        theme.getClass('widgetHeader')\n    ];\n    var innerHtml;\n    if (typeof options.columnHeaderHtml === 'function') {\n        innerHtml = options.columnHeaderHtml(dateEnv.toDate(dateMarker));\n    }\n    else if (typeof options.columnHeaderText === 'function') {\n        innerHtml = htmlEscape(options.columnHeaderText(dateEnv.toDate(dateMarker)));\n    }\n    else {\n        innerHtml = htmlEscape(dateEnv.format(dateMarker, colHeadFormat));\n    }\n    // if only one row of days, the classNames on the header can represent the specific days beneath\n    if (datesRepDistinctDays) {\n        classNames = classNames.concat(\n        // includes the day-of-week class\n        // noThemeHighlight=true (don't highlight the header)\n        getDayClasses(dateMarker, dateProfile, context, true));\n    }\n    else {\n        classNames.push('fc-' + DAY_IDS[dateMarker.getUTCDay()]); // only add the day-of-week class\n    }\n    return '' +\n        '<th class=\"' + classNames.join(' ') + '\"' +\n        ((isDateValid && datesRepDistinctDays) ?\n            ' data-date=\"' + dateEnv.formatIso(dateMarker, { omitTime: true }) + '\"' :\n            '') +\n        (colspan > 1 ?\n            ' colspan=\"' + colspan + '\"' :\n            '') +\n        (otherAttrs ?\n            ' ' + otherAttrs :\n            '') +\n        '>' +\n        (isDateValid ?\n            // don't make a link if the heading could represent multiple days, or if there's only one day (forceOff)\n            buildGotoAnchorHtml(options, dateEnv, { date: dateMarker, forceOff: !datesRepDistinctDays || colCnt === 1 }, innerHtml) :\n            // if not valid, display text, but no link\n            innerHtml) +\n        '</th>';\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader(parentEl) {\n        var _this = _super.call(this) || this;\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        _this.parentEl = parentEl;\n        return _this;\n    }\n    DayHeader.prototype.render = function (props, context) {\n        var dates = props.dates, datesRepDistinctDays = props.datesRepDistinctDays;\n        var parts = [];\n        this.renderSkeleton(context);\n        if (props.renderIntroHtml) {\n            parts.push(props.renderIntroHtml());\n        }\n        var colHeadFormat = createFormatter(context.options.columnHeaderFormat ||\n            computeFallbackHeaderFormat(datesRepDistinctDays, dates.length));\n        for (var _i = 0, dates_1 = dates; _i < dates_1.length; _i++) {\n            var date = dates_1[_i];\n            parts.push(renderDateCell(date, props.dateProfile, datesRepDistinctDays, dates.length, colHeadFormat, context));\n        }\n        if (context.isRtl) {\n            parts.reverse();\n        }\n        this.thead.innerHTML = '<tr>' + parts.join('') + '</tr>';\n    };\n    DayHeader.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderSkeleton.unrender();\n    };\n    DayHeader.prototype._renderSkeleton = function (context) {\n        var theme = context.theme;\n        var parentEl = this.parentEl;\n        parentEl.innerHTML = ''; // because might be nbsp\n        parentEl.appendChild(this.el = htmlToElement('<div class=\"fc-row ' + theme.getClass('headerRow') + '\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            '<thead></thead>' +\n            '</table>' +\n            '</div>'));\n        this.thead = this.el.querySelector('thead');\n    };\n    DayHeader.prototype._unrenderSkeleton = function () {\n        removeElement(this.el);\n    };\n    return DayHeader;\n}(Component));\n\nvar DaySeries = /** @class */ (function () {\n    function DaySeries(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex++;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeries.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeries.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        else if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        else {\n            return indices[dayOffset];\n        }\n    };\n    return DaySeries;\n}());\n\nvar DayTable = /** @class */ (function () {\n    function DayTable(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow++) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTable.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row++) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col++) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTable.prototype.buildCell = function (row, col) {\n        return {\n            date: this.daySeries.dates[row * this.colCnt + col]\n        };\n    };\n    DayTable.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col++) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTable.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTable;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, [props.eventStore, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, [props.dateSelection, eventUiBases, component].concat(extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, [props.businessHours, dateProfile, nextDayThreshold, calendar, component].concat(extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, [props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, [props.eventResize, eventUiBases, dateProfile, nextDayThreshold, component].concat(extraArgs)),\n            eventSelection: props.eventSelection\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, component) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, [{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            component].concat(extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, calendar, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, [expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), calendar),\n            {},\n            dateProfile,\n            nextDayThreshold,\n            component].concat(extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, component, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, component, extraArgs)\n            };\n        }\n        else {\n            return { bg: [], fg: [] };\n        }\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold, component) {\n        var extraArgs = [];\n        for (var _i = 5; _i < arguments.length; _i++) {\n            extraArgs[_i - 5] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, component, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n            sourceSeg: interaction.origSeg\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, component) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, component.context.calendar);\n        var segs = this.sliceRange.apply(this, [dateSpan.range].concat(extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.component = component;\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, component, // TODO: kill\n    extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, component, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, component, // TODO: kill\n    extraArgs) {\n        var segs = this.sliceRange.apply(this, [eventRange.range].concat(extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.component = component;\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating minTime/maxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.minTime.milliseconds),\n        end: addMs(range.end, dateProfile.maxTime.milliseconds - 864e5) // 864e5 = ms in a day\n    };\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '4.4.0';\n\nexport { Calendar, Component, ComponentContext, DateComponent, DateEnv, DateProfileGenerator, DayHeader, DaySeries, DayTable, ElementDragging, ElementScrollController, EmitterMixin, EventApi, FgEventRenderer, FillRenderer, Interaction, Mixin, NamedTimeZoneImpl, PositionCache, ScrollComponent, ScrollController, Slicer, Splitter, Theme, View, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, appendToElement, applyAll, applyMutationToEventStore, applyStyle, applyStyleProp, asRoughMinutes, asRoughMs, asRoughSeconds, buildGotoAnchorHtml, buildSegCompareObj, capitaliseFirstLetter, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compensateScroll, computeClippingRect, computeEdges, computeEventDraggable, computeEventEndResizable, computeEventStartResizable, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeVisibleDayRange, config, constrainPoint, createDuration, createElement, createEmptyEventStore, createEventInstance, createFormatter, createPlugin, cssToStr, debounce, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, distributeHeight, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findChildren, findElements, flexibleCompare, forceClassName, formatDate, formatIsoTimeString, formatRange, getAllDayHtml, getClippingParents, getDayClasses, getElSeg, getRectCenter, getRelevantEvents, globalDefaults, greatestDurationDenominator, hasBgRendering, htmlEscape, htmlToElement, insertAfterElement, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isSingleDay, isValidDate, listenBySelector, mapHash, matchCellWidths, memoize, memoizeOutput, memoizeRendering, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, prependToElement, preventContextMenu, preventDefault, preventSelection, processScopedUiProps, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineProps, removeElement, removeExact, renderDateCell, requestJson, sliceEventStore, startOfDay, subtractInnerElHeight, translateRect, uncompensateScroll, undistributeHeight, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/*\nFullCalendar React Component v4.4.0\nDocs: https://fullcalendar.io/docs/react\nLicense: MIT\n*/\nimport deepEqual from 'fast-deep-equal';\nimport { createElement, createRef, Component } from 'react';\nimport { Calendar } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar FullCalendar = /** @class */ (function (_super) {\n    __extends(FullCalendar, _super);\n    function FullCalendar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    FullCalendar.prototype.render = function () {\n        return (createElement(\"div\", { ref: this.elRef }));\n    };\n    FullCalendar.prototype.componentDidMount = function () {\n        this.calendar = new Calendar(this.elRef.current, this.props);\n        this.calendar.render();\n    };\n    FullCalendar.prototype.componentDidUpdate = function (oldProps) {\n        var props = this.props;\n        var updates = {};\n        var removals = [];\n        for (var propName in oldProps) {\n            if (!(propName in props)) {\n                removals.push(propName);\n            }\n        }\n        /*\n        Do a deep-comparison for prop changes. We do this because often times the parent component will pass in\n        an object literal that generates a new reference every time its render() function runs.\n        This isn't too much of a performance hit because normally these object literals are rather small.\n        For larger data, the parent component will almost definitely generate a new reference on every mutation,\n        because immutable prop data is the norm in React-world, making the deepEqual function execute really fast.\n        */\n        for (var propName in props) {\n            if (!deepEqual(props[propName], oldProps[propName])) {\n                updates[propName] = props[propName];\n            }\n        }\n        this.calendar.mutateOptions(updates, removals, false, deepEqual);\n    };\n    FullCalendar.prototype.componentWillUnmount = function () {\n        this.calendar.destroy();\n    };\n    FullCalendar.prototype.getApi = function () {\n        return this.calendar;\n    };\n    return FullCalendar;\n}(Component));\n\nexport default FullCalendar;\n","/*!\nFullCalendar Day Grid Plugin v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\nimport { addWeeks, diffWeeks, DateProfileGenerator, createElement, listenBySelector, removeElement, computeRect, computeClippingRect, applyStyle, computeEventDraggable, computeEventStartResizable, computeEventEndResizable, cssToStr, htmlEscape, FgEventRenderer, appendToElement, prependToElement, htmlToElement, FillRenderer, memoizeRendering, createFormatter, addDays, DateComponent, rangeContainsMarker, getDayClasses, findElements, PositionCache, buildGotoAnchorHtml, findChildren, insertAfterElement, intersectRanges, memoize, ScrollComponent, matchCellWidths, uncompensateScroll, compensateScroll, subtractInnerElHeight, distributeHeight, undistributeHeight, View, Slicer, DayHeader, DaySeries, DayTable, createPlugin } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar DayGridDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(DayGridDateProfileGenerator, _super);\n    function DayGridDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    DayGridDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.options.monthMode &&\n            this.options.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return DayGridDateProfileGenerator;\n}(DateProfileGenerator));\n\n/* A rectangular panel that is absolutely positioned over other content\n------------------------------------------------------------------------------------------------------------------------\nOptions:\n  - className (string)\n  - content (HTML string, element, or element array)\n  - parentEl\n  - top\n  - left\n  - right (the x coord of where the right edge should be. not a \"CSS\" right)\n  - autoHide (boolean)\n  - show (callback)\n  - hide (callback)\n*/\nvar Popover = /** @class */ (function () {\n    function Popover(options) {\n        var _this = this;\n        this.isHidden = true;\n        this.margin = 10; // the space required between the popover and the edges of the scroll container\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.documentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            if (_this.el && !_this.el.contains(ev.target)) {\n                _this.hide();\n            }\n        };\n        this.options = options;\n    }\n    // Shows the popover on the specified position. Renders it if not already\n    Popover.prototype.show = function () {\n        if (this.isHidden) {\n            if (!this.el) {\n                this.render();\n            }\n            this.el.style.display = '';\n            this.position();\n            this.isHidden = false;\n            this.trigger('show');\n        }\n    };\n    // Hides the popover, through CSS, but does not remove it from the DOM\n    Popover.prototype.hide = function () {\n        if (!this.isHidden) {\n            this.el.style.display = 'none';\n            this.isHidden = true;\n            this.trigger('hide');\n        }\n    };\n    // Creates `this.el` and renders content inside of it\n    Popover.prototype.render = function () {\n        var _this = this;\n        var options = this.options;\n        var el = this.el = createElement('div', {\n            className: 'fc-popover ' + (options.className || ''),\n            style: {\n                top: '0',\n                left: '0'\n            }\n        });\n        if (typeof options.content === 'function') {\n            options.content(el);\n        }\n        options.parentEl.appendChild(el);\n        // when a click happens on anything inside with a 'fc-close' className, hide the popover\n        listenBySelector(el, 'click', '.fc-close', function (ev) {\n            _this.hide();\n        });\n        if (options.autoHide) {\n            document.addEventListener('mousedown', this.documentMousedown);\n        }\n    };\n    // Hides and unregisters any handlers\n    Popover.prototype.destroy = function () {\n        this.hide();\n        if (this.el) {\n            removeElement(this.el);\n            this.el = null;\n        }\n        document.removeEventListener('mousedown', this.documentMousedown);\n    };\n    // Positions the popover optimally, using the top/left/right options\n    Popover.prototype.position = function () {\n        var options = this.options;\n        var el = this.el;\n        var elDims = el.getBoundingClientRect(); // only used for width,height\n        var origin = computeRect(el.offsetParent);\n        var clippingRect = computeClippingRect(options.parentEl);\n        var top; // the \"position\" (not \"offset\") values for the popover\n        var left; //\n        // compute top and left\n        top = options.top || 0;\n        if (options.left !== undefined) {\n            left = options.left;\n        }\n        else if (options.right !== undefined) {\n            left = options.right - elDims.width; // derive the left value from the right value\n        }\n        else {\n            left = 0;\n        }\n        // constrain to the view port. if constrained by two edges, give precedence to top/left\n        top = Math.min(top, clippingRect.bottom - elDims.height - this.margin);\n        top = Math.max(top, clippingRect.top + this.margin);\n        left = Math.min(left, clippingRect.right - elDims.width - this.margin);\n        left = Math.max(left, clippingRect.left + this.margin);\n        applyStyle(el, {\n            top: top - origin.top,\n            left: left - origin.left\n        });\n    };\n    // Triggers a callback. Calls a function in the option hash of the same name.\n    // Arguments beyond the first `name` are forwarded on.\n    // TODO: better code reuse for this. Repeat code\n    // can kill this???\n    Popover.prototype.trigger = function (name) {\n        if (this.options[name]) {\n            this.options[name].apply(this, Array.prototype.slice.call(arguments, 1));\n        }\n    };\n    return Popover;\n}());\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\n// \"Simple\" is bad a name. has nothing to do with SimpleDayGrid\nvar SimpleDayGridEventRenderer = /** @class */ (function (_super) {\n    __extends(SimpleDayGridEventRenderer, _super);\n    function SimpleDayGridEventRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Builds the HTML to be used for the default element for an individual segment\n    SimpleDayGridEventRenderer.prototype.renderSegHtml = function (seg, mirrorInfo) {\n        var context = this.context;\n        var eventRange = seg.eventRange;\n        var eventDef = eventRange.def;\n        var eventUi = eventRange.ui;\n        var allDay = eventDef.allDay;\n        var isDraggable = computeEventDraggable(context, eventDef, eventUi);\n        var isResizableFromStart = allDay && seg.isStart && computeEventStartResizable(context, eventDef, eventUi);\n        var isResizableFromEnd = allDay && seg.isEnd && computeEventEndResizable(context, eventDef, eventUi);\n        var classes = this.getSegClasses(seg, isDraggable, isResizableFromStart || isResizableFromEnd, mirrorInfo);\n        var skinCss = cssToStr(this.getSkinCss(eventUi));\n        var timeHtml = '';\n        var timeText;\n        var titleHtml;\n        classes.unshift('fc-day-grid-event', 'fc-h-event');\n        // Only display a timed events time if it is the starting segment\n        if (seg.isStart) {\n            timeText = this.getTimeText(eventRange);\n            if (timeText) {\n                timeHtml = '<span class=\"fc-time\">' + htmlEscape(timeText) + '</span>';\n            }\n        }\n        titleHtml =\n            '<span class=\"fc-title\">' +\n                (htmlEscape(eventDef.title || '') || '&nbsp;') + // we always want one line of height\n                '</span>';\n        return '<a class=\"' + classes.join(' ') + '\"' +\n            (eventDef.url ?\n                ' href=\"' + htmlEscape(eventDef.url) + '\"' :\n                '') +\n            (skinCss ?\n                ' style=\"' + skinCss + '\"' :\n                '') +\n            '>' +\n            '<div class=\"fc-content\">' +\n            (context.options.dir === 'rtl' ?\n                titleHtml + ' ' + timeHtml : // put a natural space in between\n                timeHtml + ' ' + titleHtml //\n            ) +\n            '</div>' +\n            (isResizableFromStart ?\n                '<div class=\"fc-resizer fc-start-resizer\"></div>' :\n                '') +\n            (isResizableFromEnd ?\n                '<div class=\"fc-resizer fc-end-resizer\"></div>' :\n                '') +\n            '</a>';\n    };\n    // Computes a default event time formatting string if `eventTimeFormat` is not explicitly defined\n    SimpleDayGridEventRenderer.prototype.computeEventTimeFormat = function () {\n        return {\n            hour: 'numeric',\n            minute: '2-digit',\n            omitZeroMinute: true,\n            meridiem: 'narrow'\n        };\n    };\n    SimpleDayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return false; // TODO: somehow consider the originating DayGrid's column count\n    };\n    return SimpleDayGridEventRenderer;\n}(FgEventRenderer));\n\n/* Event-rendering methods for the DayGrid class\n----------------------------------------------------------------------------------------------------------------------*/\nvar DayGridEventRenderer = /** @class */ (function (_super) {\n    __extends(DayGridEventRenderer, _super);\n    function DayGridEventRenderer(dayGrid) {\n        var _this = _super.call(this) || this;\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    // Renders the given foreground event segments onto the grid\n    DayGridEventRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\n        // append to each row's content skeleton\n        this.dayGrid.rowEls.forEach(function (rowNode, i) {\n            rowNode.querySelector('.fc-content-skeleton > table').appendChild(rowStructs[i].tbodyEl);\n        });\n        // removes the \"more..\" events popover\n        if (!mirrorInfo) {\n            this.dayGrid.removeSegPopover();\n        }\n    };\n    // Unrenders all currently rendered foreground event segments\n    DayGridEventRenderer.prototype.detachSegs = function () {\n        var rowStructs = this.rowStructs || [];\n        var rowStruct;\n        while ((rowStruct = rowStructs.pop())) {\n            removeElement(rowStruct.tbodyEl);\n        }\n        this.rowStructs = null;\n    };\n    // Uses the given events array to generate <tbody> elements that should be appended to each row's content skeleton.\n    // Returns an array of rowStruct objects (see the bottom of `renderSegRow`).\n    // PRECONDITION: each segment shoud already have a rendered and assigned `.el`\n    DayGridEventRenderer.prototype.renderSegRows = function (segs) {\n        var rowStructs = [];\n        var segRows;\n        var row;\n        segRows = this.groupSegRows(segs); // group into nested arrays\n        // iterate each row of segment groupings\n        for (row = 0; row < segRows.length; row++) {\n            rowStructs.push(this.renderSegRow(row, segRows[row]));\n        }\n        return rowStructs;\n    };\n    // Given a row # and an array of segments all in the same row, render a <tbody> element, a skeleton that contains\n    // the segments. Returns object with a bunch of internal data about how the render was calculated.\n    // NOTE: modifies rowSegs\n    DayGridEventRenderer.prototype.renderSegRow = function (row, rowSegs) {\n        var isRtl = this.context.isRtl;\n        var dayGrid = this.dayGrid;\n        var colCnt = dayGrid.colCnt;\n        var segLevels = this.buildSegLevels(rowSegs); // group into sub-arrays of levels\n        var levelCnt = Math.max(1, segLevels.length); // ensure at least one level\n        var tbody = document.createElement('tbody');\n        var segMatrix = []; // lookup for which segments are rendered into which level+col cells\n        var cellMatrix = []; // lookup for all <td> elements of the level+col matrix\n        var loneCellMatrix = []; // lookup for <td> elements that only take up a single column\n        var i;\n        var levelSegs;\n        var col;\n        var tr;\n        var j;\n        var seg;\n        var td;\n        // populates empty cells from the current column (`col`) to `endCol`\n        function emptyCellsUntil(endCol) {\n            while (col < endCol) {\n                // try to grab a cell from the level above and extend its rowspan. otherwise, create a fresh cell\n                td = (loneCellMatrix[i - 1] || [])[col];\n                if (td) {\n                    td.rowSpan = (td.rowSpan || 1) + 1;\n                }\n                else {\n                    td = document.createElement('td');\n                    tr.appendChild(td);\n                }\n                cellMatrix[i][col] = td;\n                loneCellMatrix[i][col] = td;\n                col++;\n            }\n        }\n        for (i = 0; i < levelCnt; i++) { // iterate through all levels\n            levelSegs = segLevels[i];\n            col = 0;\n            tr = document.createElement('tr');\n            segMatrix.push([]);\n            cellMatrix.push([]);\n            loneCellMatrix.push([]);\n            // levelCnt might be 1 even though there are no actual levels. protect against this.\n            // this single empty row is useful for styling.\n            if (levelSegs) {\n                for (j = 0; j < levelSegs.length; j++) { // iterate through segments in level\n                    seg = levelSegs[j];\n                    var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n                    var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n                    emptyCellsUntil(leftCol);\n                    // create a container that occupies or more columns. append the event element.\n                    td = createElement('td', { className: 'fc-event-container' }, seg.el);\n                    if (leftCol !== rightCol) {\n                        td.colSpan = rightCol - leftCol + 1;\n                    }\n                    else { // a single-column segment\n                        loneCellMatrix[i][col] = td;\n                    }\n                    while (col <= rightCol) {\n                        cellMatrix[i][col] = td;\n                        segMatrix[i][col] = seg;\n                        col++;\n                    }\n                    tr.appendChild(td);\n                }\n            }\n            emptyCellsUntil(colCnt); // finish off the row\n            var introHtml = dayGrid.renderProps.renderIntroHtml();\n            if (introHtml) {\n                if (isRtl) {\n                    appendToElement(tr, introHtml);\n                }\n                else {\n                    prependToElement(tr, introHtml);\n                }\n            }\n            tbody.appendChild(tr);\n        }\n        return {\n            row: row,\n            tbodyEl: tbody,\n            cellMatrix: cellMatrix,\n            segMatrix: segMatrix,\n            segLevels: segLevels,\n            segs: rowSegs\n        };\n    };\n    // Stacks a flat array of segments, which are all assumed to be in the same row, into subarrays of vertical levels.\n    // NOTE: modifies segs\n    DayGridEventRenderer.prototype.buildSegLevels = function (segs) {\n        var isRtl = this.context.isRtl;\n        var colCnt = this.dayGrid.colCnt;\n        var levels = [];\n        var i;\n        var seg;\n        var j;\n        // Give preference to elements with certain criteria, so they have\n        // a chance to be closer to the top.\n        segs = this.sortEventSegs(segs);\n        for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            // loop through levels, starting with the topmost, until the segment doesn't collide with other segments\n            for (j = 0; j < levels.length; j++) {\n                if (!isDaySegCollision(seg, levels[j])) {\n                    break;\n                }\n            }\n            // `j` now holds the desired subrow index\n            seg.level = j;\n            seg.leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol; // for sorting only\n            seg.rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol // for sorting only\n            ;\n            (levels[j] || (levels[j] = [])).push(seg);\n        }\n        // order segments left-to-right. very important if calendar is RTL\n        for (j = 0; j < levels.length; j++) {\n            levels[j].sort(compareDaySegCols);\n        }\n        return levels;\n    };\n    // Given a flat array of segments, return an array of sub-arrays, grouped by each segment's row\n    DayGridEventRenderer.prototype.groupSegRows = function (segs) {\n        var segRows = [];\n        var i;\n        for (i = 0; i < this.dayGrid.rowCnt; i++) {\n            segRows.push([]);\n        }\n        for (i = 0; i < segs.length; i++) {\n            segRows[segs[i].row].push(segs[i]);\n        }\n        return segRows;\n    };\n    // Computes a default `displayEventEnd` value if one is not expliclty defined\n    DayGridEventRenderer.prototype.computeDisplayEventEnd = function () {\n        return this.dayGrid.colCnt === 1; // we'll likely have space if there's only one day\n    };\n    return DayGridEventRenderer;\n}(SimpleDayGridEventRenderer));\n// Computes whether two segments' columns collide. They are assumed to be in the same row.\nfunction isDaySegCollision(seg, otherSegs) {\n    var i;\n    var otherSeg;\n    for (i = 0; i < otherSegs.length; i++) {\n        otherSeg = otherSegs[i];\n        if (otherSeg.firstCol <= seg.lastCol &&\n            otherSeg.lastCol >= seg.firstCol) {\n            return true;\n        }\n    }\n    return false;\n}\n// A cmp function for determining the leftmost event\nfunction compareDaySegCols(a, b) {\n    return a.leftCol - b.leftCol;\n}\n\nvar DayGridMirrorRenderer = /** @class */ (function (_super) {\n    __extends(DayGridMirrorRenderer, _super);\n    function DayGridMirrorRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayGridMirrorRenderer.prototype.attachSegs = function (segs, mirrorInfo) {\n        var sourceSeg = mirrorInfo.sourceSeg;\n        var rowStructs = this.rowStructs = this.renderSegRows(segs);\n        // inject each new event skeleton into each associated row\n        this.dayGrid.rowEls.forEach(function (rowNode, row) {\n            var skeletonEl = htmlToElement('<div class=\"fc-mirror-skeleton\"><table></table></div>'); // will be absolutely positioned\n            var skeletonTopEl;\n            var skeletonTop;\n            // If there is an original segment, match the top position. Otherwise, put it at the row's top level\n            if (sourceSeg && sourceSeg.row === row) {\n                skeletonTopEl = sourceSeg.el;\n            }\n            else {\n                skeletonTopEl = rowNode.querySelector('.fc-content-skeleton tbody');\n                if (!skeletonTopEl) { // when no events\n                    skeletonTopEl = rowNode.querySelector('.fc-content-skeleton table');\n                }\n            }\n            skeletonTop = skeletonTopEl.getBoundingClientRect().top -\n                rowNode.getBoundingClientRect().top; // the offsetParent origin\n            skeletonEl.style.top = skeletonTop + 'px';\n            skeletonEl.querySelector('table').appendChild(rowStructs[row].tbodyEl);\n            rowNode.appendChild(skeletonEl);\n        });\n    };\n    return DayGridMirrorRenderer;\n}(DayGridEventRenderer));\n\nvar EMPTY_CELL_HTML = '<td style=\"pointer-events:none\"></td>';\nvar DayGridFillRenderer = /** @class */ (function (_super) {\n    __extends(DayGridFillRenderer, _super);\n    function DayGridFillRenderer(dayGrid) {\n        var _this = _super.call(this) || this;\n        _this.fillSegTag = 'td'; // override the default tag name\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    DayGridFillRenderer.prototype.renderSegs = function (type, context, segs) {\n        // don't render timed background events\n        if (type === 'bgEvent') {\n            segs = segs.filter(function (seg) {\n                return seg.eventRange.def.allDay;\n            });\n        }\n        _super.prototype.renderSegs.call(this, type, context, segs);\n    };\n    DayGridFillRenderer.prototype.attachSegs = function (type, segs) {\n        var els = [];\n        var i;\n        var seg;\n        var skeletonEl;\n        for (i = 0; i < segs.length; i++) {\n            seg = segs[i];\n            skeletonEl = this.renderFillRow(type, seg);\n            this.dayGrid.rowEls[seg.row].appendChild(skeletonEl);\n            els.push(skeletonEl);\n        }\n        return els;\n    };\n    // Generates the HTML needed for one row of a fill. Requires the seg's el to be rendered.\n    DayGridFillRenderer.prototype.renderFillRow = function (type, seg) {\n        var dayGrid = this.dayGrid;\n        var isRtl = this.context.isRtl;\n        var colCnt = dayGrid.colCnt;\n        var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n        var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n        var startCol = leftCol;\n        var endCol = rightCol + 1;\n        var className;\n        var skeletonEl;\n        var trEl;\n        if (type === 'businessHours') {\n            className = 'bgevent';\n        }\n        else {\n            className = type.toLowerCase();\n        }\n        skeletonEl = htmlToElement('<div class=\"fc-' + className + '-skeleton\">' +\n            '<table><tr></tr></table>' +\n            '</div>');\n        trEl = skeletonEl.getElementsByTagName('tr')[0];\n        if (startCol > 0) {\n            appendToElement(trEl, \n            // will create (startCol + 1) td's\n            new Array(startCol + 1).join(EMPTY_CELL_HTML));\n        }\n        seg.el.colSpan = endCol - startCol;\n        trEl.appendChild(seg.el);\n        if (endCol < colCnt) {\n            appendToElement(trEl, \n            // will create (colCnt - endCol) td's\n            new Array(colCnt - endCol + 1).join(EMPTY_CELL_HTML));\n        }\n        var introHtml = dayGrid.renderProps.renderIntroHtml();\n        if (introHtml) {\n            if (isRtl) {\n                appendToElement(trEl, introHtml);\n            }\n            else {\n                prependToElement(trEl, introHtml);\n            }\n        }\n        return skeletonEl;\n    };\n    return DayGridFillRenderer;\n}(FillRenderer));\n\nvar DayTile = /** @class */ (function (_super) {\n    __extends(DayTile, _super);\n    function DayTile(el) {\n        var _this = _super.call(this, el) || this;\n        var eventRenderer = _this.eventRenderer = new DayTileEventRenderer(_this);\n        var renderFrame = _this.renderFrame = memoizeRendering(_this._renderFrame);\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderFrame]);\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n        _this.renderEventDrag = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n        _this.renderEventResize = memoizeRendering(eventRenderer.hideByHash.bind(eventRenderer), eventRenderer.showByHash.bind(eventRenderer), [renderFrame]);\n        return _this;\n    }\n    DayTile.prototype.firstContext = function (context) {\n        context.calendar.registerInteractiveComponent(this, {\n            el: this.el,\n            useEventCenter: false\n        });\n    };\n    DayTile.prototype.render = function (props, context) {\n        this.renderFrame(props.date);\n        this.renderFgEvents(context, props.fgSegs);\n        this.renderEventSelection(props.eventSelection);\n        this.renderEventDrag(props.eventDragInstances);\n        this.renderEventResize(props.eventResizeInstances);\n    };\n    DayTile.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderFrame.unrender(); // should unrender everything else\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    DayTile.prototype._renderFrame = function (date) {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options;\n        var title = dateEnv.format(date, createFormatter(options.dayPopoverFormat) // TODO: cache\n        );\n        this.el.innerHTML =\n            '<div class=\"fc-header ' + theme.getClass('popoverHeader') + '\">' +\n                '<span class=\"fc-title\">' +\n                htmlEscape(title) +\n                '</span>' +\n                '<span class=\"fc-close ' + theme.getIconClass('close') + '\"></span>' +\n                '</div>' +\n                '<div class=\"fc-body ' + theme.getClass('popoverContent') + '\">' +\n                '<div class=\"fc-event-container\"></div>' +\n                '</div>';\n        this.segContainerEl = this.el.querySelector('.fc-event-container');\n    };\n    DayTile.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var date = this.props.date; // HACK\n        if (positionLeft < elWidth && positionTop < elHeight) {\n            return {\n                component: this,\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) }\n                },\n                dayEl: this.el,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight\n                },\n                layer: 1\n            };\n        }\n    };\n    return DayTile;\n}(DateComponent));\nvar DayTileEventRenderer = /** @class */ (function (_super) {\n    __extends(DayTileEventRenderer, _super);\n    function DayTileEventRenderer(dayTile) {\n        var _this = _super.call(this) || this;\n        _this.dayTile = dayTile;\n        return _this;\n    }\n    DayTileEventRenderer.prototype.attachSegs = function (segs) {\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg = segs_1[_i];\n            this.dayTile.segContainerEl.appendChild(seg.el);\n        }\n    };\n    DayTileEventRenderer.prototype.detachSegs = function (segs) {\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            removeElement(seg.el);\n        }\n    };\n    return DayTileEventRenderer;\n}(SimpleDayGridEventRenderer));\n\nvar DayBgRow = /** @class */ (function () {\n    function DayBgRow(context) {\n        this.context = context;\n    }\n    DayBgRow.prototype.renderHtml = function (props) {\n        var parts = [];\n        if (props.renderIntroHtml) {\n            parts.push(props.renderIntroHtml());\n        }\n        for (var _i = 0, _a = props.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            parts.push(renderCellHtml(cell.date, props.dateProfile, this.context, cell.htmlAttrs));\n        }\n        if (!props.cells.length) {\n            parts.push('<td class=\"fc-day ' + this.context.theme.getClass('widgetContent') + '\"></td>');\n        }\n        if (this.context.options.dir === 'rtl') {\n            parts.reverse();\n        }\n        return '<tr>' + parts.join('') + '</tr>';\n    };\n    return DayBgRow;\n}());\nfunction renderCellHtml(date, dateProfile, context, otherAttrs) {\n    var dateEnv = context.dateEnv, theme = context.theme;\n    var isDateValid = rangeContainsMarker(dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n    var classes = getDayClasses(date, dateProfile, context);\n    classes.unshift('fc-day', theme.getClass('widgetContent'));\n    return '<td class=\"' + classes.join(' ') + '\"' +\n        (isDateValid ?\n            ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n            '') +\n        (otherAttrs ?\n            ' ' + otherAttrs :\n            '') +\n        '></td>';\n}\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar WEEK_NUM_FORMAT = createFormatter({ week: 'numeric' });\nvar DayGrid = /** @class */ (function (_super) {\n    __extends(DayGrid, _super);\n    function DayGrid(el, renderProps) {\n        var _this = _super.call(this, el) || this;\n        _this.bottomCoordPadding = 0; // hack for extending the hit area for the last row of the coordinate grid\n        _this.isCellSizesDirty = false;\n        _this.renderProps = renderProps;\n        var eventRenderer = _this.eventRenderer = new DayGridEventRenderer(_this);\n        var fillRenderer = _this.fillRenderer = new DayGridFillRenderer(_this);\n        _this.mirrorRenderer = new DayGridMirrorRenderer(_this);\n        var renderCells = _this.renderCells = memoizeRendering(_this._renderCells, _this._unrenderCells);\n        _this.renderBusinessHours = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'businessHours'), fillRenderer.unrender.bind(fillRenderer, 'businessHours'), [renderCells]);\n        _this.renderDateSelection = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'highlight'), fillRenderer.unrender.bind(fillRenderer, 'highlight'), [renderCells]);\n        _this.renderBgEvents = memoizeRendering(fillRenderer.renderSegs.bind(fillRenderer, 'bgEvent'), fillRenderer.unrender.bind(fillRenderer, 'bgEvent'), [renderCells]);\n        _this.renderFgEvents = memoizeRendering(eventRenderer.renderSegs.bind(eventRenderer), eventRenderer.unrender.bind(eventRenderer), [renderCells]);\n        _this.renderEventSelection = memoizeRendering(eventRenderer.selectByInstanceId.bind(eventRenderer), eventRenderer.unselectByInstanceId.bind(eventRenderer), [_this.renderFgEvents]);\n        _this.renderEventDrag = memoizeRendering(_this._renderEventDrag, _this._unrenderEventDrag, [renderCells]);\n        _this.renderEventResize = memoizeRendering(_this._renderEventResize, _this._unrenderEventResize, [renderCells]);\n        return _this;\n    }\n    DayGrid.prototype.render = function (props, context) {\n        var cells = props.cells;\n        this.rowCnt = cells.length;\n        this.colCnt = cells[0].length;\n        this.renderCells(cells, props.isRigid);\n        this.renderBusinessHours(context, props.businessHourSegs);\n        this.renderDateSelection(context, props.dateSelectionSegs);\n        this.renderBgEvents(context, props.bgEventSegs);\n        this.renderFgEvents(context, props.fgEventSegs);\n        this.renderEventSelection(props.eventSelection);\n        this.renderEventDrag(props.eventDrag);\n        this.renderEventResize(props.eventResize);\n        if (this.segPopoverTile) {\n            this.updateSegPopoverTile();\n        }\n    };\n    DayGrid.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderCells.unrender(); // will unrender everything else\n    };\n    DayGrid.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    DayGrid.prototype.updateSegPopoverTile = function (date, segs) {\n        var ownProps = this.props;\n        this.segPopoverTile.receiveProps({\n            date: date || this.segPopoverTile.props.date,\n            fgSegs: segs || this.segPopoverTile.props.fgSegs,\n            eventSelection: ownProps.eventSelection,\n            eventDragInstances: ownProps.eventDrag ? ownProps.eventDrag.affectedInstances : null,\n            eventResizeInstances: ownProps.eventResize ? ownProps.eventResize.affectedInstances : null\n        }, this.context);\n    };\n    /* Date Rendering\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderCells = function (cells, isRigid) {\n        var _a = this.context, calendar = _a.calendar, view = _a.view, isRtl = _a.isRtl, dateEnv = _a.dateEnv;\n        var _b = this, rowCnt = _b.rowCnt, colCnt = _b.colCnt;\n        var html = '';\n        var row;\n        var col;\n        for (row = 0; row < rowCnt; row++) {\n            html += this.renderDayRowHtml(row, isRigid);\n        }\n        this.el.innerHTML = html;\n        this.rowEls = findElements(this.el, '.fc-row');\n        this.cellEls = findElements(this.el, '.fc-day, .fc-disabled-day');\n        if (isRtl) {\n            this.cellEls.reverse();\n        }\n        this.rowPositions = new PositionCache(this.el, this.rowEls, false, true // vertical\n        );\n        this.colPositions = new PositionCache(this.el, this.cellEls.slice(0, colCnt), // only the first row\n        true, false // horizontal\n        );\n        // trigger dayRender with each cell's element\n        for (row = 0; row < rowCnt; row++) {\n            for (col = 0; col < colCnt; col++) {\n                calendar.publiclyTrigger('dayRender', [\n                    {\n                        date: dateEnv.toDate(cells[row][col].date),\n                        el: this.getCellEl(row, col),\n                        view: view\n                    }\n                ]);\n            }\n        }\n        this.isCellSizesDirty = true;\n    };\n    DayGrid.prototype._unrenderCells = function () {\n        this.removeSegPopover();\n    };\n    // Generates the HTML for a single row, which is a div that wraps a table.\n    // `row` is the row number.\n    DayGrid.prototype.renderDayRowHtml = function (row, isRigid) {\n        var theme = this.context.theme;\n        var classes = ['fc-row', 'fc-week', theme.getClass('dayRow')];\n        if (isRigid) {\n            classes.push('fc-rigid');\n        }\n        var bgRow = new DayBgRow(this.context);\n        return '' +\n            '<div class=\"' + classes.join(' ') + '\">' +\n            '<div class=\"fc-bg\">' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            bgRow.renderHtml({\n                cells: this.props.cells[row],\n                dateProfile: this.props.dateProfile,\n                renderIntroHtml: this.renderProps.renderBgIntroHtml\n            }) +\n            '</table>' +\n            '</div>' +\n            '<div class=\"fc-content-skeleton\">' +\n            '<table>' +\n            (this.getIsNumbersVisible() ?\n                '<thead>' +\n                    this.renderNumberTrHtml(row) +\n                    '</thead>' :\n                '') +\n            '</table>' +\n            '</div>' +\n            '</div>';\n    };\n    DayGrid.prototype.getIsNumbersVisible = function () {\n        return this.getIsDayNumbersVisible() ||\n            this.renderProps.cellWeekNumbersVisible ||\n            this.renderProps.colWeekNumbersVisible;\n    };\n    DayGrid.prototype.getIsDayNumbersVisible = function () {\n        return this.rowCnt > 1;\n    };\n    /* Grid Number Rendering\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.renderNumberTrHtml = function (row) {\n        var isRtl = this.context.isRtl;\n        var intro = this.renderProps.renderNumberIntroHtml(row, this);\n        return '' +\n            '<tr>' +\n            (isRtl ? '' : intro) +\n            this.renderNumberCellsHtml(row) +\n            (isRtl ? intro : '') +\n            '</tr>';\n    };\n    DayGrid.prototype.renderNumberCellsHtml = function (row) {\n        var htmls = [];\n        var col;\n        var date;\n        for (col = 0; col < this.colCnt; col++) {\n            date = this.props.cells[row][col].date;\n            htmls.push(this.renderNumberCellHtml(date));\n        }\n        if (this.context.isRtl) {\n            htmls.reverse();\n        }\n        return htmls.join('');\n    };\n    // Generates the HTML for the <td>s of the \"number\" row in the DayGrid's content skeleton.\n    // The number row will only exist if either day numbers or week numbers are turned on.\n    DayGrid.prototype.renderNumberCellHtml = function (date) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var html = '';\n        var isDateValid = rangeContainsMarker(this.props.dateProfile.activeRange, date); // TODO: called too frequently. cache somehow.\n        var isDayNumberVisible = this.getIsDayNumbersVisible() && isDateValid;\n        var classes;\n        var weekCalcFirstDow;\n        if (!isDayNumberVisible && !this.renderProps.cellWeekNumbersVisible) {\n            // no numbers in day cell (week number must be along the side)\n            return '<td></td>'; //  will create an empty space above events :(\n        }\n        classes = getDayClasses(date, this.props.dateProfile, this.context);\n        classes.unshift('fc-day-top');\n        if (this.renderProps.cellWeekNumbersVisible) {\n            weekCalcFirstDow = dateEnv.weekDow;\n        }\n        html += '<td class=\"' + classes.join(' ') + '\"' +\n            (isDateValid ?\n                ' data-date=\"' + dateEnv.formatIso(date, { omitTime: true }) + '\"' :\n                '') +\n            '>';\n        if (this.renderProps.cellWeekNumbersVisible && (date.getUTCDay() === weekCalcFirstDow)) {\n            html += buildGotoAnchorHtml(options, dateEnv, { date: date, type: 'week' }, { 'class': 'fc-week-number' }, dateEnv.format(date, WEEK_NUM_FORMAT) // inner HTML\n            );\n        }\n        if (isDayNumberVisible) {\n            html += buildGotoAnchorHtml(options, dateEnv, date, { 'class': 'fc-day-number' }, dateEnv.format(date, DAY_NUM_FORMAT) // inner HTML\n            );\n        }\n        html += '</td>';\n        return html;\n    };\n    /* Sizing\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.updateSize = function (isResize) {\n        var calendar = this.context.calendar;\n        var _a = this, fillRenderer = _a.fillRenderer, eventRenderer = _a.eventRenderer, mirrorRenderer = _a.mirrorRenderer;\n        if (isResize ||\n            this.isCellSizesDirty ||\n            calendar.isEventsUpdated // hack\n        ) {\n            this.buildPositionCaches();\n            this.isCellSizesDirty = false;\n        }\n        fillRenderer.computeSizes(isResize);\n        eventRenderer.computeSizes(isResize);\n        mirrorRenderer.computeSizes(isResize);\n        fillRenderer.assignSizes(isResize);\n        eventRenderer.assignSizes(isResize);\n        mirrorRenderer.assignSizes(isResize);\n    };\n    DayGrid.prototype.buildPositionCaches = function () {\n        this.buildColPositions();\n        this.buildRowPositions();\n    };\n    DayGrid.prototype.buildColPositions = function () {\n        this.colPositions.build();\n    };\n    DayGrid.prototype.buildRowPositions = function () {\n        this.rowPositions.build();\n        this.rowPositions.bottoms[this.rowCnt - 1] += this.bottomCoordPadding; // hack\n    };\n    /* Hit System\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.positionToHit = function (leftPosition, topPosition) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row]\n                }\n            };\n        }\n    };\n    /* Cell System\n    ------------------------------------------------------------------------------------------------------------------*/\n    // FYI: the first column is the leftmost column, regardless of date\n    DayGrid.prototype.getCellEl = function (row, col) {\n        return this.cellEls[row * this.colCnt + col];\n    };\n    /* Event Drag Visualization\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.fillRenderer.renderSegs('highlight', this.context, state.segs);\n        }\n    };\n    DayGrid.prototype._unrenderEventDrag = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.fillRenderer.unrender('highlight', this.context);\n        }\n    };\n    /* Event Resize Visualization\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype._renderEventResize = function (state) {\n        if (state) {\n            this.eventRenderer.hideByHash(state.affectedInstances);\n            this.fillRenderer.renderSegs('highlight', this.context, state.segs);\n            this.mirrorRenderer.renderSegs(this.context, state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    DayGrid.prototype._unrenderEventResize = function (state) {\n        if (state) {\n            this.eventRenderer.showByHash(state.affectedInstances);\n            this.fillRenderer.unrender('highlight', this.context);\n            this.mirrorRenderer.unrender(this.context, state.segs, { isResizing: true, sourceSeg: state.sourceSeg });\n        }\n    };\n    /* More+ Link Popover\n    ------------------------------------------------------------------------------------------------------------------*/\n    DayGrid.prototype.removeSegPopover = function () {\n        if (this.segPopover) {\n            this.segPopover.hide(); // in handler, will call segPopover's removeElement\n        }\n    };\n    // Limits the number of \"levels\" (vertically stacking layers of events) for each row of the grid.\n    // `levelLimit` can be false (don't limit), a number, or true (should be computed).\n    DayGrid.prototype.limitRows = function (levelLimit) {\n        var rowStructs = this.eventRenderer.rowStructs || [];\n        var row; // row #\n        var rowLevelLimit;\n        for (row = 0; row < rowStructs.length; row++) {\n            this.unlimitRow(row);\n            if (!levelLimit) {\n                rowLevelLimit = false;\n            }\n            else if (typeof levelLimit === 'number') {\n                rowLevelLimit = levelLimit;\n            }\n            else {\n                rowLevelLimit = this.computeRowLevelLimit(row);\n            }\n            if (rowLevelLimit !== false) {\n                this.limitRow(row, rowLevelLimit);\n            }\n        }\n    };\n    // Computes the number of levels a row will accomodate without going outside its bounds.\n    // Assumes the row is \"rigid\" (maintains a constant height regardless of what is inside).\n    // `row` is the row number.\n    DayGrid.prototype.computeRowLevelLimit = function (row) {\n        var rowEl = this.rowEls[row]; // the containing \"fake\" row div\n        var rowBottom = rowEl.getBoundingClientRect().bottom; // relative to viewport!\n        var trEls = findChildren(this.eventRenderer.rowStructs[row].tbodyEl);\n        var i;\n        var trEl;\n        // Reveal one level <tr> at a time and stop when we find one out of bounds\n        for (i = 0; i < trEls.length; i++) {\n            trEl = trEls[i];\n            trEl.classList.remove('fc-limited'); // reset to original state (reveal)\n            if (trEl.getBoundingClientRect().bottom > rowBottom) {\n                return i;\n            }\n        }\n        return false; // should not limit at all\n    };\n    // Limits the given grid row to the maximum number of levels and injects \"more\" links if necessary.\n    // `row` is the row number.\n    // `levelLimit` is a number for the maximum (inclusive) number of levels allowed.\n    DayGrid.prototype.limitRow = function (row, levelLimit) {\n        var _this = this;\n        var colCnt = this.colCnt;\n        var isRtl = this.context.isRtl;\n        var rowStruct = this.eventRenderer.rowStructs[row];\n        var moreNodes = []; // array of \"more\" <a> links and <td> DOM nodes\n        var col = 0; // col #, left-to-right (not chronologically)\n        var levelSegs; // array of segment objects in the last allowable level, ordered left-to-right\n        var cellMatrix; // a matrix (by level, then column) of all <td> elements in the row\n        var limitedNodes; // array of temporarily hidden level <tr> and segment <td> DOM nodes\n        var i;\n        var seg;\n        var segsBelow; // array of segment objects below `seg` in the current `col`\n        var totalSegsBelow; // total number of segments below `seg` in any of the columns `seg` occupies\n        var colSegsBelow; // array of segment arrays, below seg, one for each column (offset from segs's first column)\n        var td;\n        var rowSpan;\n        var segMoreNodes; // array of \"more\" <td> cells that will stand-in for the current seg's cell\n        var j;\n        var moreTd;\n        var moreWrap;\n        var moreLink;\n        // Iterates through empty level cells and places \"more\" links inside if need be\n        var emptyCellsUntil = function (endCol) {\n            while (col < endCol) {\n                segsBelow = _this.getCellSegs(row, col, levelLimit);\n                if (segsBelow.length) {\n                    td = cellMatrix[levelLimit - 1][col];\n                    moreLink = _this.renderMoreLink(row, col, segsBelow);\n                    moreWrap = createElement('div', null, moreLink);\n                    td.appendChild(moreWrap);\n                    moreNodes.push(moreWrap);\n                }\n                col++;\n            }\n        };\n        if (levelLimit && levelLimit < rowStruct.segLevels.length) { // is it actually over the limit?\n            levelSegs = rowStruct.segLevels[levelLimit - 1];\n            cellMatrix = rowStruct.cellMatrix;\n            limitedNodes = findChildren(rowStruct.tbodyEl).slice(levelLimit); // get level <tr> elements past the limit\n            limitedNodes.forEach(function (node) {\n                node.classList.add('fc-limited'); // hide elements and get a simple DOM-nodes array\n            });\n            // iterate though segments in the last allowable level\n            for (i = 0; i < levelSegs.length; i++) {\n                seg = levelSegs[i];\n                var leftCol = isRtl ? (colCnt - 1 - seg.lastCol) : seg.firstCol;\n                var rightCol = isRtl ? (colCnt - 1 - seg.firstCol) : seg.lastCol;\n                emptyCellsUntil(leftCol); // process empty cells before the segment\n                // determine *all* segments below `seg` that occupy the same columns\n                colSegsBelow = [];\n                totalSegsBelow = 0;\n                while (col <= rightCol) {\n                    segsBelow = this.getCellSegs(row, col, levelLimit);\n                    colSegsBelow.push(segsBelow);\n                    totalSegsBelow += segsBelow.length;\n                    col++;\n                }\n                if (totalSegsBelow) { // do we need to replace this segment with one or many \"more\" links?\n                    td = cellMatrix[levelLimit - 1][leftCol]; // the segment's parent cell\n                    rowSpan = td.rowSpan || 1;\n                    segMoreNodes = [];\n                    // make a replacement <td> for each column the segment occupies. will be one for each colspan\n                    for (j = 0; j < colSegsBelow.length; j++) {\n                        moreTd = createElement('td', { className: 'fc-more-cell', rowSpan: rowSpan });\n                        segsBelow = colSegsBelow[j];\n                        moreLink = this.renderMoreLink(row, leftCol + j, [seg].concat(segsBelow) // count seg as hidden too\n                        );\n                        moreWrap = createElement('div', null, moreLink);\n                        moreTd.appendChild(moreWrap);\n                        segMoreNodes.push(moreTd);\n                        moreNodes.push(moreTd);\n                    }\n                    td.classList.add('fc-limited');\n                    insertAfterElement(td, segMoreNodes);\n                    limitedNodes.push(td);\n                }\n            }\n            emptyCellsUntil(this.colCnt); // finish off the level\n            rowStruct.moreEls = moreNodes; // for easy undoing later\n            rowStruct.limitedEls = limitedNodes; // for easy undoing later\n        }\n    };\n    // Reveals all levels and removes all \"more\"-related elements for a grid's row.\n    // `row` is a row number.\n    DayGrid.prototype.unlimitRow = function (row) {\n        var rowStruct = this.eventRenderer.rowStructs[row];\n        if (rowStruct.moreEls) {\n            rowStruct.moreEls.forEach(removeElement);\n            rowStruct.moreEls = null;\n        }\n        if (rowStruct.limitedEls) {\n            rowStruct.limitedEls.forEach(function (limitedEl) {\n                limitedEl.classList.remove('fc-limited');\n            });\n            rowStruct.limitedEls = null;\n        }\n    };\n    // Renders an <a> element that represents hidden event element for a cell.\n    // Responsible for attaching click handler as well.\n    DayGrid.prototype.renderMoreLink = function (row, col, hiddenSegs) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, view = _a.view, dateEnv = _a.dateEnv, options = _a.options, isRtl = _a.isRtl;\n        var a = createElement('a', { className: 'fc-more' });\n        a.innerText = this.getMoreLinkText(hiddenSegs.length);\n        a.addEventListener('click', function (ev) {\n            var clickOption = options.eventLimitClick;\n            var _col = isRtl ? _this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n            var date = _this.props.cells[row][_col].date;\n            var moreEl = ev.currentTarget;\n            var dayEl = _this.getCellEl(row, col);\n            var allSegs = _this.getCellSegs(row, col);\n            // rescope the segments to be within the cell's date\n            var reslicedAllSegs = _this.resliceDaySegs(allSegs, date);\n            var reslicedHiddenSegs = _this.resliceDaySegs(hiddenSegs, date);\n            if (typeof clickOption === 'function') {\n                // the returned value can be an atomic option\n                clickOption = calendar.publiclyTrigger('eventLimitClick', [\n                    {\n                        date: dateEnv.toDate(date),\n                        allDay: true,\n                        dayEl: dayEl,\n                        moreEl: moreEl,\n                        segs: reslicedAllSegs,\n                        hiddenSegs: reslicedHiddenSegs,\n                        jsEvent: ev,\n                        view: view\n                    }\n                ]);\n            }\n            if (clickOption === 'popover') {\n                _this.showSegPopover(row, col, moreEl, reslicedAllSegs);\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                calendar.zoomTo(date, clickOption);\n            }\n        });\n        return a;\n    };\n    // Reveals the popover that displays all events within a cell\n    DayGrid.prototype.showSegPopover = function (row, col, moreLink, segs) {\n        var _this = this;\n        var _a = this.context, calendar = _a.calendar, view = _a.view, theme = _a.theme, isRtl = _a.isRtl;\n        var _col = isRtl ? this.colCnt - col - 1 : col; // HACK: props.cells has different dir system?\n        var moreWrap = moreLink.parentNode; // the <div> wrapper around the <a>\n        var topEl; // the element we want to match the top coordinate of\n        var options;\n        if (this.rowCnt === 1) {\n            topEl = view.el; // will cause the popover to cover any sort of header\n        }\n        else {\n            topEl = this.rowEls[row]; // will align with top of row\n        }\n        options = {\n            className: 'fc-more-popover ' + theme.getClass('popover'),\n            parentEl: view.el,\n            top: computeRect(topEl).top,\n            autoHide: true,\n            content: function (el) {\n                _this.segPopoverTile = new DayTile(el);\n                _this.updateSegPopoverTile(_this.props.cells[row][_col].date, segs);\n            },\n            hide: function () {\n                _this.segPopoverTile.destroy();\n                _this.segPopoverTile = null;\n                _this.segPopover.destroy();\n                _this.segPopover = null;\n            }\n        };\n        // Determine horizontal coordinate.\n        // We use the moreWrap instead of the <td> to avoid border confusion.\n        if (isRtl) {\n            options.right = computeRect(moreWrap).right + 1; // +1 to be over cell border\n        }\n        else {\n            options.left = computeRect(moreWrap).left - 1; // -1 to be over cell border\n        }\n        this.segPopover = new Popover(options);\n        this.segPopover.show();\n        calendar.releaseAfterSizingTriggers(); // hack for eventPositioned\n    };\n    // Given the events within an array of segment objects, reslice them to be in a single day\n    DayGrid.prototype.resliceDaySegs = function (segs, dayDate) {\n        var dayStart = dayDate;\n        var dayEnd = addDays(dayStart, 1);\n        var dayRange = { start: dayStart, end: dayEnd };\n        var newSegs = [];\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg = segs_1[_i];\n            var eventRange = seg.eventRange;\n            var origRange = eventRange.range;\n            var slicedRange = intersectRanges(origRange, dayRange);\n            if (slicedRange) {\n                newSegs.push(__assign({}, seg, { eventRange: {\n                        def: eventRange.def,\n                        ui: __assign({}, eventRange.ui, { durationEditable: false }),\n                        instance: eventRange.instance,\n                        range: slicedRange\n                    }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n            }\n        }\n        return newSegs;\n    };\n    // Generates the text that should be inside a \"more\" link, given the number of events it represents\n    DayGrid.prototype.getMoreLinkText = function (num) {\n        var opt = this.context.options.eventLimitText;\n        if (typeof opt === 'function') {\n            return opt(num);\n        }\n        else {\n            return '+' + num + ' ' + opt;\n        }\n    };\n    // Returns segments within a given cell.\n    // If `startLevel` is specified, returns only events including and below that level. Otherwise returns all segs.\n    DayGrid.prototype.getCellSegs = function (row, col, startLevel) {\n        var segMatrix = this.eventRenderer.rowStructs[row].segMatrix;\n        var level = startLevel || 0;\n        var segs = [];\n        var seg;\n        while (level < segMatrix.length) {\n            seg = segMatrix[level][col];\n            if (seg) {\n                segs.push(seg);\n            }\n            level++;\n        }\n        return segs;\n    };\n    return DayGrid;\n}(DateComponent));\n\nvar WEEK_NUM_FORMAT$1 = createFormatter({ week: 'numeric' });\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a DayGrid subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar AbstractDayGridView = /** @class */ (function (_super) {\n    __extends(AbstractDayGridView, _super);\n    function AbstractDayGridView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processOptions = memoize(_this._processOptions);\n        _this.renderSkeleton = memoizeRendering(_this._renderSkeleton, _this._unrenderSkeleton);\n        /* Header Rendering\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Generates the HTML that will go before the day-of week header cells\n        _this.renderHeadIntroHtml = function () {\n            var _a = _this.context, theme = _a.theme, options = _a.options;\n            if (_this.colWeekNumbersVisible) {\n                return '' +\n                    '<th class=\"fc-week-number ' + theme.getClass('widgetHeader') + '\" ' + _this.weekNumberStyleAttr() + '>' +\n                    '<span>' + // needed for matchCellWidths\n                    htmlEscape(options.weekLabel) +\n                    '</span>' +\n                    '</th>';\n            }\n            return '';\n        };\n        /* Day Grid Rendering\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Generates the HTML that will go before content-skeleton cells that display the day/week numbers\n        _this.renderDayGridNumberIntroHtml = function (row, dayGrid) {\n            var _a = _this.context, options = _a.options, dateEnv = _a.dateEnv;\n            var weekStart = dayGrid.props.cells[row][0].date;\n            if (_this.colWeekNumbersVisible) {\n                return '' +\n                    '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '>' +\n                    buildGotoAnchorHtml(// aside from link, important for matchCellWidths\n                    options, dateEnv, { date: weekStart, type: 'week', forceOff: dayGrid.colCnt === 1 }, dateEnv.format(weekStart, WEEK_NUM_FORMAT$1) // inner HTML\n                    ) +\n                    '</td>';\n            }\n            return '';\n        };\n        // Generates the HTML that goes before the day bg cells for each day-row\n        _this.renderDayGridBgIntroHtml = function () {\n            var theme = _this.context.theme;\n            if (_this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number ' + theme.getClass('widgetContent') + '\" ' + _this.weekNumberStyleAttr() + '></td>';\n            }\n            return '';\n        };\n        // Generates the HTML that goes before every other type of row generated by DayGrid.\n        // Affects mirror-skeleton and highlight-skeleton rows.\n        _this.renderDayGridIntroHtml = function () {\n            if (_this.colWeekNumbersVisible) {\n                return '<td class=\"fc-week-number\" ' + _this.weekNumberStyleAttr() + '></td>';\n            }\n            return '';\n        };\n        return _this;\n    }\n    AbstractDayGridView.prototype._processOptions = function (options) {\n        if (options.weekNumbers) {\n            if (options.weekNumbersWithinDays) {\n                this.cellWeekNumbersVisible = true;\n                this.colWeekNumbersVisible = false;\n            }\n            else {\n                this.cellWeekNumbersVisible = false;\n                this.colWeekNumbersVisible = true;\n            }\n        }\n        else {\n            this.colWeekNumbersVisible = false;\n            this.cellWeekNumbersVisible = false;\n        }\n    };\n    AbstractDayGridView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context);\n        this.processOptions(context.options);\n        this.renderSkeleton(context);\n    };\n    AbstractDayGridView.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.renderSkeleton.unrender();\n    };\n    AbstractDayGridView.prototype._renderSkeleton = function (context) {\n        this.el.classList.add('fc-dayGrid-view');\n        this.el.innerHTML = this.renderSkeletonHtml();\n        this.scroller = new ScrollComponent('hidden', // overflow x\n        'auto' // overflow y\n        );\n        var dayGridContainerEl = this.scroller.el;\n        this.el.querySelector('.fc-body > tr > td').appendChild(dayGridContainerEl);\n        dayGridContainerEl.classList.add('fc-day-grid-container');\n        var dayGridEl = createElement('div', { className: 'fc-day-grid' });\n        dayGridContainerEl.appendChild(dayGridEl);\n        this.dayGrid = new DayGrid(dayGridEl, {\n            renderNumberIntroHtml: this.renderDayGridNumberIntroHtml,\n            renderBgIntroHtml: this.renderDayGridBgIntroHtml,\n            renderIntroHtml: this.renderDayGridIntroHtml,\n            colWeekNumbersVisible: this.colWeekNumbersVisible,\n            cellWeekNumbersVisible: this.cellWeekNumbersVisible\n        });\n    };\n    AbstractDayGridView.prototype._unrenderSkeleton = function () {\n        this.el.classList.remove('fc-dayGrid-view');\n        this.dayGrid.destroy();\n        this.scroller.destroy();\n    };\n    // Builds the HTML skeleton for the view.\n    // The day-grid component will render inside of a container defined by this HTML.\n    AbstractDayGridView.prototype.renderSkeletonHtml = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        return '' +\n            '<table class=\"' + theme.getClass('tableGrid') + '\">' +\n            (options.columnHeader ?\n                '<thead class=\"fc-head\">' +\n                    '<tr>' +\n                    '<td class=\"fc-head-container ' + theme.getClass('widgetHeader') + '\">&nbsp;</td>' +\n                    '</tr>' +\n                    '</thead>' :\n                '') +\n            '<tbody class=\"fc-body\">' +\n            '<tr>' +\n            '<td class=\"' + theme.getClass('widgetContent') + '\"></td>' +\n            '</tr>' +\n            '</tbody>' +\n            '</table>';\n    };\n    // Generates an HTML attribute string for setting the width of the week number column, if it is known\n    AbstractDayGridView.prototype.weekNumberStyleAttr = function () {\n        if (this.weekNumberWidth != null) {\n            return 'style=\"width:' + this.weekNumberWidth + 'px\"';\n        }\n        return '';\n    };\n    // Determines whether each row should have a constant height\n    AbstractDayGridView.prototype.hasRigidRows = function () {\n        var eventLimit = this.context.options.eventLimit;\n        return eventLimit && typeof eventLimit !== 'number';\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    AbstractDayGridView.prototype.updateSize = function (isResize, viewHeight, isAuto) {\n        _super.prototype.updateSize.call(this, isResize, viewHeight, isAuto); // will call updateBaseSize. important that executes first\n        this.dayGrid.updateSize(isResize);\n    };\n    // Refreshes the horizontal dimensions of the view\n    AbstractDayGridView.prototype.updateBaseSize = function (isResize, viewHeight, isAuto) {\n        var dayGrid = this.dayGrid;\n        var eventLimit = this.context.options.eventLimit;\n        var headRowEl = this.header ? this.header.el : null; // HACK\n        var scrollerHeight;\n        var scrollbarWidths;\n        // hack to give the view some height prior to dayGrid's columns being rendered\n        // TODO: separate setting height from scroller VS dayGrid.\n        if (!dayGrid.rowEls) {\n            if (!isAuto) {\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\n                this.scroller.setHeight(scrollerHeight);\n            }\n            return;\n        }\n        if (this.colWeekNumbersVisible) {\n            // Make sure all week number cells running down the side have the same width.\n            this.weekNumberWidth = matchCellWidths(findElements(this.el, '.fc-week-number'));\n        }\n        // reset all heights to be natural\n        this.scroller.clear();\n        if (headRowEl) {\n            uncompensateScroll(headRowEl);\n        }\n        dayGrid.removeSegPopover(); // kill the \"more\" popover if displayed\n        // is the event limit a constant level number?\n        if (eventLimit && typeof eventLimit === 'number') {\n            dayGrid.limitRows(eventLimit); // limit the levels first so the height can redistribute after\n        }\n        // distribute the height to the rows\n        // (viewHeight is a \"recommended\" value if isAuto)\n        scrollerHeight = this.computeScrollerHeight(viewHeight);\n        this.setGridHeight(scrollerHeight, isAuto);\n        // is the event limit dynamically calculated?\n        if (eventLimit && typeof eventLimit !== 'number') {\n            dayGrid.limitRows(eventLimit); // limit the levels after the grid's row heights have been set\n        }\n        if (!isAuto) { // should we force dimensions of the scroll container?\n            this.scroller.setHeight(scrollerHeight);\n            scrollbarWidths = this.scroller.getScrollbarWidths();\n            if (scrollbarWidths.left || scrollbarWidths.right) { // using scrollbars?\n                if (headRowEl) {\n                    compensateScroll(headRowEl, scrollbarWidths);\n                }\n                // doing the scrollbar compensation might have created text overflow which created more height. redo\n                scrollerHeight = this.computeScrollerHeight(viewHeight);\n                this.scroller.setHeight(scrollerHeight);\n            }\n            // guarantees the same scrollbar widths\n            this.scroller.lockOverflow(scrollbarWidths);\n        }\n    };\n    // given a desired total height of the view, returns what the height of the scroller should be\n    AbstractDayGridView.prototype.computeScrollerHeight = function (viewHeight) {\n        return viewHeight -\n            subtractInnerElHeight(this.el, this.scroller.el); // everything that's NOT the scroller\n    };\n    // Sets the height of just the DayGrid component in this view\n    AbstractDayGridView.prototype.setGridHeight = function (height, isAuto) {\n        if (this.context.options.monthMode) {\n            // if auto, make the height of each row the height that it would be if there were 6 weeks\n            if (isAuto) {\n                height *= this.dayGrid.rowCnt / 6;\n            }\n            distributeHeight(this.dayGrid.rowEls, height, !isAuto); // if auto, don't compensate for height-hogging rows\n        }\n        else {\n            if (isAuto) {\n                undistributeHeight(this.dayGrid.rowEls); // let the rows be their natural height with no expanding\n            }\n            else {\n                distributeHeight(this.dayGrid.rowEls, height, true); // true = compensate for height-hogging rows\n            }\n        }\n    };\n    /* Scroll\n    ------------------------------------------------------------------------------------------------------------------*/\n    AbstractDayGridView.prototype.computeDateScroll = function (duration) {\n        return { top: 0 };\n    };\n    AbstractDayGridView.prototype.queryDateScroll = function () {\n        return { top: this.scroller.getScrollTop() };\n    };\n    AbstractDayGridView.prototype.applyDateScroll = function (scroll) {\n        if (scroll.top !== undefined) {\n            this.scroller.setScrollTop(scroll.top);\n        }\n    };\n    return AbstractDayGridView;\n}(View));\nAbstractDayGridView.prototype.dateProfileGeneratorClass = DayGridDateProfileGenerator;\n\nvar SimpleDayGrid = /** @class */ (function (_super) {\n    __extends(SimpleDayGrid, _super);\n    function SimpleDayGrid(dayGrid) {\n        var _this = _super.call(this, dayGrid.el) || this;\n        _this.slicer = new DayGridSlicer();\n        _this.dayGrid = dayGrid;\n        return _this;\n    }\n    SimpleDayGrid.prototype.firstContext = function (context) {\n        context.calendar.registerInteractiveComponent(this, { el: this.dayGrid.el });\n    };\n    SimpleDayGrid.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.context.calendar.unregisterInteractiveComponent(this);\n    };\n    SimpleDayGrid.prototype.render = function (props, context) {\n        var dayGrid = this.dayGrid;\n        var dateProfile = props.dateProfile, dayTable = props.dayTable;\n        dayGrid.receiveProps(__assign({}, this.slicer.sliceProps(props, dateProfile, props.nextDayThreshold, context.calendar, dayGrid, dayTable), { dateProfile: dateProfile, cells: dayTable.cells, isRigid: props.isRigid }), context);\n    };\n    SimpleDayGrid.prototype.buildPositionCaches = function () {\n        this.dayGrid.buildPositionCaches();\n    };\n    SimpleDayGrid.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.dayGrid.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this.dayGrid,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom\n                },\n                layer: 0\n            };\n        }\n    };\n    return SimpleDayGrid;\n}(DateComponent));\nvar DayGridSlicer = /** @class */ (function (_super) {\n    __extends(DayGridSlicer, _super);\n    function DayGridSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayGridSlicer.prototype.sliceRange = function (dateRange, dayTable) {\n        return dayTable.sliceRange(dateRange);\n    };\n    return DayGridSlicer;\n}(Slicer));\n\nvar DayGridView = /** @class */ (function (_super) {\n    __extends(DayGridView, _super);\n    function DayGridView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTable = memoize(buildDayTable);\n        return _this;\n    }\n    DayGridView.prototype.render = function (props, context) {\n        _super.prototype.render.call(this, props, context); // will call _renderSkeleton/_unrenderSkeleton\n        var dateProfile = this.props.dateProfile;\n        var dayTable = this.dayTable =\n            this.buildDayTable(dateProfile, props.dateProfileGenerator);\n        if (this.header) {\n            this.header.receiveProps({\n                dateProfile: dateProfile,\n                dates: dayTable.headerDates,\n                datesRepDistinctDays: dayTable.rowCnt === 1,\n                renderIntroHtml: this.renderHeadIntroHtml\n            }, context);\n        }\n        this.simpleDayGrid.receiveProps({\n            dateProfile: dateProfile,\n            dayTable: dayTable,\n            businessHours: props.businessHours,\n            dateSelection: props.dateSelection,\n            eventStore: props.eventStore,\n            eventUiBases: props.eventUiBases,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isRigid: this.hasRigidRows(),\n            nextDayThreshold: this.context.nextDayThreshold\n        }, context);\n    };\n    DayGridView.prototype._renderSkeleton = function (context) {\n        _super.prototype._renderSkeleton.call(this, context);\n        if (context.options.columnHeader) {\n            this.header = new DayHeader(this.el.querySelector('.fc-head-container'));\n        }\n        this.simpleDayGrid = new SimpleDayGrid(this.dayGrid);\n    };\n    DayGridView.prototype._unrenderSkeleton = function () {\n        _super.prototype._unrenderSkeleton.call(this);\n        if (this.header) {\n            this.header.destroy();\n        }\n        this.simpleDayGrid.destroy();\n    };\n    return DayGridView;\n}(AbstractDayGridView));\nfunction buildDayTable(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeries(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTable(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar main = createPlugin({\n    defaultView: 'dayGridMonth',\n    views: {\n        dayGrid: DayGridView,\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 }\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 }\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true\n        }\n    }\n});\n\nexport default main;\nexport { AbstractDayGridView, DayBgRow, DayGrid, DayGridSlicer, DayGridView, SimpleDayGrid, buildDayTable as buildBasicDayTable };\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport './main.scss' // webpack must be configured to do this\r\n/**\r\n * ExampleComponent is an example component.\r\n * It takes a property, `label`, and\r\n * displays it.\r\n * It renders an input with the property `value`\r\n * which is editable by the user.\r\n */\r\nexport default class DashFullCalendar extends React.Component {\r\n    render() {\r\n        // const {id, label, setProps, value} = this.props;\r\n\r\n        return (\r\n            // <div id={id}>\r\n            //     ExampleComponent: {label}&nbsp;\r\n            //     <input\r\n            //         value={value}\r\n            //         onChange={\r\n            //             /*\r\n            //              * Send the new value to the parent component.\r\n            //              * setProps is a prop that is automatically supplied\r\n            //              * by dash's front-end (\"dash-renderer\").\r\n            //              * In a Dash app, this will update the component's\r\n            //              * props and send the data back to the Python Dash\r\n            //              * app server if a callback uses the modified prop as\r\n            //              * Input or State.\r\n            //              */\r\n            //             e => setProps({ value: e.target.value })\r\n            //         }\r\n            //     />\r\n            // </div>\r\n            <FullCalendar defaultView=\"dayGridMonth\" plugins={[ dayGridPlugin ]} />\r\n\r\n        );\r\n    }\r\n}\r\n\r\nDashFullCalendar.defaultProps = {};\r\n\r\nDashFullCalendar.propTypes = {\r\n    /**\r\n     * The ID used to identify this component in Dash callbacks.\r\n     */\r\n    id: PropTypes.string,\r\n\r\n    /**\r\n     * A label that will be printed when this component is rendered.\r\n     */\r\n    label: PropTypes.string.isRequired,\r\n\r\n    /**\r\n     * The value displayed in the input.\r\n     */\r\n    value: PropTypes.string,\r\n\r\n    /**\r\n     * Dash-assigned callback that should be called to report property changes\r\n     * to Dash, to make them available for callbacks.\r\n     */\r\n    setProps: PropTypes.func\r\n};\r\n","/* eslint-disable import/prefer-default-export */\r\nimport DashFullCalendar from './components/DashFullCalendar.react';\r\n\r\nexport {\r\n    DashFullCalendar\r\n};\r\n"],"sourceRoot":""}